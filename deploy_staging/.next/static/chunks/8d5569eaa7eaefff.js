(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let s=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>s],37727)},56909,e=>{"use strict";let s=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],56909)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},92930,e=>{"use strict";let s=(0,e.i(75254).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>s],92930)},51364,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(78481),l=e.i(88653),r=e.i(7233),i=e.i(55436),n=e.i(92930),o=e.i(27612),d=e.i(56909),c=e.i(37727),u=e.i(84614),x=e.i(98643);function m(){let[e,m]=(0,t.useState)([]),[h,b]=(0,t.useState)([]),[p,f]=(0,t.useState)(!0),[g,j]=(0,t.useState)(null),[v,y]=(0,t.useState)(""),{showConfirm:N,showAlert:w}=(0,x.useConfirm)(),[k,S]=(0,t.useState)(!1),[C,K]=(0,t.useState)(!1),[T,z]=(0,t.useState)({id:0,name:"",username:"",email:"",phone:"",studentId:"",role:"user",clubId:void 0,password:""}),[I,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{A(),P()},[]);let A=async()=>{try{j(null);let e=await fetch("/api/users",{credentials:"include",cache:"no-store"});if(!e.ok){let s=await e.json();throw Error(s.error||`HTTP ${e.status}`)}let s=await e.json();m(Array.isArray(s)?s:[])}catch(e){console.error("Failed to fetch users:",e),j(e.message||"Failed to load users")}finally{f(!1)}},P=async()=>{try{let e=await fetch("/api/clubs"),s=await e.json();b(Array.isArray(s)?s:[])}catch(e){console.error("Failed to fetch clubs:",e)}},O=async s=>{if(await N({title:"KullanÄ±cÄ± Silme OnayÄ±",message:"Bu kullanÄ±cÄ±yÄ± silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger",confirmText:"Sil",cancelText:"VazgeÃ§"}))try{let t=await fetch("/api/users/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})});if(t.ok)m(e.filter(e=>e.id!==s));else{let e=await t.json();await w(e.error||"Silme iÅŸlemi baÅŸarÄ±sÄ±z.","danger")}}catch(e){await w(e.message||"Hata oluÅŸtu.","danger")}},B=async e=>{if(e.preventDefault(),M(!0),T.password&&T.password.length<8){await w("Åžifre en az 8 karakter olmalÄ±dÄ±r.","warning"),M(!1);return}try{let e=await fetch("/api/users",{method:C?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(e.ok)await A(),S(!1),await w(C?"KullanÄ±cÄ± gÃ¼ncellendi.":"KullanÄ±cÄ± oluÅŸturuldu.","success");else{let s=await e.json();await w(s.error||"Ä°ÅŸlem baÅŸarÄ±sÄ±z.","danger")}}catch(e){await w("Hata oluÅŸtu.","danger")}finally{M(!1)}},H=e.filter(e=>e.name?.toLowerCase().includes(v.toLowerCase())||e.username?.toLowerCase().includes(v.toLowerCase())||e.email?.toLowerCase().includes(v.toLowerCase()));return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"KullanÄ±cÄ± YÃ¶netimi"}),(0,s.jsxs)("button",{onClick:()=>{z({id:0,name:"",username:"",email:"",phone:"",studentId:"",role:"user",clubId:void 0,password:""}),K(!1),S(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors",children:[(0,s.jsx)(r.Plus,{className:"w-5 h-5"})," Yeni KullanÄ±cÄ±"]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",placeholder:"KullanÄ±cÄ± adÄ±, isim veya e-posta ara...",value:v,onChange:e=>y(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all font-medium text-slate-800"})]}),(0,s.jsx)("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-500 text-xs uppercase font-bold",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"p-4",children:"KullanÄ±cÄ±"}),(0,s.jsx)("th",{className:"p-4",children:"Ä°letiÅŸim"}),(0,s.jsx)("th",{className:"p-4",children:"Rol"}),(0,s.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:p?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."})}):g?(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:4,className:"p-8 text-center text-red-500 font-bold",children:["Hata: ",g]})}):0===H.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"KullanÄ±cÄ± bulunamadÄ±."})}):H.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group",children:[(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400",children:(0,s.jsx)(u.User,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-slate-800",children:e.name||"Ä°simsiz"}),(0,s.jsxs)("div",{className:"text-xs text-slate-500",children:["@",e.username]}),e.studentId&&(0,s.jsxs)("div",{className:"text-xs text-blue-500 font-medium",children:["#",e.studentId]})]})]})}),(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsx)("div",{className:"text-sm text-slate-600",children:e.email}),(0,s.jsx)("div",{className:"text-xs text-slate-400",children:e.phone})]}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:`px-2 py-1 rounded-md text-xs font-bold ${"super_admin"===e.role?"bg-red-100 text-red-600":"club_admin"===e.role?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:e.role}),"club_admin"===e.role&&e.clubId&&(0,s.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["ðŸ›ï¸ ",h.find(s=>s.id===e.clubId)?.name||`Kul\xfcp #${e.clubId}`]})]})}),(0,s.jsx)("td",{className:"p-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,s.jsx)("button",{onClick:()=>{z({...e,password:""}),K(!0),S(!0)},className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 hover:text-blue-600 transition-colors",children:(0,s.jsx)(n.Edit2,{className:"w-4 h-4"})}),"1"!==String(e.id)&&"admin"!==e.username&&(0,s.jsx)("button",{onClick:()=>O(e.id),className:"p-2 hover:bg-red-100 rounded-lg text-slate-500 hover:text-red-600 transition-colors",children:(0,s.jsx)(o.Trash2,{className:"w-4 h-4"})})]})})]},e.id))})]})}),(0,s.jsx)(l.AnimatePresence,{children:k&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>S(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,s.jsxs)(a.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl w-full max-w-lg relative z-10 shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:C?"KullanÄ±cÄ± DÃ¼zenle":"Yeni KullanÄ±cÄ±"}),(0,s.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-slate-200 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",children:(0,s.jsx)(c.X,{className:"w-5 h-5"})})]}),(0,s.jsxs)("form",{onSubmit:B,className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ad Soyad"}),(0,s.jsx)("input",{type:"text",required:!0,value:T.name,onChange:e=>z({...T,name:e.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KullanÄ±cÄ± AdÄ±"}),(0,s.jsx)("input",{type:"text",required:!0,value:T.username,onChange:e=>z({...T,username:e.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ã–ÄŸrenci No (Opsiyonel)"}),(0,s.jsx)("input",{type:"text",value:T.studentId,onChange:e=>z({...T,studentId:e.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"E-posta"}),(0,s.jsx)("input",{type:"email",required:!0,value:T.email,onChange:e=>z({...T,email:e.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Telefon"}),(0,s.jsx)("input",{type:"tel",value:T.phone,onChange:e=>z({...T,phone:e.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Rol"}),(0,s.jsxs)("select",{value:T.role,onChange:e=>z({...T,role:e.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all",children:[(0,s.jsx)("option",{value:"user",children:"Ã–ÄŸrenci / KullanÄ±cÄ±"}),(0,s.jsx)("option",{value:"club_admin",children:"KulÃ¼p YÃ¶neticisi"}),(0,s.jsx)("option",{value:"super_admin",children:"SÃ¼per Admin"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:["Åžifre ",C&&"(BoÅŸ BÄ±rakÄ±labilir)"]}),(0,s.jsx)("input",{type:"password",value:T.password,onChange:e=>z({...T,password:e.target.value}),placeholder:C?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]})]}),"club_admin"===T.role&&(0,s.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-orange-700 mb-2",children:"YÃ¶netilen KulÃ¼p *"}),(0,s.jsxs)("select",{required:!0,value:T.clubId||"",onChange:e=>z({...T,clubId:e.target.value?parseInt(e.target.value):void 0}),className:"w-full bg-white border border-orange-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",children:[(0,s.jsx)("option",{value:"",children:"KulÃ¼p SeÃ§iniz..."}),h.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,s.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"ðŸ’¡ Bu kullanÄ±cÄ± sadece seÃ§ilen kulÃ¼bÃ¼ yÃ¶netebilecektir."})]}),(0,s.jsxs)("div",{className:"pt-4 flex justify-end gap-3 border-t border-slate-100",children:[(0,s.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 rounded-xl font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-colors",children:"Ä°ptal"}),(0,s.jsxs)("button",{type:"submit",disabled:I,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-xl font-bold transition-colors disabled:opacity-50 flex items-center gap-2",children:[(0,s.jsx)(d.Save,{className:"w-4 h-4"}),I?"Kaydediliyor...":"Kaydet"]})]})]})]})]})})]})}e.s(["default",()=>m])}]);