(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let l=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>l],37727)},63209,e=>{"use strict";let l=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>l],63209)},7233,e=>{"use strict";let l=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>l],7233)},27612,e=>{"use strict";let l=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>l],27612)},69074,e=>{"use strict";let l=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>l],69074)},20740,e=>{"use strict";var l=e.i(43476),s=e.i(71645),t=e.i(7233),a=e.i(27612),r=e.i(69638),i=e.i(63209),o=e.i(37727);let d=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var n=e.i(69074);function c(){let[e,c]=(0,s.useState)([]),[u,x]=(0,s.useState)([]),[h,m]=(0,s.useState)("clubs"),[b,p]=(0,s.useState)(!0),[j,g]=(0,s.useState)(!1),[f,N]=(0,s.useState)({name:"",slug:"",category:"",description:"",logo:""}),[v,y]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),[C,S]=(0,s.useState)({username:"",password:"",role:"club_admin",clubId:""}),[K,T]=(0,s.useState)(null),M=(e,l="success")=>{T({type:l,message:e}),setTimeout(()=>T(null),3e3)};(0,s.useEffect)(()=>{A()},[]);let A=async()=>{p(!0);try{let[e,l]=await Promise.all([fetch("/api/clubs"),fetch("/api/users")]);e.ok&&c(await e.json()),l.ok&&x(await l.json())}catch(e){console.error("Failed to fetch data")}finally{p(!1)}},z=async e=>{let l=e.target.files?.[0];if(l){if(!l.type.startsWith("image/"))return void M("LÃ¼tfen bir resim dosyasÄ± seÃ§in.","error");if(l.size>2097152)return void M("Resim boyutu 2MB'den kÃ¼Ã§Ã¼k olmalÄ±dÄ±r.","error");y(!0);try{let e=new FormData;e.append("file",l);let s=await fetch("/api/upload",{method:"POST",body:e});if(s.ok){let{url:e}=await s.json();N({...f,logo:e}),M("Logo yÃ¼klendi!")}else M("YÃ¼kleme baÅŸarÄ±sÄ±z.","error")}catch(e){M("Hata oluÅŸtu.","error")}finally{y(!1)}}},Y=async l=>{l.preventDefault();try{let l={...f,longDescription:f.description,president:{name:"AtanmadÄ±",email:"",avatar:"ðŸ‘¤"},socialMedia:{},meetingDay:"Belirlenmedi",meetingLocation:"Belirlenmedi",isActive:!0,gallery:[],memberCount:0,foundedYear:new Date().getFullYear()},s=await fetch("/api/clubs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(s.ok){let l=await s.json();c([...e,l]),M("Yeni kulÃ¼p oluÅŸturuldu."),g(!1),N({name:"",slug:"",category:"",description:"",logo:""})}else{let e=await s.json(),l=e.details?e.details.map(e=>e.message).join(", "):e.error||"KulÃ¼p oluÅŸturulamadÄ±.";M(l,"error")}}catch(e){M("Hata oluÅŸtu.","error")}},_=async l=>{if(confirm("Bu kulÃ¼bÃ¼ ve baÄŸlÄ± tÃ¼m iÃ§erikleri silmek istediÄŸinize emin misiniz?"))try{(await fetch(`/api/clubs?id=${l}`,{method:"DELETE"})).ok?(c(e.filter(e=>e.id!==l)),M("KulÃ¼p silindi.")):M("Silinirken hata oluÅŸtu.","error")}catch(e){M("Hata oluÅŸtu.","error")}},E=async e=>{e.preventDefault();try{let e={...C,clubId:"club_admin"===C.role?Number(C.clubId):void 0},l=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(l.ok){let e=await l.json();x([...u,e]),M("KullanÄ±cÄ± oluÅŸturuldu."),k(!1),S({username:"",password:"",role:"club_admin",clubId:""})}else{let e=await l.json();M(e.error||"OluÅŸturulamadÄ±.","error")}}catch(e){M("Hata oluÅŸtu.","error")}},H=async e=>{if(confirm("Bu kullanÄ±cÄ±yÄ± silmek istediÄŸinize emin misiniz?"))try{let l=await fetch(`/api/users?id=${e}`,{method:"DELETE"});if(l.ok)x(u.filter(l=>l.id!==e)),M("KullanÄ±cÄ± silindi.");else{let e=await l.json();M(e.error||"Silinemedi.","error")}}catch(e){M("Hata oluÅŸtu.","error")}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"KulÃ¼p & Hesap YÃ¶netimi"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{onClick:()=>m("clubs"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${"clubs"===h?"bg-blue-950 text-white":"bg-white text-slate-500 hover:bg-slate-100"}`,children:"KulÃ¼pler"}),(0,l.jsx)("button",{onClick:()=>m("users"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${"users"===h?"bg-blue-950 text-white":"bg-white text-slate-500 hover:bg-slate-100"}`,children:"KullanÄ±cÄ±lar"})]})]}),K&&(0,l.jsxs)("div",{className:`p-4 rounded-xl flex items-center gap-3 font-bold border ${"success"===K.type?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:["success"===K.type?(0,l.jsx)(r.CheckCircle,{className:"w-5 h-5"}):(0,l.jsx)(i.AlertCircle,{className:"w-5 h-5"}),K.message]}),"clubs"===h?(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,l.jsxs)("h2",{className:"font-bold text-slate-700",children:["TÃ¼m KulÃ¼pler (",e.length,")"]}),(0,l.jsxs)("button",{onClick:()=>g(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2 transition-colors",children:[(0,l.jsx)(t.Plus,{className:"w-4 h-4"})," Yeni KulÃ¼p"]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,l.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase border-b border-slate-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-4",children:"Logo"}),(0,l.jsx)("th",{className:"p-4",children:"KulÃ¼p AdÄ±"}),(0,l.jsx)("th",{className:"p-4",children:"ID / Slug"}),(0,l.jsx)("th",{className:"p-4",children:"Kategori"}),(0,l.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[e.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,l.jsx)("td",{className:"p-4",children:e.logo?.startsWith("/")||e.logo?.startsWith("http")?(0,l.jsx)("img",{src:e.logo,alt:e.name,className:"w-10 h-10 object-cover rounded-lg"}):(0,l.jsx)("span",{className:"text-2xl",children:e.logo})}),(0,l.jsx)("td",{className:"p-4 font-bold text-slate-800",children:e.name}),(0,l.jsxs)("td",{className:"p-4 text-slate-500 text-xs font-mono",children:[e.id," / ",(0,l.jsx)("span",{className:"p-1 bg-slate-100 rounded",children:e.slug})]}),(0,l.jsx)("td",{className:"p-4",children:(0,l.jsx)("span",{className:"text-xs uppercase font-bold text-slate-500",children:e.category})}),(0,l.jsx)("td",{className:"p-4 text-right flex justify-end gap-2",children:(0,l.jsx)("button",{onClick:()=>_(e.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,l.jsx)(a.Trash2,{className:"w-4 h-4"})})})]},e.id)),0===e.length&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:"HenÃ¼z kulÃ¼p bulunmuyor."})})]})]})})]}):(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,l.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,l.jsxs)("h2",{className:"font-bold text-slate-700",children:["Sistem KullanÄ±cÄ±larÄ± (",u.length,")"]}),(0,l.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2 transition-colors",children:[(0,l.jsx)(t.Plus,{className:"w-4 h-4"})," Yeni KullanÄ±cÄ±"]})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,l.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase border-b border-slate-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-4",children:"KullanÄ±cÄ± AdÄ±"}),(0,l.jsx)("th",{className:"p-4",children:"Rol"}),(0,l.jsx)("th",{className:"p-4",children:"Ä°liÅŸkili KulÃ¼p"}),(0,l.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-100",children:u.map(s=>{let t=s.clubId?e.find(e=>e.id===s.clubId):null;return(0,l.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,l.jsxs)("td",{className:"p-4 font-bold text-slate-800 flex items-center gap-2",children:[(0,l.jsx)(d,{className:"w-4 h-4 text-slate-400"}),s.username]}),(0,l.jsx)("td",{className:"p-4",children:(0,l.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${"super_admin"===s.role?"bg-purple-100 text-purple-600":"club_admin"===s.role?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:"super_admin"===s.role?"SÃ¼per Admin":"club_admin"===s.role?"KulÃ¼p YÃ¶neticisi":"Ã–ÄŸrenci"})}),(0,l.jsx)("td",{className:"p-4",children:t?(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{children:t.logo}),(0,l.jsx)("span",{className:"text-slate-600 font-medium",children:t.name})]}):(0,l.jsx)("span",{className:"text-slate-400",children:"-"})}),(0,l.jsx)("td",{className:"p-4 text-right",children:"super_admin"!==s.role&&(0,l.jsx)("button",{onClick:()=>H(s.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,l.jsx)(a.Trash2,{className:"w-4 h-4"})})})]},s.id)})})]})})]}),j&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Yeni KulÃ¼p Ekle"}),(0,l.jsx)("button",{onClick:()=>g(!1),className:"bg-slate-100 p-2 rounded-full hover:bg-slate-200 transition-colors",children:(0,l.jsx)(o.X,{className:"w-5 h-5 text-slate-500"})})]}),(0,l.jsxs)("form",{onSubmit:Y,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KulÃ¼p AdÄ±"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:f.name,onChange:e=>N({...f,name:e.target.value}),placeholder:"Ã–rn: HavacÄ±lÄ±k KulÃ¼bÃ¼"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Slug (URL)"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:f.slug,onChange:e=>N({...f,slug:e.target.value}),placeholder:"ornek-kulup"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Logo"}),(0,l.jsxs)("div",{className:"space-y-2",children:[f.logo&&(0,l.jsx)("div",{className:"flex items-center justify-center p-4 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:f.logo.startsWith("/")||f.logo.startsWith("http")?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("img",{src:f.logo,alt:"Logo",className:"w-20 h-20 object-cover rounded-lg"}),(0,l.jsx)("button",{type:"button",onClick:()=>N({...f,logo:""}),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,l.jsx)(o.X,{className:"w-3 h-3"})})]}):(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("span",{className:"text-6xl",children:f.logo}),(0,l.jsx)("button",{type:"button",onClick:()=>N({...f,logo:""}),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,l.jsx)(o.X,{className:"w-3 h-3"})})]})}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",className:"flex-1 p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:f.logo.startsWith("/")||f.logo.startsWith("http")?"":f.logo,onChange:e=>N({...f,logo:e.target.value}),placeholder:"âœˆï¸ Emoji girin veya resim yÃ¼kleyin",disabled:v||f.logo.startsWith("/")||f.logo.startsWith("http")}),(0,l.jsxs)("label",{className:"relative",children:[(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:z,className:"hidden",disabled:v}),(0,l.jsx)("div",{className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl cursor-pointer transition-colors flex items-center justify-center",children:v?(0,l.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,l.jsx)(n.Upload,{className:"w-5 h-5"})})]})]}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"ðŸ’¡ Emoji veya resim (maks. 2MB)"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Kategori"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:f.category,onChange:e=>N({...f,category:e.target.value}),placeholder:"Teknoloji, Sanat, Spor..."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KÄ±sa AÃ§Ä±klama"}),(0,l.jsx)("textarea",{required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500 resize-none",rows:3,value:f.description,onChange:e=>N({...f,description:e.target.value}),placeholder:"KulÃ¼p hakkÄ±nda kÄ±sa bir aÃ§Ä±klama..."})]}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-red-600 text-white font-bold py-3 rounded-xl hover:bg-red-700 transition-colors",children:"OluÅŸtur"})]})]})}),w&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Yeni KullanÄ±cÄ± Ekle"}),(0,l.jsx)("button",{onClick:()=>k(!1),className:"bg-slate-100 p-2 rounded-full hover:bg-slate-200 transition-colors",children:(0,l.jsx)(o.X,{className:"w-5 h-5 text-slate-500"})})]}),(0,l.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KullanÄ±cÄ± AdÄ±"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:C.username,onChange:e=>S({...C,username:e.target.value}),placeholder:"kullanici_adi"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Åžifre"}),(0,l.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:C.password,onChange:e=>S({...C,password:e.target.value}),placeholder:"Åžifre"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Rol"}),(0,l.jsxs)("select",{className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:C.role,onChange:e=>S({...C,role:e.target.value}),children:[(0,l.jsx)("option",{value:"user",children:"Ã–ÄŸrenci / Ãœye"}),(0,l.jsx)("option",{value:"club_admin",children:"KulÃ¼p YÃ¶neticisi"}),(0,l.jsx)("option",{value:"super_admin",children:"SÃ¼per Admin"})]})]}),"club_admin"===C.role&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Hangi KulÃ¼bÃ¼ YÃ¶netecek?"}),(0,l.jsxs)("select",{required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:C.clubId,onChange:e=>S({...C,clubId:e.target.value}),children:[(0,l.jsx)("option",{value:"",children:"SeÃ§iniz..."}),e.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition-colors",children:"OluÅŸtur"})]})]})})]})}e.s(["default",()=>c],20740)}]);