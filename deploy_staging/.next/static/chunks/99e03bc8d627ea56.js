(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},14764,e=>{"use strict";let t=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],14764)},37108,e=>{"use strict";let t=(0,e.i(75254).default)("file-archive",[["path",{d:"M13.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v11.5",key:"4pqfef"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 12v-1",key:"1ej8lb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M8 7V6",key:"1nbb54"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]);e.s(["FileArchive",()=>t],37108)},32095,e=>{"use strict";let t=(0,e.i(75254).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.s(["GraduationCap",()=>t],32095)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},90597,e=>{"use strict";let t=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);e.s(["Heart",()=>t],90597)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},27920,e=>{"use strict";var t=e.i(43476),a=e.i(78481),s=e.i(88653),l=e.i(63209),r=e.i(69638),i=e.i(52571),n=e.i(37727);function c({isOpen:e,onClose:c,onConfirm:o,title:d,message:x,confirmText:m="Evet",cancelText:h="Ä°ptal",showCancel:u=!0,type:p="info"}){return(0,t.jsx)(s.AnimatePresence,{children:e&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,t.jsx)(a.motion.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-md bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl z-10 overflow-hidden",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-slate-800 border border-slate-700",children:(()=>{switch(p){case"danger":return(0,t.jsx)(l.AlertCircle,{className:"w-6 h-6 text-red-400"});case"success":return(0,t.jsx)(r.CheckCircle,{className:"w-6 h-6 text-green-400"});case"warning":return(0,t.jsx)(l.AlertCircle,{className:"w-6 h-6 text-orange-400"});default:return(0,t.jsx)(i.Info,{className:"w-6 h-6 text-blue-400"})}})()}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:d}),(0,t.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:x})]}),(0,t.jsx)("button",{onClick:c,className:"text-slate-500 hover:text-white transition-colors",children:(0,t.jsx)(n.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[u&&(0,t.jsx)("button",{onClick:c,className:"flex-1 px-4 py-3 rounded-xl font-bold text-slate-300 hover:text-white hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700",children:h}),(0,t.jsx)("button",{onClick:()=>{o(),c()},className:`flex-1 px-4 py-3 rounded-xl font-bold text-white shadow-lg bg-gradient-to-r ${(()=>{switch(p){case"danger":return"from-red-600 to-orange-600 shadow-red-500/20";case"success":return"from-green-600 to-emerald-600 shadow-green-500/20";case"warning":return"from-orange-600 to-yellow-600 shadow-orange-500/20";default:return"from-blue-600 to-indigo-600 shadow-blue-500/20"}})()} hover:scale-[1.02] transition-transform`,children:m})]})]})})]})})}e.s(["default",()=>c])},62031,e=>{"use strict";let t=(0,e.i(75254).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>t],62031)},73708,e=>{"use strict";let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>t],73708)},94983,e=>{"use strict";let t=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>t],94983)},41071,e=>{"use strict";let t=(0,e.i(75254).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>t],41071)},84753,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(97815),l=e.i(18566),r=e.i(78481),i=e.i(88653),n=e.i(90597),c=e.i(94983),o=e.i(62031),d=e.i(73708),x=e.i(14764),m=e.i(31278),h=e.i(41071),u=e.i(78583),p=e.i(32095),f=e.i(37108),g=e.i(22016),y=e.i(27920);function b(){let{user:e,isLoading:r}=(0,s.useAuth)(),i=(0,l.useRouter)(),[n,c]=(0,a.useState)([]),[o,h]=(0,a.useState)(!0),[b,v]=(0,a.useState)(""),[N,w]=(0,a.useState)(""),[k,C]=(0,a.useState)(!1),[S,M]=(0,a.useState)({isOpen:!1,title:"",message:"",type:"info",onConfirm:()=>{}}),T=async()=>{try{let e=await fetch("/api/forum");e.ok&&c(await e.json())}catch(e){console.error("Fetch error:",e)}finally{h(!1)}};(0,a.useEffect)(()=>{r||(e?T():i.push("/giris?redirect=/forum"))},[e,r,i]);let A=async()=>{if(e&&b.trim()){C(!0);try{(await fetch("/api/forum",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id.toString(),authorName:e.name||e.username,authorAvatar:null,content:b,image:N})})).ok&&(M({isOpen:!0,title:"GÃ¶nderildi! ðŸš€",message:"GÃ¶nderiniz moderasyon onayÄ±na gÃ¶nderildi. OnaylandÄ±ktan sonra yayÄ±na alÄ±nacaktÄ±r.",type:"success",onConfirm:()=>M(e=>({...e,isOpen:!1}))}),v(""),w(""))}catch(e){M({isOpen:!0,title:"Hata",message:"GÃ¶nderi oluÅŸturulurken bir hata oluÅŸtu.",type:"danger",onConfirm:()=>M(e=>({...e,isOpen:!1}))})}finally{C(!1)}}},O=async t=>{if(!e)return;let a=e.id.toString();c(e=>e.map(e=>{if(e.id===t){let t=e.likes.includes(a);return{...e,likes:t?e.likes.filter(e=>e!==a):[...e.likes,a]}}return e}));try{await fetch(`/api/forum/${t}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a})})}catch(e){T()}},z=async(t,a)=>{if(e&&a.trim())try{let s=await fetch(`/api/forum/${t}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id.toString(),author:e.name||e.username,text:a})});if(s.ok){let e=await s.json();c(a=>a.map(a=>a.id===t?{...a,comments:[...a.comments,e.comment]}:a))}}catch(e){console.error("Comment error:",e)}};return r||!e&&o?(0,t.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,t.jsx)(m.Loader2,{className:"animate-spin"})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 pt-24 pb-12",children:[(0,t.jsxs)("div",{className:"container mx-auto px-4 flex flex-col lg:flex-row gap-8 max-w-6xl",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-xl shrink-0",children:"ðŸ‘¤"}),(0,t.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,t.jsx)("textarea",{value:b,onChange:e=>v(e.target.value),placeholder:"Neler dÃ¼ÅŸÃ¼nÃ¼yorsun?",className:"w-full bg-transparent outline-none resize-none text-slate-700 min-h-[80px]"}),N&&(0,t.jsxs)("div",{className:"relative w-fit",children:[(0,t.jsx)("img",{src:N,alt:"Preview",className:"h-32 rounded-lg object-cover"}),(0,t.jsx)("button",{onClick:()=>w(""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-80 hover:opacity-100",children:"Ã—"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-100",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",id:"image-upload",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{w(e.result)},e.readAsDataURL(t)}}}),(0,t.jsx)("button",{onClick:()=>document.getElementById("image-upload")?.click(),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded-full transition-colors",type:"button",children:(0,t.jsx)(d.Image,{className:"w-5 h-5"})})]}),(0,t.jsxs)("button",{onClick:A,disabled:!b.trim()||k,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white px-6 py-2 rounded-full font-bold text-sm transition-all flex items-center gap-2",children:[k?(0,t.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(x.Send,{className:"w-4 h-4"}),"PaylaÅŸ"]})]})]})]})}),o?(0,t.jsx)("div",{className:"flex justify-center p-8",children:(0,t.jsx)(m.Loader2,{className:"animate-spin text-slate-400"})}):0===n.length?(0,t.jsx)("div",{className:"text-center py-12 text-slate-400",children:"HenÃ¼z gÃ¶nderi yok. Ä°lk paylaÅŸÄ±mÄ± sen yap!"}):n.map(a=>(0,t.jsx)(j,{post:a,currentUserId:e.id.toString(),onLike:()=>O(a.id),onComment:e=>z(a.id,e)},a.id))]}),(0,t.jsx)("div",{className:"w-full lg:w-80 space-y-6",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[(0,t.jsx)("h2",{className:"font-bold text-slate-800 mb-4",children:"Topluluk KÃ¶ÅŸesi ðŸš€"}),(0,t.jsxs)("nav",{className:"space-y-2",children:[(0,t.jsxs)(g.default,{href:"/cikmis-sorular",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 text-slate-600 hover:text-red-600 transition-colors group",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg group-hover:bg-red-100 group-hover:text-red-600 transition-colors",children:(0,t.jsx)(f.FileArchive,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"font-medium",children:"Ã‡Ä±kmÄ±ÅŸ SÄ±navlar"})]}),(0,t.jsxs)(g.default,{href:"/hocalar",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 text-slate-600 hover:text-red-600 transition-colors group",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 text-purple-600 rounded-lg group-hover:bg-red-100 group-hover:text-red-600 transition-colors",children:(0,t.jsx)(p.GraduationCap,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"font-medium",children:"Hoca DeÄŸerlendirmeleri"})]}),(0,t.jsxs)(g.default,{href:"/ders-notlari",className:"flex items-center gap-3 p-3 rounded-xl hover:bg-slate-50 text-slate-600 hover:text-red-600 transition-colors group",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 text-green-600 rounded-lg group-hover:bg-red-100 group-hover:text-red-600 transition-colors",children:(0,t.jsx)(u.FileText,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"font-medium",children:"Ders NotlarÄ±"})]})]})]})})]}),(0,t.jsx)(y.default,{isOpen:S.isOpen,onClose:()=>M(e=>({...e,isOpen:!1})),title:S.title,message:S.message,type:S.type,onConfirm:S.onConfirm,showCancel:!1,confirmText:"Tamam"})]}):null}function j({post:e,currentUserId:s,onLike:l,onComment:d}){let m=e.likes.includes(s),[u,p]=(0,a.useState)(""),[f,g]=(0,a.useState)(!1);return(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 flex items-center justify-between border-b border-slate-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-lg",children:e.authorAvatar}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-slate-800 text-sm",children:e.authorName}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,t.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,t.jsx)(h.MoreHorizontal,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("p",{className:"text-slate-800 whitespace-pre-line mb-3",children:e.content}),e.image&&(0,t.jsx)("img",{src:e.image,alt:"Post",className:"w-full rounded-xl object-cover bg-slate-50 border border-slate-100"})]}),(0,t.jsx)("div",{className:"px-4 pb-2",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{onClick:l,className:`flex items-center gap-2 transition-colors ${m?"text-red-500":"text-slate-500 hover:text-red-500"}`,children:[(0,t.jsx)(n.Heart,{className:`w-6 h-6 ${m?"fill-current":""}`}),(0,t.jsx)("span",{className:"font-bold text-sm",children:e.likes.length})]}),(0,t.jsxs)("button",{onClick:()=>g(!f),className:"flex items-center gap-2 text-slate-500 hover:text-blue-500 transition-colors",children:[(0,t.jsx)(c.MessageCircle,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"font-bold text-sm",children:e.comments.length})]}),(0,t.jsx)("button",{onClick:()=>{let t=`THK\xdc Forum: ${e.content.slice(0,50)}...

THK\xdc Social'da g\xf6r\xfcnt\xfcle: ${window.location.href}`;navigator.share?navigator.share({title:"THKÃœ Forum",text:t,url:window.location.href}):(navigator.clipboard.writeText(t),alert("BaÄŸlantÄ± kopyalandÄ±!"))},className:"flex items-center gap-2 text-slate-500 hover:text-green-500 transition-colors ml-auto",children:(0,t.jsx)(o.Share2,{className:"w-6 h-6"})})]})}),(0,t.jsx)(i.AnimatePresence,{children:f&&(0,t.jsx)(r.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-slate-50 border-t border-slate-100",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[e.comments.map(e=>(0,t.jsxs)("div",{className:"flex gap-2 text-sm",children:[(0,t.jsx)("span",{className:"font-bold text-slate-800",children:e.author}),(0,t.jsx)("span",{className:"text-slate-600",children:e.text})]},e.id)),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Yorum yaz...",className:"flex-1 bg-white border border-slate-200 rounded-full px-4 py-2 text-sm outline-none focus:border-red-500",onKeyDown:e=>{"Enter"===e.key&&(d(u),p(""))}}),(0,t.jsx)("button",{onClick:()=>{d(u),p("")},disabled:!u.trim(),className:"bg-slate-200 text-slate-600 hover:bg-red-500 hover:text-white p-2 rounded-full transition-colors disabled:opacity-50",children:(0,t.jsx)(x.Send,{className:"w-4 h-4"})})]})]})})})]})}e.s(["default",()=>b])}]);