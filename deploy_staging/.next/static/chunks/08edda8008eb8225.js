(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47126,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(78481),l=e.i(88653),r=e.i(18566),i=e.i(22016),n=e.i(97815),o=e.i(71689),d=e.i(61911),c=e.i(87316),m=e.i(46897),x=e.i(63488),u=e.i(23102),h=e.i(78021),b=e.i(94983),p=e.i(37727),g=e.i(73375),f=e.i(63059),j=e.i(3116),y=e.i(69638),v=e.i(25652),w=e.i(14764),N=e.i(86311),k=e.i(70273),C=e.i(21361),S=e.i(27920);function T(){let e=(0,r.useParams)(),T=(0,r.useRouter)(),I=(0,r.useSearchParams)(),{user:$}=(0,n.useAuth)(),O=I.get("tab")||"about",[A,B]=(0,s.useState)(O);(0,s.useEffect)(()=>{let e=I.get("tab");e&&["about","events","gallery","members","contact"].includes(e)&&B(e)},[I]);let E=e=>{B(e);let t=new URL(window.location.href);t.searchParams.set("tab",e),window.history.pushState({},"",t.toString())},[K,M]=(0,s.useState)(null),[P,Y]=(0,s.useState)([]),[D,G]=(0,s.useState)([]),[L,_]=(0,s.useState)(null),[F,R]=(0,s.useState)(!1),[H,q]=(0,s.useState)("idle"),[U,J]=(0,s.useState)(!1),[W,Z]=(0,s.useState)("none"),[X,V]=(0,s.useState)({name:"",studentId:"",department:"",email:"",phone:"",reason:""}),[Q,ee]=(0,s.useState)([]),[et,es]=(0,s.useState)({subject:"",topic:"Soru",content:""}),[ea,el]=(0,s.useState)(!1),[er,ei]=(0,s.useState)("idle"),[en,eo]=(0,s.useState)("all"),[ed,ec]=(0,s.useState)({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"info",showCancel:!0}),em=(0,C.getClubBySlug)(e.slug),ex=L||em;(0,s.useEffect)(()=>{if(ex?.slug){let e=`viewed_${ex.slug}_${new Date().toISOString().slice(0,10)}`;sessionStorage.getItem(e)||(fetch("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:window.location.pathname,clubSlug:ex.slug,referrer:document.referrer})}).catch(e=>console.error("Analytics error:",e)),sessionStorage.setItem(e,"true"))}},[ex?.slug]);let eu=()=>{null!==K&&ex?.gallery&&M(e=>(e+1)%ex.gallery.length)},eh=()=>{null!==K&&ex?.gallery&&M(e=>(e-1+ex.gallery.length)%ex.gallery.length)};if((0,s.useEffect)(()=>{let e=e=>{null!==K&&("ArrowRight"===e.key&&eu(),"ArrowLeft"===e.key&&eh(),"Escape"===e.key&&M(null))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[K,ex?.gallery]),(0,s.useEffect)(()=>(null!==K?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[K]),(0,s.useEffect)(()=>{let t=async()=>{try{let t=await fetch("/api/clubs",{cache:"no-store"});if(t.ok){let s=await t.json();if(Array.isArray(s)){let t=s.find(t=>t.slug===e.slug);if(t){_(t),console.log("ðŸ” Club loaded:",{clubId:t.id,clubSlug:t.slug,userRole:$?.role,userClubId:$?.clubId,shouldShowButton:$&&("super_admin"===$.role||"club_admin"===$.role&&$.clubId===t.id)});let e=await fetch(`/api/events?clubId=${t.id}`,{cache:"no-store"});if(e.ok){let t=await e.json();Y(Array.isArray(t)?t:[])}let s=await fetch(`/api/members?clubId=${t.id}`);if(s.ok){let e=await s.json();G(Array.isArray(e)?e:[])}}}}}catch(e){console.error("Failed to fetch club data",e)}};e.slug&&t()},[e.slug,$]),(0,s.useEffect)(()=>{"contact"===A&&$&&ex?.id&&fetch(`/api/messages?clubId=${ex.id}&userId=${$.id||$.username}`).then(e=>e.json()).then(e=>{Array.isArray(e)&&ee(e)}).catch(e=>console.error(e))},[A,$,ex?.id]),(0,s.useEffect)(()=>{$&&F&&V(e=>({...e,name:$.name||"",studentId:$.studentId||("admin"!==$.username?$.username:""),email:$.email||"",phone:$.phone||"",department:$.department||""}))},[$,F]),(0,s.useEffect)(()=>{$&&ex?.id&&fetch(`/api/members?clubId=${ex.id}`).then(e=>e.json()).then(e=>{if(Array.isArray(e)){let t=e.find(e=>e.studentId===($.studentId||$.username)||e.email===$.email);t&&Z(t.status)}}).catch(e=>console.error("Failed to check membership",e))},[$,ex?.id]),!ex)return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-950 via-slate-900 to-orange-950 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ˜•"}),(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-4",children:"KulÃ¼p BulunamadÄ±"}),(0,t.jsx)(i.default,{href:"/kulupler",className:"text-red-400 hover:text-red-300 font-bold",children:"â† KulÃ¼pler SayfasÄ±na DÃ¶n"})]})});let eb=P.filter(e=>!e.isPast),ep=P.filter(e=>e.isPast),eg=[{id:"about",label:"HakkÄ±nda",icon:"ðŸ“–"},{id:"events",label:"Etkinlikler",icon:"ðŸŽ«",count:eb.length},{id:"gallery",label:"Galeri",icon:"ðŸ“¸"},{id:"members",label:"Ãœyeler",icon:"ðŸ‘¥",count:D.length},{id:"contact",label:"Ä°letiÅŸim",icon:"ðŸ’¬"}],ef=Q.filter(e=>"active"===en?["sent","read","in_progress"].includes(e.status):"resolved"!==en||["resolved","replied","closed"].includes(e.status)),ej=async e=>{e.preventDefault(),el(!0);try{let e=await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clubId:ex.id,userId:$?.id||$?.username,senderName:$?.name||$?.username,subject:et.subject,topic:et.topic,content:et.content})});if(e.ok){let t=await e.json();ee([t,...Q]),es({subject:"",topic:"Soru",content:""}),ei("success"),setTimeout(()=>ei("idle"),3e3)}else ei("error")}catch(e){ei("error")}finally{el(!1)}},ey=async()=>{$?$.name&&$.department&&$.email?ec({isOpen:!0,title:"KulÃ¼be KatÄ±l",message:`"${ex.name}" kul\xfcb\xfcne ÅŸu bilgilerle katÄ±lmak istiyor musunuz?

Ad: ${$.name}
B\xf6l\xfcm: ${$.department}
E-posta: ${$.email}`,confirmText:"Evet, KatÄ±l",type:"info",onConfirm:async()=>{J(!0);try{let e=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clubId:ex.id,name:$.name,role:"Uye",department:$.department,joinedAt:new Date().getFullYear().toString(),avatar:"ðŸ‘¤",studentId:$.studentId||$.username,email:$.email,phone:$.phone||"",reason:"HÄ±zlÄ± KatÄ±lÄ±m (Site Ãœzerinden)",status:"pending"})});e.ok?(ec({isOpen:!0,title:"BaÅŸvurunuz AlÄ±ndÄ± ðŸŽ‰",message:"BaÅŸvurunuz baÅŸarÄ±yla alÄ±ndÄ±! KulÃ¼p yÃ¶netimi onayladÄ±ÄŸÄ±nda Ã¼yeliÄŸiniz kesinleÅŸecektir.",confirmText:"Tamam",type:"success",showCancel:!1,onConfirm:()=>{}}),Z("pending")):409===e.status?(ec({isOpen:!0,title:"Zaten BaÅŸvurdunuz âš ï¸",message:"Zaten bu kulÃ¼be Ã¼yesiniz veya bekleyen bir baÅŸvurunuz var.",confirmText:"Tamam",showCancel:!1,type:"warning",onConfirm:()=>{}}),Z("pending")):ec({isOpen:!0,title:"Hata",message:"Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.",confirmText:"Tamam",showCancel:!1,type:"danger",onConfirm:()=>{}})}catch(e){console.error(e),ec({isOpen:!0,title:"Hata",message:"Bir beklenmedik hata oluÅŸtu.",confirmText:"Tamam",showCancel:!1,type:"danger",onConfirm:()=>{}})}finally{J(!1)}}}):R(!0):ec({isOpen:!0,title:"GiriÅŸ YapmalÄ±sÄ±nÄ±z",message:"KulÃ¼be katÄ±lmak iÃ§in giriÅŸ yapmanÄ±z gerekmektedir. GiriÅŸ sayfasÄ±na yÃ¶nlendirilsin mi?",confirmText:"GiriÅŸ Yap",type:"info",onConfirm:()=>T.push("/giris")})},ev=async e=>{e.preventDefault(),q("submitting");try{let e=await fetch("/api/members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clubId:ex.id,name:X.name,role:"Uye",department:X.department,joinedAt:new Date().getFullYear().toString(),avatar:"ðŸ‘¤",studentId:X.studentId,email:X.email,phone:X.phone,reason:X.reason,status:"pending"})});e.ok?(q("success"),Z("pending"),setTimeout(()=>{R(!1),q("idle"),V(e=>({...e,reason:""}))},2e3)):409===e.status?(q("error"),ec({isOpen:!0,title:"Zaten BaÅŸvurdunuz âš ï¸",message:"Zaten bu kulÃ¼be Ã¼yesiniz veya bekleyen bir baÅŸvurunuz var.",confirmText:"Tamam",showCancel:!1,type:"warning",onConfirm:()=>{R(!1),q("idle")}})):q("error")}catch(e){q("error")}},ew="pending"===W?{text:"â³ Onay Bekliyor",disabled:!0,style:"bg-yellow-600/50 text-yellow-100 cursor-not-allowed"}:"active"===W?{text:"âœ… Ãœyesiniz",disabled:!0,style:"bg-green-600/50 text-green-100 cursor-not-allowed"}:{text:U?"Ä°ÅŸleniyor...":"ðŸŽ¯ Ãœye Ol",disabled:U,style:"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white shadow-xl shadow-red-500/50 hover:scale-105"};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-red-950 via-slate-900 to-orange-950 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-red-500/20 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-1/3 w-96 h-96 bg-orange-500/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"relative h-96 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${ex.coverImage})`},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/80 to-slate-900"})}),(0,t.jsx)(i.default,{href:"/kulupler",children:(0,t.jsx)("button",{className:"absolute top-6 left-6 glass-dark border border-slate-700/50 p-3 rounded-xl hover:border-red-500/50 transition-all group",children:(0,t.jsx)(o.ArrowLeft,{className:"w-5 h-5 text-white group-hover:text-red-400 transition-colors"})})}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-start md:items-end gap-6",children:[(0,t.jsx)(a.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:`w-24 h-24 md:w-32 md:h-32 bg-gradient-to-br ${ex.logoBackground||"from-red-600 to-orange-600"} rounded-3xl flex-shrink-0 flex items-center justify-center text-4xl md:text-6xl shadow-2xl border-4 border-slate-900`,children:ex.logo&&(ex.logo.startsWith("/")||ex.logo.startsWith("http"))?(0,t.jsx)("img",{src:ex.logo,alt:ex.name,className:"w-full h-full object-cover rounded-2xl"}):ex.logo}),(0,t.jsxs)("div",{className:"flex-1 pb-4",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-block glass-dark border border-red-500/30 px-4 py-1.5 rounded-full mb-3",children:(0,t.jsx)("span",{className:"text-red-400 font-black text-sm uppercase tracking-wider",children:ex.category})}),(0,t.jsx)(a.motion.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-5xl font-black text-white mb-3",children:ex.name}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-slate-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Users,{className:"w-5 h-5 text-orange-400"}),(0,t.jsxs)("span",{className:"font-bold",children:[D.length," Ãœye"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Calendar,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsxs)("span",{className:"font-bold",children:["KuruluÅŸ: ",ex.foundedYear]})]}),ex.isActive&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"font-bold text-green-400",children:"Aktif"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)(a.motion.button,{onClick:ey,disabled:ew.disabled,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:`${ew.style} px-8 py-4 rounded-xl font-black text-lg transition-all duration-300 disabled:opacity-70`,children:ew.text}),$&&L&&ex.slug&&("super_admin"===$.role||"club_admin"===$.role&&$.clubId===L.id)&&(0,t.jsx)(i.default,{href:`/kulupler/${ex.slug}/yonetim`,children:(0,t.jsx)(a.motion.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.4},className:"glass-dark border border-slate-700/50 hover:border-red-500/50 text-slate-300 hover:text-white px-6 py-4 rounded-xl font-bold flex items-center gap-2 transition-all hover:scale-105",children:"âš™ï¸ YÃ¶netim"})})]})]})})]}),(0,t.jsx)("div",{id:"tabs-container",className:"max-w-7xl mx-auto px-4 md:px-8 -mt-4 relative z-20 overflow-x-auto pb-4 scrollbar-hide",children:(0,t.jsx)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-2 inline-flex gap-2 shadow-xl whitespace-nowrap min-w-full md:min-w-0",children:eg.map(e=>(0,t.jsxs)("button",{onClick:()=>E(e.id),className:`px-4 md:px-6 py-3 rounded-xl font-black text-sm transition-all duration-300 flex items-center gap-2 flex-shrink-0 ${A===e.id?"bg-gradient-to-r from-red-600 to-orange-600 text-white shadow-lg shadow-red-500/50":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{children:e.label}),void 0!==e.count&&(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded-full ${A===e.id?"bg-white/20":"bg-slate-700"}`,children:e.count})]},e.id))})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-8 py-12",children:(0,t.jsxs)(l.AnimatePresence,{mode:"wait",children:["about"===A&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-4",children:"HakkÄ±mÄ±zda"}),(0,t.jsx)("p",{className:"text-slate-300 leading-relaxed text-lg",children:ex.longDescription})]}),ex.president&&(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-4",children:"BaÅŸkan"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-3xl overflow-hidden",children:ex.president.avatar&&(ex.president.avatar.startsWith("/")||ex.president.avatar.startsWith("http"))?(0,t.jsx)("img",{src:ex.president.avatar,alt:ex.president.name,className:"w-full h-full object-cover"}):ex.president.avatar||ex.president.name?.charAt(0)||"?"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:ex.president.name}),ex.president.email&&(0,t.jsx)("a",{href:`mailto:${ex.president.email}`,className:"text-red-400 hover:text-red-300 text-sm font-medium",children:ex.president.email})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[ex.meetingDay&&(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-black text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(j.Clock,{className:"w-5 h-5 text-orange-400"}),"ToplantÄ±lar"]}),(0,t.jsxs)("div",{className:"space-y-2 text-slate-300",children:[(0,t.jsx)("p",{className:"font-bold",children:ex.meetingDay}),ex.meetingLocation&&(0,t.jsxs)("p",{className:"text-sm flex items-start gap-2",children:[(0,t.jsx)(m.MapPin,{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"}),ex.meetingLocation]})]})]}),ex.socialMedia&&(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-black text-white mb-4",children:"Ä°letiÅŸim"}),(0,t.jsxs)("div",{className:"space-y-3",children:[ex.socialMedia.email&&(0,t.jsxs)("a",{href:`mailto:${ex.socialMedia.email}`,className:"flex items-center gap-3 text-slate-300 hover:text-white transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-600/20 rounded-lg flex items-center justify-center group-hover:bg-blue-600/30 transition-colors",children:(0,t.jsx)(x.Mail,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsx)("span",{className:"font-medium text-sm",children:ex.socialMedia.email})]}),ex.socialMedia.instagram&&(0,t.jsxs)("a",{href:`https://instagram.com/${ex.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-slate-300 hover:text-white transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-pink-600/20 rounded-lg flex items-center justify-center group-hover:bg-pink-600/30 transition-colors",children:(0,t.jsx)(u.Instagram,{className:"w-5 h-5 text-pink-400"})}),(0,t.jsx)("span",{className:"font-medium text-sm",children:ex.socialMedia.instagram})]}),ex.socialMedia.twitter&&(0,t.jsxs)("a",{href:`https://twitter.com/${ex.socialMedia.twitter.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-slate-300 hover:text-white transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-400/20 rounded-lg flex items-center justify-center group-hover:bg-blue-400/30 transition-colors",children:(0,t.jsx)(h.Twitter,{className:"w-5 h-5 text-blue-300"})}),(0,t.jsx)("span",{className:"font-medium text-sm",children:ex.socialMedia.twitter})]}),ex.socialMedia.discord&&(0,t.jsxs)("a",{href:`https://${ex.socialMedia.discord}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-slate-300 hover:text-white transition-colors group",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-indigo-600/20 rounded-lg flex items-center justify-center group-hover:bg-indigo-600/30 transition-colors",children:(0,t.jsx)(b.MessageCircle,{className:"w-5 h-5 text-indigo-400"})}),(0,t.jsx)("span",{className:"font-medium text-sm",children:ex.socialMedia.discord})]})]})]})]})]},"about"),"events"===A&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[eb.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-black text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(v.TrendingUp,{className:"w-8 h-8 text-green-400"}),"YaklaÅŸan Etkinlikler"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:eb.map(e=>(0,t.jsx)(z,{event:e,user:$},e.id))})]}),ep.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-slate-400 mb-6",children:"GeÃ§miÅŸ Etkinlikler"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ep.map(e=>(0,t.jsx)(z,{event:e,isPast:!0,user:$},e.id))})]}),0===P.length&&(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“…"}),(0,t.jsx)("h3",{className:"text-2xl font-black text-white mb-2",children:"HenÃ¼z Etkinlik Yok"}),(0,t.jsx)("p",{className:"text-slate-400",children:"YakÄ±nda etkinlikler eklenecek!"})]})]},"events"),"gallery"===A&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:ex.gallery&&ex.gallery.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ex.gallery.map((e,s)=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*s},className:"aspect-square bg-slate-800 rounded-xl overflow-hidden cursor-pointer group relative",onClick:()=>M(s),children:[(0,t.jsx)("img",{src:e.url,alt:e.caption||"Gallery",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:e.caption&&(0,t.jsx)("p",{className:"text-white text-sm font-bold truncate",children:e.caption})})]},e.id||s))}):(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“¸"}),(0,t.jsx)("h3",{className:"text-2xl font-black text-white mb-2",children:"HenÃ¼z FotoÄŸraf Yok"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Etkinlik fotoÄŸraflarÄ± burada gÃ¶rÃ¼necek!"})]})},"gallery"),"members"===A&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-12",children:[D.filter(e=>"pending"!==e.status&&(e.isFeatured||["Baskan","Baskan Yrd.","Yonetim Kurulu"].includes(e.role))).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(k.Star,{className:"w-6 h-6 text-yellow-400"}),"YÃ¶netim & Ã–ne Ã‡Ä±kanlar"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.filter(e=>"pending"!==e.status&&(e.isFeatured||["Baskan","Baskan Yrd.","Yonetim Kurulu"].includes(e.role))).map(e=>(0,t.jsxs)("div",{className:"glass-dark border border-yellow-500/20 rounded-2xl p-6 flex items-center gap-6 relative overflow-hidden group hover:border-yellow-500/40 transition-all",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-50",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-yellow-500/10 rounded-full blur-2xl"})}),(0,t.jsx)("div",{className:"w-24 h-24 rounded-full border-2 border-yellow-500/30 overflow-hidden flex-shrink-0 bg-slate-800",children:e.customImage?(0,t.jsx)("img",{src:e.customImage,alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-3xl",children:e.avatar})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:e.name}),(0,t.jsx)("div",{className:"text-yellow-400 font-bold text-sm mb-1",children:e.customTitle||e.role}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:e.department})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(d.Users,{className:"w-6 h-6 text-slate-400"}),"KulÃ¼p Ãœyeleri"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:D.filter(e=>"pending"!==e.status&&!e.isFeatured&&!["Baskan","Baskan Yrd.","Yonetim Kurulu"].includes(e.role)).map(e=>{let s;return(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-xl p-4 text-center group hover:border-slate-600 transition-all",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-slate-800 rounded-full mx-auto mb-3 flex items-center justify-center text-2xl border border-slate-700",children:e.avatar}),(0,t.jsx)("h3",{className:"text-white font-bold text-sm mb-1 truncate",children:e.name}),(0,t.jsx)("div",{className:"mb-2",children:(s=ex.customRoles?.find(t=>t.name===e.role))?(0,t.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold ${s.color}`,children:e.role}):(0,t.jsx)("span",{className:"text-[10px] text-slate-500 font-medium",children:e.role})}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px] truncate",children:e.department})]},e.id)})})]})]},"members"),"contact"===A&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(w.Send,{className:"w-6 h-6 text-blue-500"}),"Yeni Destek Talebi"]}),$?(0,t.jsxs)("form",{onSubmit:ej,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Konu BaÅŸlÄ±ÄŸÄ±"}),(0,t.jsx)("div",{className:"flex gap-2 mb-4",children:["Soru","Ã–neri","Åžikayet","Ä°ÅŸbirliÄŸi"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>es({...et,topic:e}),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${et.topic===e?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸlÄ±k"}),(0,t.jsx)("input",{type:"text",required:!0,value:et.subject,onChange:e=>es({...et,subject:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-blue-500 outline-none transition-colors",placeholder:"KÄ±saca Ã¶zetleyin..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"MesajÄ±nÄ±z"}),(0,t.jsx)("textarea",{required:!0,rows:5,value:et.content,onChange:e=>es({...et,content:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-blue-500 outline-none resize-none transition-colors",placeholder:"DetaylarÄ± buraya yazÄ±n..."})]}),"success"===er&&(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 p-3 rounded-lg text-green-400 text-sm font-bold flex items-center gap-2",children:[(0,t.jsx)(y.CheckCircle,{className:"w-4 h-4"})," Talebiniz oluÅŸturuldu!"]}),(0,t.jsx)("button",{type:"submit",disabled:ea,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-4 rounded-xl font-black text-lg shadow-lg shadow-blue-500/20 disabled:opacity-50 hover:scale-[1.02] transition-all",children:ea?"GÃ¶nderiliyor...":"Talebi OluÅŸtur"})]}):(0,t.jsxs)("div",{className:"bg-slate-800/50 p-6 rounded-xl text-center",children:[(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Mesaj gÃ¶ndermek iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z."}),(0,t.jsx)(i.default,{href:"/giris",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold transition-colors",children:"GiriÅŸ Yap"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(N.MessageSquare,{className:"w-5 h-5 text-slate-400"}),"GeÃ§miÅŸ Taleplerim"]}),(0,t.jsx)("div",{className:"flex bg-slate-800/50 p-1 rounded-lg",children:[{id:"all",label:"TÃ¼mÃ¼"},{id:"active",label:"Devam Eden"},{id:"resolved",label:"Ã‡Ã¶zÃ¼len"}].map(e=>(0,t.jsx)("button",{onClick:()=>eo(e.id),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${en===e.id?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-white"}`,children:e.label},e.id))})]}),ef.length>0?ef.map(e=>(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-xl p-5 hover:border-blue-500/30 transition-all group relative overflow-hidden",children:[(0,t.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${"resolved"===e.status||"replied"===e.status?"bg-green-500":"in_progress"===e.status?"bg-yellow-500":"read"===e.status?"bg-blue-500":"closed"===e.status?"bg-slate-500":"bg-slate-500/50"}`}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3 pl-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-black uppercase tracking-wider ${"Åžikayet"===e.topic?"text-red-400 bg-red-400/10":"Ã–neri"===e.topic?"text-green-400 bg-green-400/10":"text-blue-400 bg-blue-400/10"}`,children:e.topic}),(0,t.jsxs)("span",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[(0,t.jsx)(j.Clock,{className:"w-3 h-3"}),new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsx)("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full border ${"resolved"===e.status||"replied"===e.status?"bg-green-500/10 border-green-500/30 text-green-400":"in_progress"===e.status?"bg-yellow-500/10 border-yellow-500/30 text-yellow-400":"read"===e.status?"bg-blue-500/10 border-blue-500/30 text-blue-400":(e.status,"bg-slate-700 border-slate-600 text-slate-400")}`,children:"resolved"===e.status||"replied"===e.status?"Ã‡Ã¶zÃ¼ldÃ¼":"in_progress"===e.status?"Ä°nceleniyor":"read"===e.status?"GÃ¶rÃ¼ldÃ¼":"closed"===e.status?"KapatÄ±ldÄ±":"Ä°letildi"})]}),(0,t.jsx)("h3",{className:"text-white font-bold mb-2 pl-2 text-lg",children:e.subject}),(0,t.jsx)("div",{className:"bg-slate-800/30 rounded-lg p-3 mb-4 ml-2",children:(0,t.jsx)("p",{className:"text-slate-300 text-sm whitespace-pre-wrap",children:e.content})}),e.response&&(0,t.jsxs)("div",{className:"bg-green-500/5 p-4 rounded-xl border border-green-500/20 ml-6 relative",children:[(0,t.jsx)("div",{className:"absolute -left-2 top-4 w-4 h-0.5 bg-green-500/20"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(y.CheckCircle,{className:"w-3 h-3 text-green-400"})}),(0,t.jsx)("span",{className:"text-xs font-bold text-green-400",children:"YÃ¶netim YanÄ±tÄ±"}),e.answeredAt&&(0,t.jsx)("span",{className:"text-[10px] text-slate-500 ml-auto",children:new Date(e.answeredAt).toLocaleDateString()})]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:e.response})]})]},e.id)):(0,t.jsxs)("div",{className:"text-center py-12 text-slate-500 bg-slate-800/20 rounded-2xl border border-slate-800 border-dashed",children:[(0,t.jsx)(N.MessageSquare,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"HenÃ¼z bir talebiniz bulunmuyor."})]})]})]},"contact")]})}),(0,t.jsx)(l.AnimatePresence,{children:null!==K&&ex.gallery&&ex.gallery[K]&&(0,t.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 md:p-8",children:[(0,t.jsx)("button",{onClick:()=>M(null),className:"absolute top-20 md:top-4 right-4 text-white/70 hover:text-white transition-colors z-30 p-2 bg-black/20 hover:bg-black/40 rounded-full backdrop-blur-sm",children:(0,t.jsx)(p.X,{className:"w-6 h-6 md:w-8 md:h-8"})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),eh()},className:"absolute left-2 md:left-8 top-1/2 -translate-y-1/2 text-white/70 hover:text-white transition-colors z-30 p-2 md:p-3 bg-black/20 hover:bg-black/40 rounded-full backdrop-blur-sm hover:scale-110 active:scale-90",children:(0,t.jsx)(g.ChevronLeft,{className:"w-6 h-6 md:w-10 md:h-10"})}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),eu()},className:"absolute right-2 md:right-8 top-1/2 -translate-y-1/2 text-white/70 hover:text-white transition-colors z-30 p-2 md:p-3 bg-black/20 hover:bg-black/40 rounded-full backdrop-blur-sm hover:scale-110 active:scale-90",children:(0,t.jsx)(f.ChevronRight,{className:"w-6 h-6 md:w-10 md:h-10"})}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative w-full h-full flex flex-col items-center justify-center",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("img",{src:ex.gallery[K].url,alt:"Gallery Fullscreen",className:"max-w-full max-h-[70vh] md:max-h-[85vh] object-contain rounded-lg shadow-2xl"}),ex.gallery[K].caption&&(0,t.jsx)("p",{className:"text-white mt-4 text-center text-sm md:text-lg font-bold bg-black/50 px-4 py-2 rounded-full backdrop-blur-md max-w-[90%]",children:ex.gallery[K].caption})]},K),(0,t.jsxs)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-white/50 text-xs md:text-sm font-bold bg-black/50 px-3 py-1 rounded-full backdrop-blur-sm",children:[K+1," / ",ex.gallery.length]})]})}),$&&"contact"!==A&&(0,t.jsxs)(a.motion.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{E("contact"),document.getElementById("tabs-container")?.scrollIntoView({behavior:"smooth"})},className:"fixed bottom-8 right-8 z-50 w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-2xl shadow-blue-500/50 text-white border-2 border-white/20",children:[(0,t.jsx)(b.MessageCircle,{className:"w-8 h-8"}),(0,t.jsx)("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full text-[10px] flex items-center justify-center font-bold border-2 border-slate-900",children:"!"})]}),(0,t.jsx)(l.AnimatePresence,{children:F&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>R(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl overflow-hidden relative z-10 shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white",children:[ex.name," Ãœyelik Formu"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"AramÄ±za katÄ±lmak iÃ§in formu doldur."})]}),(0,t.jsx)("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(p.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-8 max-h-[80vh] overflow-y-auto",children:"success"===H?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 text-4xl animate-bounce",children:"ðŸŽ‰"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"BaÅŸvurunuz AlÄ±ndÄ±!"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Ãœyelik baÅŸvurunuz kulÃ¼p yÃ¶netimine iletildi. En kÄ±sa sÃ¼rede size dÃ¶nÃ¼ÅŸ yapÄ±lacaktÄ±r."})]}):(0,t.jsxs)("form",{onSubmit:ev,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Ad Soyad *"}),(0,t.jsx)("input",{type:"text",required:!0,value:X.name,onChange:e=>V({...X,name:e.target.value}),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none transition-colors",placeholder:"AdÄ±nÄ±z SoyadÄ±nÄ±z"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Ã–ÄŸrenci NumarasÄ± *"}),(0,t.jsx)("input",{type:"text",required:!0,value:X.studentId,onChange:e=>V({...X,studentId:e.target.value}),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none transition-colors",placeholder:"Ã–rn: 2023..."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BÃ¶lÃ¼m *"}),(0,t.jsx)("input",{type:"text",required:!0,value:X.department,onChange:e=>V({...X,department:e.target.value}),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none transition-colors",placeholder:"BÃ¶lÃ¼mÃ¼nÃ¼z"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"E-posta *"}),(0,t.jsx)("input",{type:"email",required:!0,value:X.email,onChange:e=>V({...X,email:e.target.value}),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none transition-colors",placeholder:"ornek@thk.edu.tr"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Telefon"}),(0,t.jsx)("input",{type:"tel",value:X.phone,onChange:e=>V({...X,phone:e.target.value}),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none transition-colors",placeholder:"05..."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Neden KatÄ±lmak Ä°stiyorsunuz?"}),(0,t.jsx)("textarea",{rows:3,value:X.reason,onChange:e=>V({...X,reason:e.target.value}),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none resize-none transition-colors",placeholder:"KÄ±saca kendinizden bahsedin..."})]}),"error"===H&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/50 p-4 rounded-xl text-red-400 text-sm font-bold flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-400 rounded-full"}),"Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin."]}),(0,t.jsx)("button",{type:"submit",disabled:"submitting"===H,className:"w-full bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white px-6 py-4 rounded-xl font-black text-lg shadow-lg shadow-red-500/20 disabled:opacity-50 hover:scale-[1.02] transition-all",children:"submitting"===H?"GÃ¶nderiliyor...":"BaÅŸvuruyu Tamamla"})]})})]})]})}),(0,t.jsx)(S.default,{isOpen:ed.isOpen,onClose:()=>ec(e=>({...e,isOpen:!1})),title:ed.title,message:ed.message,onConfirm:ed.onConfirm,confirmText:ed.confirmText,type:ed.type,showCancel:ed.showCancel})]})]})}function z({event:e,isPast:a=!1,user:l}){let n=(0,r.useRouter)(),o=(0,r.useParams)(),d=new Date(e.date),x=d.toLocaleDateString("tr-TR",{day:"2-digit",month:"long",year:"numeric"}),u=d.toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),h="number"==typeof e.attendees?e.attendees:0,b="number"==typeof e.capacity?e.capacity:0,[p,g]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),[w,N]=(0,s.useState)(h),[k,C]=(0,s.useState)({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"info",showCancel:!0});(0,s.useEffect)(()=>{N("number"==typeof e.attendees?e.attendees:0)},[e.attendees]),(0,s.useEffect)(()=>{l&&e.id&&fetch(`/api/events/attend?eventId=${e.id}&userId=${l.id||l.username}`).then(e=>e.json()).then(e=>{e.hasJoined&&g(!0)}).catch(e=>console.error(e))},[l,e.id]);let T=async t=>{if(t.preventDefault(),t.stopPropagation(),!l)return void C({isOpen:!0,title:"GiriÅŸ YapmalÄ±sÄ±nÄ±z",message:"EtkinliÄŸe katÄ±lmak iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z. GiriÅŸ sayfasÄ±na yÃ¶nlendirilsin mi?",confirmText:"GiriÅŸ Yap",type:"info",onConfirm:()=>n.push("/giris")});v(!0);try{let t=await fetch("/api/events/attend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e.id,userId:l.id||l.username})}),s=await t.json();t.ok?(g(!0),C({isOpen:!0,title:"KatÄ±lÄ±m BaÅŸarÄ±lÄ± ðŸŽ‰",message:"EtkinliÄŸe baÅŸarÄ±yla kayÄ±t oldunuz.",confirmText:"Tamam",showCancel:!1,type:"success",onConfirm:()=>{}}),"number"==typeof s.attendees&&N(s.attendees)):C({isOpen:!0,title:"Hata",message:s.error||"KatÄ±lÄ±m sÄ±rasÄ±nda bir hata oluÅŸtu.",confirmText:"Tamam",showCancel:!1,type:"danger",onConfirm:()=>{}})}catch(e){C({isOpen:!0,title:"Hata",message:"Bir hata oluÅŸtu.",confirmText:"Tamam",showCancel:!1,type:"danger",onConfirm:()=>{}})}finally{v(!1)}};return(0,t.jsxs)("div",{className:`glass-dark border rounded-2xl p-6 hover:border-red-500/50 hover:shadow-2xl hover:shadow-red-500/20 transition-all duration-500 group relative overflow-hidden ${a?"border-slate-700/30 opacity-75":"border-slate-700/50"}`,children:[(0,t.jsxs)(i.default,{href:`/kulupler/${o.slug}/etkinlik/${e.id}`,className:"absolute inset-0 z-0",children:[e.coverImage?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:e.coverImage,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-900/80 group-hover:bg-slate-900/70 transition-colors duration-500"})]}):e.images&&e.images.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:e.images[0],className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-900/80 group-hover:bg-slate-900/70 transition-colors duration-500"})]}):(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-900"}),(0,t.jsx)("span",{className:"sr-only",children:"DetaylarÄ± Ä°ncele"})]}),(0,t.jsxs)("div",{className:"relative z-10 pointer-events-none",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"bg-red-500/20 border border-red-500/30 text-red-400 px-3 py-1 rounded-full text-xs font-black uppercase",children:e.category}),a&&(0,t.jsxs)("span",{className:"flex items-center gap-1.5 text-green-400 text-xs font-bold",children:[(0,t.jsx)(y.CheckCircle,{className:"w-4 h-4"}),"TamamlandÄ±"]})]}),(0,t.jsx)("h3",{className:"text-xl font-black text-white mb-3 group-hover:text-red-400 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,t.jsx)(c.Calendar,{className:"w-4 h-4 text-orange-400"}),(0,t.jsxs)("span",{className:"font-medium",children:[x," â€¢ ",u]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,t.jsx)(m.MapPin,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsx)("span",{className:"font-medium",children:e.location})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs font-bold mb-1.5",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"KatÄ±lÄ±m"}),(0,t.jsxs)("span",{className:"text-white",children:[w," / ",-1===b?"âˆž":b]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-slate-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full transition-all duration-500 ${-1===b?"bg-blue-500 w-full":"bg-gradient-to-r from-orange-600 to-red-600"}`,style:{width:-1===b?"100%":`${Math.min(100,w/b*100)}%`}})})]}),(0,t.jsx)("div",{className:"flex justify-end mb-2 pointer-events-auto",children:(0,t.jsxs)(i.default,{href:`/kulupler/${o.slug}/etkinlik/${e.id}`,className:"text-white text-xs font-bold flex items-center gap-1 hover:text-red-400 transition-colors hover:translate-x-1 duration-300",children:["DetaylarÄ± Ä°ncele ",(0,t.jsx)(f.ChevronRight,{className:"w-4 h-4"})]})})]}),!a&&(0,t.jsx)("div",{className:"relative z-20 mt-4",children:(0,t.jsx)("button",{onClick:T,disabled:p||j,className:`w-full text-white px-4 py-3 rounded-xl font-black text-sm shadow-lg hover:scale-105 transition-all duration-300 ${p?"bg-green-600 hover:bg-green-700 shadow-green-500/30 cursor-default":"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 shadow-red-500/30"}`,children:j?"Ä°ÅŸleniyor...":p?"âœ… KatÄ±lÄ±m SaÄŸlandÄ±":"ðŸŽŸï¸ KatÄ±l"})}),(0,t.jsx)(S.default,{isOpen:k.isOpen,onClose:()=>C(e=>({...e,isOpen:!1})),title:k.title,message:k.message,onConfirm:k.onConfirm,confirmText:k.confirmText,type:k.type,showCancel:k.showCancel})]})}e.s(["default",()=>T])}]);