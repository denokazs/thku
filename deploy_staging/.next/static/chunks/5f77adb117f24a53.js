(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let s=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>s],37727)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},70756,e=>{"use strict";let s=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>s],70756)},66303,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(18566),a=e.i(70756),r=e.i(69638),i=e.i(37727),n=e.i(31278),d=e.i(22016),o=e.i(78481);function c(){let e=(0,l.useRouter)(),n=(0,l.useSearchParams)().get("token"),[c,m]=(0,t.useState)({password:"",confirmPassword:""}),[u,x]=(0,t.useState)("idle"),[h,f]=(0,t.useState)("");(0,t.useEffect)(()=>{n||(x("error"),f("Geçersiz bağlantı."))},[n]);let b=async s=>{if(s.preventDefault(),n){if(x("loading"),f(""),c.password!==c.confirmPassword){x("error"),f("Şifreler eşleşmiyor.");return}try{let s=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,password:c.password,confirmPassword:c.confirmPassword})}),t=await s.json();s.ok?(x("success"),setTimeout(()=>{e.push("/giris")},3e3)):(x("error"),f(t.error||"Bir hata oluştu."))}catch(e){x("error"),f("Bağlantı hatası.")}}};return n?(0,s.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-slate-100 relative overflow-hidden",children:"success"===u?(0,s.jsxs)(o.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-green-200 shadow-lg",children:(0,s.jsx)(r.CheckCircle,{className:"w-10 h-10"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Şifreniz Yenilendi!"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:"Artık yeni şifrenizle giriş yapabilirsiniz."}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Yönlendiriliyorsunuz..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-900 rounded-2xl flex items-center justify-center text-white mb-4 -rotate-3 shadow-lg shadow-blue-200",children:(0,s.jsx)(a.Lock,{className:"w-8 h-8"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"Yeni Şifre"}),(0,s.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Lütfen hesabınız için yeni bir şifre belirleyin."})]}),(0,s.jsxs)("form",{onSubmit:b,className:"space-y-4",children:["error"===u&&(0,s.jsxs)("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 font-medium text-center flex items-center justify-center gap-2",children:[(0,s.jsx)(i.X,{className:"w-4 h-4"})," ",h]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700 ml-1",children:"Yeni Şifre"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.Lock,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,s.jsx)("input",{type:"password",value:c.password,onChange:e=>m({...c,password:e.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-slate-800",placeholder:"••••••••",required:!0,minLength:8,disabled:"loading"===u})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700 ml-1",children:"Yeni Şifre (Tekrar)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.Lock,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,s.jsx)("input",{type:"password",value:c.confirmPassword,onChange:e=>m({...c,confirmPassword:e.target.value}),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-slate-800",placeholder:"••••••••",required:!0,minLength:8,disabled:"loading"===u})]})]}),(0,s.jsx)("button",{type:"submit",disabled:"loading"===u,className:"w-full bg-blue-900 text-white py-4 rounded-xl font-bold hover:bg-blue-800 transition-colors shadow-lg shadow-blue-900/20 mt-4 disabled:opacity-70 disabled:cursor-not-allowed",children:"loading"===u?"Güncelleniyor...":"Şifreyi Güncelle"})]})]})}):(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-red-100 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(i.X,{className:"w-8 h-8"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:"Geçersiz Bağlantı"}),(0,s.jsx)("p",{className:"text-slate-600 mb-6",children:"Şifre sıfırlama bağlantısı geçersiz veya eksik."}),(0,s.jsx)(d.default,{href:"/giris",className:"text-blue-600 font-bold hover:underline",children:"Giriş sayfasına dön"})]})}function m(){return(0,s.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:(0,s.jsx)(t.Suspense,{fallback:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(n.Loader2,{className:"w-10 h-10 animate-spin text-blue-600 mb-4"}),(0,s.jsx)("p",{className:"text-slate-500 font-medium",children:"Yükleniyor..."})]}),children:(0,s.jsx)(c,{})})})}e.s(["default",()=>m])}]);