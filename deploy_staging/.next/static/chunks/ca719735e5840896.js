(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},59634,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(98643),l=e.i(22016),r=e.i(71689),i=e.i(27612),n=e.i(7233),c=e.i(37727);let d=(0,e.i(75254).default)("list-filter",[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]]);var o=e.i(78481),x=e.i(88653);function h(){let{showConfirm:e,showAlert:h}=(0,s.useConfirm)(),[u,m]=(0,a.useState)([]),[b,p]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!0),[g,y]=(0,a.useState)(""),[v,N]=(0,a.useState)("Haber"),[w,k]=(0,a.useState)(""),[H,S]=(0,a.useState)(""),[C,T]=(0,a.useState)(""),[M,P]=(0,a.useState)("eng"),[z,E]=(0,a.useState)(""),[A,B]=(0,a.useState)(!1);(0,a.useEffect)(()=>{K()},[]);let K=async()=>{try{let e=await fetch("/api/news");if(e.ok){let t=await e.json();m(t)}else await h("Haberler yüklenirken bir hata oluştu.","danger")}catch(e){console.error("Failed to fetch news",e),await h("Haberler yüklenirken bir hata oluştu.","danger")}finally{j(!1)}},Y=async e=>{e.preventDefault(),(await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:g,date:w,category:v,summary:H,content:C,facultyId:M,image:z})})).ok?(K(),y(""),S(""),T(""),k(""),E(""),p(!1)):await h("Haber eklenirken hata oluştu.","danger")},D=async e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void await h("Lütfen sadece resim dosyası yükleyin.","danger");B(!0);let a=new FormData;a.append("file",t);try{let e=await fetch("/api/upload",{method:"POST",body:a});if(e.ok){let t=await e.json();E(t.url),await h("Resim başarıyla yüklendi!","success")}else await h("Resim yüklenirken hata oluştu.","danger")}catch(e){await h("Resim yüklenirken hata oluştu.","danger")}finally{B(!1)}},O=async t=>{await e({title:"Haber Silme Onayı",message:"Bu haberi silmek istediğinize emin misiniz?",type:"danger"})&&((await fetch(`/api/news?id=${t}`,{method:"DELETE"})).ok?K():await h("Haber silinemedi.","danger"))};return(0,t.jsxs)("main",{className:"min-h-screen bg-slate-50 relative pb-20",children:[(0,t.jsx)("div",{className:"bg-slate-900 text-white pt-8 pb-32 px-8",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,t.jsx)(l.default,{href:"/admin/content",className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:(0,t.jsx)(r.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)("h1",{className:"text-3xl font-black",children:"Haber Yönetimi"})]})})}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-8 -mt-24 relative z-10",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase",children:"Toplam Haber"}),(0,t.jsx)("h2",{className:"text-3xl font-black text-slate-800",children:u.length})]}),(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)(d,{className:"w-6 h-6"})})]}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white p-6 rounded-2xl shadow-lg shadow-blue-600/20 hover:bg-blue-700 transition-all flex items-center justify-center gap-3 md:col-span-2",children:[(0,t.jsx)(n.Plus,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:"Yeni Haber Ekle"})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden min-h-[400px]",children:f?(0,t.jsx)("div",{className:"flex items-center justify-center h-full p-20 text-slate-400",children:"Yükleniyor..."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,t.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Tarih"}),(0,t.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Başlık"}),(0,t.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Kategori"}),(0,t.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Fakülte"}),(0,t.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"İşlem"})]})}),(0,t.jsxs)("tbody",{children:[u.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("td",{className:"p-6 text-sm font-medium text-slate-500 whitespace-nowrap",children:e.date}),(0,t.jsxs)("td",{className:"p-6 max-w-md",children:[(0,t.jsx)("p",{className:"font-bold text-slate-800 truncate",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-slate-400 truncate",children:e.summary})]}),(0,t.jsx)("td",{className:"p-6",children:(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold",children:e.category})}),(0,t.jsx)("td",{className:"p-6 text-sm text-slate-500 uppercase font-mono",children:e.facultyId}),(0,t.jsx)("td",{className:"p-6 text-right",children:(0,t.jsx)("button",{onClick:()=>O(e.id),className:"p-2 text-red-400 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:(0,t.jsx)(i.Trash2,{className:"w-5 h-5"})})})]},e.id)),0===u.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"p-12 text-center text-slate-400",children:"Henüz haber eklenmemiş."})})]})]})})})]}),(0,t.jsx)(x.AnimatePresence,{children:b&&(0,t.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>p(!1),children:(0,t.jsxs)(o.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-slate-800",children:"Yeni Haber Ekle"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,t.jsx)(c.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("form",{onSubmit:Y,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Başlık"}),(0,t.jsx)("input",{required:!0,type:"text",value:g,onChange:e=>y(e.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Haber başlığı..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Tarih"}),(0,t.jsx)("input",{required:!0,type:"text",value:w,onChange:e=>k(e.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Örn: 22 Ekim 2025"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Kategori"}),(0,t.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Haber",children:"Haber"}),(0,t.jsx)("option",{value:"Etkinlik",children:"Etkinlik"}),(0,t.jsx)("option",{value:"Duyuru",children:"Duyuru"}),(0,t.jsx)("option",{value:"Başarı",children:"Başarı"}),(0,t.jsx)("option",{value:"Akademik",children:"Akademik"}),(0,t.jsx)("option",{value:"Kariyer",children:"Kariyer"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Fakülte ID"}),(0,t.jsxs)("select",{value:M,onChange:e=>P(e.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"air",children:"Hava Ulaştırma (air)"}),(0,t.jsx)("option",{value:"aero",children:"Havacılık ve Uzay (aero)"}),(0,t.jsx)("option",{value:"eng",children:"Mühendislik (eng)"}),(0,t.jsx)("option",{value:"man",children:"İşletme (man)"}),(0,t.jsx)("option",{value:"genel",children:"Genel"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Özet (Kısa Açıklama)"}),(0,t.jsx)("textarea",{required:!0,value:H,onChange:e=>S(e.target.value),rows:2,className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium",placeholder:"Listede görünecek kısa özet..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Tam İçerik"}),(0,t.jsx)("textarea",{required:!0,value:C,onChange:e=>T(e.target.value),rows:6,className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium",placeholder:"Haberin detaylı içeriği..."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Haber Görseli"}),z?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:z,alt:"Preview",className:"w-full h-48 object-cover rounded-xl"}),(0,t.jsx)("button",{type:"button",onClick:()=>E(""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,t.jsx)(c.X,{className:"w-4 h-4"})})]}):(0,t.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:border-blue-500 hover:bg-blue-50/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,t.jsx)(n.Plus,{className:"w-10 h-10 text-slate-400 mb-2"}),(0,t.jsx)("p",{className:"text-sm font-bold text-slate-600",children:A?"Yükleniyor...":"Resim Yükle"}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"PNG, JPG veya GIF"})]}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:D,disabled:A})]})]}),(0,t.jsx)("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Yayınla"})]})]})})})]})}e.s(["default",()=>h],59634)}]);