(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73504,e=>{"use strict";var t=e.i(43476),s=e.i(71645),l=e.i(97815),a=e.i(78481),r=e.i(88653),i=e.i(18566),n=e.i(98643),o=e.i(22016),d=e.i(71689),c=e.i(87316),x=e.i(7233),m=e.i(56909),h=e.i(69638),b=e.i(63209),u=e.i(37727),p=e.i(61911),g=e.i(39616),f=e.i(92270),j=e.i(60289),v=e.i(27612),y=e.i(92930),N=e.i(75254);let w=(0,N.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var k=e.i(25652),S=e.i(69074),C=e.i(86311),T=e.i(14764),z=e.i(70756);let A=(0,N.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var E=e.i(17923);let D=(0,N.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),K=({club:e,setClub:l,showNotification:a})=>{let[r,i]=(0,s.useState)(e),[n,o]=(0,s.useState)(!1),d=async e=>{e.preventDefault(),o(!0);try{let e=await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(e.ok){let t=await e.json();l(t),a("KulÃ¼p ayarlarÄ± kaydedildi!")}else a("Hata oluÅŸtu!","error")}catch(e){a("BaÄŸlantÄ± hatasÄ±!","error")}finally{o(!1)}};return(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8 max-w-3xl",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-6",children:"KulÃ¼p AyarlarÄ±"}),(0,t.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-6 pb-6 border-b border-slate-700/50 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Marka & GÃ¶rseller"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"KulÃ¼p Logosu"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-24 h-24 rounded-2xl border-4 border-slate-700 overflow-hidden flex items-center justify-center text-4xl shadow-xl bg-gradient-to-br ${r.logoBackground||"from-red-600 to-orange-600"}`,children:r.logo&&(r.logo.startsWith("/")||r.logo.startsWith("http"))?(0,t.jsx)("img",{src:r.logo,alt:"Logo",className:"w-full h-full object-cover"}):r.logo||"âœ¨"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("label",{className:"cursor-pointer bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[(0,t.jsx)(S.Upload,{className:"w-4 h-4"})," Resim YÃ¼kle",(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{if(e.target.files?.[0]){o(!0);try{let t=e.target.files[0],s=new FormData;s.append("file",t);let l=await fetch("/api/upload",{method:"POST",body:s});if(l.ok){let{url:e}=await l.json();i(t=>({...t,logo:e}))}}finally{o(!1)}}}})]}),(0,t.jsx)("input",{type:"text",placeholder:"veya Emoji",className:"w-24 bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-white outline-none focus:border-red-500 text-center",value:!r.logo||r.logo.startsWith("/")||r.logo.startsWith("http")?"":r.logo,onChange:e=>i({...r,logo:e.target.value})})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Ã–nerilen: 500x500px (Kare) ",(0,t.jsx)("br",{}),"Format: PNG, JPG veya Emoji"]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Logo Arka PlanÄ±"}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[{bg:"from-red-600 to-orange-600",label:"KÄ±rmÄ±zÄ±"},{bg:"from-blue-600 to-cyan-600",label:"Mavi"},{bg:"from-purple-600 to-pink-600",label:"Mor"},{bg:"from-emerald-600 to-green-600",label:"YeÅŸil"},{bg:"from-yellow-500 to-orange-500",label:"SarÄ±"},{bg:"from-slate-800 to-slate-900",label:"Koyu"},{bg:"from-indigo-600 to-violet-600",label:"Ä°ndigo"},{bg:"from-rose-600 to-pink-600",label:"GÃ¼l"},{bg:"from-fuchsia-600 to-purple-600",label:"FuÅŸya"},{bg:"from-cyan-600 to-blue-600",label:"Turkuaz"},{bg:"from-white to-slate-200",label:"Beyaz"}].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>i({...r,logoBackground:e.bg}),className:`w-full aspect-square rounded-lg bg-gradient-to-br ${e.bg} ${r.logoBackground===e.bg?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":"opacity-70 hover:opacity-100"}`,title:e.label},e.bg))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:["Kapak FotoÄŸrafÄ± ",(0,t.jsx)("span",{className:"text-xs font-normal text-slate-500 ml-2",children:"(Ã–nerilen: 1200x400px)"})]}),(0,t.jsxs)("div",{className:"relative w-full h-40 rounded-xl overflow-hidden group border border-slate-700 bg-slate-800",children:[(0,t.jsx)("img",{src:r.coverImage||"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=1200&h=400&fit=crop",alt:"Cover",className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("label",{className:"cursor-pointer bg-black/50 hover:bg-black/70 text-white px-4 py-2 rounded-lg backdrop-blur-sm font-bold transition-all flex items-center gap-2",children:[(0,t.jsx)(w,{className:"w-5 h-5"})," Kapak FotoÄŸrafÄ±nÄ± DeÄŸiÅŸtir",(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{if(e.target.files?.[0]){o(!0);try{let t=e.target.files[0],s=new FormData;s.append("file",t);let l=await fetch("/api/upload",{method:"POST",body:s});if(l.ok){let{url:e}=await l.json();i(t=>({...t,coverImage:e}))}}finally{o(!1)}}}})]})})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"KulÃ¼p AdÄ±"}),(0,t.jsx)("input",{type:"text",value:r.name,onChange:e=>i({...r,name:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Kategori"}),(0,t.jsx)("input",{type:"text",value:r.category,onChange:e=>i({...r,category:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none uppercase"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"KÄ±sa AÃ§Ä±klama"}),(0,t.jsx)("input",{type:"text",value:r.description,onChange:e=>i({...r,description:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"DetaylÄ± AÃ§Ä±klama"}),(0,t.jsx)("textarea",{value:r.longDescription,onChange:e=>i({...r,longDescription:e.target.value}),rows:4,className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"ToplantÄ± GÃ¼nÃ¼"}),(0,t.jsx)("input",{type:"text",value:r.meetingDay,onChange:e=>i({...r,meetingDay:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"ToplantÄ± Yeri"}),(0,t.jsx)("input",{type:"text",value:r.meetingLocation,onChange:e=>i({...r,meetingLocation:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]})]}),(0,t.jsxs)("div",{className:"pt-6 border-t border-slate-700/50",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"BaÅŸkan Bilgileri"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸkan FotoÄŸrafÄ±"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-full border-2 border-slate-700 overflow-hidden bg-slate-800 flex items-center justify-center",children:r.president?.avatar&&(r.president.avatar.startsWith("/")||r.president.avatar.startsWith("http"))?(0,t.jsx)("img",{src:r.president.avatar,alt:"President",className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"text-3xl",children:r.president?.avatar||"ðŸ‘¤"})}),(0,t.jsxs)("div",{className:"flex-1",children:[n?(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"YÃ¼kleniyor..."}):(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors w-fit",children:[(0,t.jsx)(S.Upload,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:"FotoÄŸraf YÃ¼kle"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",disabled:n,onChange:async e=>{if(e.target.files?.[0]){o(!0);try{let t=e.target.files[0],s=new FormData;s.append("file",t);let l=await fetch("/api/upload",{method:"POST",body:s});if(l.ok){let e=await l.json();i(t=>({...t,president:{...t.president,avatar:e.url}})),a("FotoÄŸraf yÃ¼klendi!")}else a("YÃ¼kleme baÅŸarÄ±sÄ±z!","error")}catch(e){a("Hata oluÅŸtu.","error")}finally{o(!1)}}}})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Ã–nerilen: 500x500px (Kare)"})]}),r.president?.avatar&&(r.president.avatar.startsWith("/")||r.president.avatar.startsWith("http"))&&(0,t.jsx)("button",{type:"button",onClick:()=>i({...r,president:{...r.president,avatar:"ðŸ‘¤"}}),className:"ml-2 text-red-400 hover:text-red-300 text-sm font-bold",children:"KaldÄ±r"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸkan AdÄ±"}),(0,t.jsx)("input",{type:"text",value:r.president?.name||"",onChange:e=>i({...r,president:{...r.president,name:e.target.value}}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none",placeholder:"Ã–rn: Ahmet YÄ±lmaz"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸkan E-posta"}),(0,t.jsx)("input",{type:"email",value:r.president?.email||"",onChange:e=>i({...r,president:{...r.president,email:e.target.value}}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none",placeholder:"baskan@thku.edu.tr"})]})]})]})]}),(0,t.jsx)("div",{className:"pt-6 border-t border-slate-700/50 flex justify-end",children:(0,t.jsxs)("button",{type:"submit",disabled:n,className:"bg-gradient-to-r from-red-600 to-orange-600 text-white px-6 py-3 rounded-xl font-bold hover:scale-105 transition-transform flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)(m.Save,{className:"w-4 h-4"})," ",n?"Kaydediliyor...":"DeÄŸiÅŸiklikleri Kaydet"]})})]})]})},B=({club:e})=>{let[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0),[o,d]=(0,s.useState)(30);(0,s.useEffect)(()=>{x()},[o]);let x=async()=>{n(!0);try{let t=await fetch(`/api/analytics/stats?scope=club&days=${o}&slug=${e.slug}`);if(t.ok){let e=await t.json();m(e)}}catch(e){console.error("Error fetching stats:",e)}finally{n(!1)}},m=e=>{let t={};for(let e=0;e<o;e++){let s=new Date;s.setDate(s.getDate()-e),t[s.toISOString().split("T")[0]]=0}e.views.forEach(e=>{let s=e.timestamp.split("T")[0];void 0!==t[s]&&t[s]++});let s=Object.entries(t).sort((e,t)=>e[0].localeCompare(t[0])).map(([e,t])=>({date:e,count:t}));r({totalViews:e.totalViews,uniqueVisitors:e.uniqueVisitors,chartData:s,memberStats:e.memberStats,eventStats:e.eventStats})};if(i&&!l)return(0,t.jsx)("div",{className:"text-white text-center py-12",children:"YÃ¼kleniyor..."});let h=Math.max(...l?.chartData.map(e=>e.count)||[0],5),b=l?.memberStats?.growth.length>0?Math.max(...l.memberStats.growth.map(e=>e.count)):10;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Genel Ä°statistikler"}),(0,t.jsx)("div",{className:"flex gap-2 bg-slate-800 p-1 rounded-lg border border-slate-700",children:[7,30,90].map(e=>(0,t.jsxs)("button",{onClick:()=>d(e),className:`px-4 py-2 rounded-md text-xs font-bold transition-colors ${o===e?"bg-red-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:["Son ",e," GÃ¼n"]},e))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Toplam GÃ¶rÃ¼ntÃ¼lenme"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:l?.totalViews.toLocaleString()})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Tekil ZiyaretÃ§i"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:l?.uniqueVisitors.toLocaleString()})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Toplam Ãœye"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:l?.memberStats?.totalMembers.toLocaleString()})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Ort. Etkinlik KatÄ±lÄ±mÄ±"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:l?.eventStats?.avgAttendees.toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(E.BarChart3,{className:"w-5 h-5 text-slate-400"}),"GÃ¶rÃ¼ntÃ¼lenme GrafiÄŸi"]}),(0,t.jsx)("div",{className:"h-64 flex items-end gap-2",children:l?.chartData.map((e,s)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-end group relative",children:[(0,t.jsx)(a.motion.div,{initial:{height:0},animate:{height:`${e.count/h*100}%`},className:"bg-gradient-to-t from-red-600 to-orange-500 rounded-t-sm w-full opacity-80 group-hover:opacity-100 transition-opacity min-h-[4px]"}),(0,t.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:(0,t.jsxs)("div",{className:"bg-white text-slate-900 text-xs py-1 px-2 rounded font-bold whitespace-nowrap",children:[e.date,": ",e.count]})})]},s))}),(0,t.jsxs)("div",{className:"mt-4 flex justify-between text-[10px] text-slate-500 border-t border-slate-800 pt-2 font-mono",children:[(0,t.jsx)("span",{children:l?.chartData[0].date}),(0,t.jsx)("span",{children:l?.chartData[l?.chartData.length-1].date})]})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(k.TrendingUp,{className:"w-5 h-5 text-slate-400"}),"Ãœye GeliÅŸimi (KÃ¼mÃ¼latif)"]}),(0,t.jsx)("div",{className:"h-64 flex items-end gap-2",children:l?.memberStats?.growth.length>0?l?.memberStats?.growth.map((e,s)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-end group relative",children:[(0,t.jsx)(a.motion.div,{initial:{height:0},animate:{height:`${e.count/b*100}%`},className:"bg-blue-600 rounded-t-sm w-full opacity-60 group-hover:opacity-100 transition-opacity min-h-[4px]"}),(0,t.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:(0,t.jsxs)("div",{className:"bg-white text-slate-900 text-xs py-1 px-2 rounded font-bold whitespace-nowrap",children:[e.date,": ",e.count," Ãœye"]})}),(0,t.jsx)("div",{className:"text-[10px] text-slate-600 mt-2 text-center rotate-[-45deg] origin-top-left invisible group-hover:visible absolute top-full left-1/2",children:e.date})]},s)):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-500",children:"Yeterli veri yok"})})]})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(c.Calendar,{className:"w-5 h-5 text-slate-400"}),"Son Etkinlik Analizi"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-800 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[(0,t.jsx)("th",{className:"pb-3 text-left",children:"Etkinlik"}),(0,t.jsx)("th",{className:"pb-3 text-right",children:"Tarih"}),(0,t.jsx)("th",{className:"pb-3 text-right",children:"KatÄ±lÄ±mcÄ± SayÄ±sÄ±"}),(0,t.jsx)("th",{className:"pb-3 text-right",children:"Etki OranÄ±"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-slate-800",children:[l?.eventStats?.recentEvents.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 font-bold text-white",children:e.title}),(0,t.jsx)("td",{className:"py-3 text-right text-slate-400 text-sm",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("td",{className:"py-3 text-right text-white font-mono",children:e.attendees}),(0,t.jsx)("td",{className:"py-3 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("div",{className:"w-24 h-1.5 bg-slate-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500",style:{width:`${Math.min(e.attendees/(l?.memberStats?.totalMembers||1)*100,100)}%`}})}),(0,t.jsxs)("span",{className:"text-xs text-green-400 font-bold",children:[Math.round(e.attendees/(l?.memberStats?.totalMembers||1)*100),"%"]})]})})]},s)),(!l?.eventStats?.recentEvents||l?.eventStats?.recentEvents.length===0)&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"py-8 text-center text-slate-500",children:"HenÃ¼z etkinlik verisi yok."})})]})]})})]})]})};function Y(){let e=(0,i.useParams)(),m=(0,i.useRouter)(),{showConfirm:N,showAlert:Y}=(0,n.useConfirm)(),{user:F,isLoading:$,logout:O}=(0,l.useAuth)(),[I,L]=(0,s.useState)(null),[q,U]=(0,s.useState)([]),[P,R]=(0,s.useState)([]),[G,M]=(0,s.useState)([]),[W,H]=(0,s.useState)([]),[J,V]=(0,s.useState)(null),[_,X]=(0,s.useState)("dashboard"),[Z,Q]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if($)return;if(!F)return void m.push("/giris");let t=async()=>{try{let t=await fetch("/api/clubs",{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch clubs");let s=await t.json();if(!Array.isArray(s))return;let l=s.find(t=>t.slug===e.slug);if(l){if("super_admin"===F.role);else if("club_admin"===F.role){if(!F.clubId||F.clubId!==l.id){ee("Bu kulÃ¼bÃ¼ yÃ¶netme yetkiniz yok!","error"),setTimeout(()=>m.push("/kulupler"),2e3);return}}else{ee("Bu sayfaya eriÅŸim yetkiniz yok!","error"),setTimeout(()=>m.push("/kulupler"),2e3);return}L(l);let e=await fetch(`/api/events?clubId=${l.id}`,{cache:"no-store"}),t=await e.json();U(Array.isArray(t)?t:[]);let s=await fetch(`/api/members?clubId=${l.id}`,{cache:"no-store"}),a=await s.json();R(Array.isArray(a)?a:[]),l.gallery&&M(l.gallery);let r=await fetch(`/api/messages?clubId=${l.id}`,{cache:"no-store"}),i=await r.json();Array.isArray(i)&&H(i)}else m.push("/kulupler")}catch(e){console.error("Failed to fetch data",e)}};e.slug&&t()},[e.slug,m,F,$]);let ee=(e,t="success")=>{V({type:t,message:e}),setTimeout(()=>V(null),3e3)};if($||!I)return(0,t.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})});let et=(e,t)=>{if(!e||!e.length)return void ee("DÄ±ÅŸa aktarÄ±lacak veri bulunamadÄ±.","error");let s=Object.keys(e[0]),l=new Blob([`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head>
                <meta charset="UTF-8">
                <!--[if gte mso 9]>
                <xml>
                    <x:ExcelWorkbook>
                        <x:ExcelWorksheets>
                            <x:ExcelWorksheet>
                                <x:Name>Sheet1</x:Name>
                                <x:WorksheetOptions>
                                    <x:DisplayGridlines/>
                                </x:WorksheetOptions>
                            </x:ExcelWorksheet>
                        </x:ExcelWorksheets>
                    </x:ExcelWorkbook>
                </xml>
                <![endif]-->
                <style>
                    td { mso-number-format:"\\@"; } /* Force text format to prevent scientific notation */
                </style>
            </head>
            <body>
                <table>
                    <thead>
                        <tr>${s.map(e=>`<th>${e}</th>`).join("")}</tr>
                    </thead>
                    <tbody>
                        ${e.map(e=>`<tr>${s.map(t=>`<td>${void 0!==e[t]?e[t]:""}</td>`).join("")}</tr>`).join("")}
                    </tbody>
                </table>
            </body>
            </html>
        `],{type:"application/vnd.ms-excel"}),a=document.createElement("a");if(void 0!==a.download){let e=URL.createObjectURL(l);a.setAttribute("href",e),a.setAttribute("download",t),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white flex",children:[(0,t.jsx)(r.AnimatePresence,{children:J&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:-20,x:"-50%"},animate:{opacity:1,y:20,x:"-50%"},exit:{opacity:0},className:`fixed top-0 left-1/2 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 font-bold border ${"success"===J.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:["success"===J.type?(0,t.jsx)(h.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(b.AlertCircle,{className:"w-5 h-5"}),J.message]})}),(0,t.jsxs)("div",{className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col fixed h-full z-20",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${I.logoBackground||"from-red-600 to-orange-600"} flex items-center justify-center text-2xl shadow-lg overflow-hidden`,children:I.logo&&(I.logo.startsWith("/")||I.logo.startsWith("http"))?(0,t.jsx)("img",{src:I.logo,alt:I.name,className:"w-full h-full object-cover"}):I.logo}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-black text-sm tracking-wide",children:I.name}),(0,t.jsx)("div",{className:"text-xs text-red-500 font-bold uppercase tracking-wider",children:"Admin Paneli"})]})]})}),(0,t.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"dashboard",label:"Genel BakÄ±ÅŸ",icon:j.LayoutDashboard},{id:"statistics",label:"Ä°statistikler",icon:E.BarChart3},{id:"messages",label:"Mesajlar",icon:C.MessageSquare},{id:"events",label:"Etkinlikler",icon:c.Calendar},{id:"members",label:"Ãœyeler",icon:p.Users},{id:"gallery",label:"Galeri",icon:w},{id:"settings",label:"Ayarlar",icon:g.Settings}].map(e=>(0,t.jsxs)("button",{onClick:()=>X(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-colors ${_===e.id?"bg-red-600 text-white shadow-lg shadow-red-500/20":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[(0,t.jsx)(e.icon,{className:"w-5 h-5"})," ",e.label]},e.id))}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-800",children:[(0,t.jsx)(o.default,{href:`/kulupler/${I.slug}`,children:(0,t.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-slate-400 hover:text-white hover:bg-slate-800 transition-colors mb-2",children:[(0,t.jsx)(d.ArrowLeft,{className:"w-5 h-5"})," KulÃ¼p SayfasÄ±na DÃ¶n"]})}),(0,t.jsxs)("button",{onClick:O,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-red-400 hover:bg-red-500/10 transition-colors text-left",children:[(0,t.jsx)(f.LogOut,{className:"w-5 h-5"})," Ã‡Ä±kÄ±ÅŸ Yap"]})]})]}),(0,t.jsx)("div",{className:"flex-1 ml-64 bg-slate-950 min-h-screen",children:(0,t.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-black text-white mb-1",children:["dashboard"===_&&"Genel BakÄ±ÅŸ","statistics"===_&&"Ä°statistikler","messages"===_&&"Mesaj Kutusu","events"===_&&"Etkinlik YÃ¶netimi","members"===_&&"Ãœye Listesi","gallery"===_&&"Galeri YÃ¶netimi","settings"===_&&"KulÃ¼p AyarlarÄ±"]}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["HoÅŸ geldin, ",I.president?.name||"YÃ¶netici"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-full border border-slate-700",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs font-bold text-slate-300",children:"Sistem Ã‡evrimiÃ§i"})]})]}),(0,t.jsx)(r.AnimatePresence,{mode:"wait",children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["dashboard"===_&&(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Toplam Ãœye"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:P.length}),(0,t.jsxs)("div",{className:"text-green-400 text-xs font-bold mt-2 flex items-center gap-1",children:[(0,t.jsx)(k.TrendingUp,{className:"w-3 h-3"})," +",P.filter(e=>e.joinedAt&&String(e.joinedAt).includes(new Date().getFullYear().toString())).length," bu yÄ±l"]})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Aktif Etkinlik"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:q.length})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Galeri MedyasÄ±"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:G.length})]}),(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"OkunmamÄ±ÅŸ Mesaj"}),(0,t.jsx)("div",{className:"text-3xl font-black text-white",children:W.filter(e=>"sent"===e.status).length})]})]}),{}),"statistics"===_&&(0,t.jsx)(B,{club:I}),"messages"===_&&(0,t.jsx)(()=>{let[e,l]=(0,s.useState)("all"),[a,r]=(0,s.useState)(null),[i,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)(!1),[m,b]=(0,s.useState)([]),u=W.filter(t=>"unread"===e?"sent"===t.status||"read"===t.status:"in_progress"===e?"in_progress"===t.status:"resolved"!==e||"resolved"===t.status||"replied"===t.status);(0,s.useEffect)(()=>{a?.userId&&b(W.filter(e=>e.userId===a.userId&&e.id!==a.id))},[a,W]);let g=async e=>{Q(!0);try{let t=await fetch("/api/messages",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,...e})});if(t.ok){let e=await t.json();H(W.map(t=>t.id===a.id?e:t)),r(e),ee("GÃ¼ncellendi")}}catch(e){ee("Hata oluÅŸtu","error")}finally{Q(!1)}},f=async e=>{e.preventDefault(),await g({response:i}),n("")},j=async e=>{e.preventDefault(),o.trim()&&(await g({newNote:o}),d(""),x(!1))},v=async e=>{if(r(e),n(""),"sent"===e.status)try{await fetch("/api/messages",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,read:!0})});let t={...e,status:"read",readAt:new Date().toISOString()};H(W.map(s=>s.id===e.id?t:s)),r(t)}catch(e){console.error(e)}};return(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-200px)]",children:[(0,t.jsxs)("div",{className:"lg:col-span-3 glass-dark border border-slate-700/50 rounded-2xl flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-700/50 space-y-3",children:[(0,t.jsx)("div",{className:"flex gap-2 bg-slate-800/50 p-1 rounded-lg",children:[{id:"all",label:"TÃ¼mÃ¼"},{id:"unread",label:"Bekleyen"}].map(s=>(0,t.jsx)("button",{onClick:()=>l(s.id),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-colors ${e===s.id?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-white"}`,children:s.label},s.id))}),(0,t.jsx)("div",{className:"flex gap-2 bg-slate-800/50 p-1 rounded-lg",children:[{id:"in_progress",label:"Ä°ncelenen"},{id:"resolved",label:"Ã‡Ã¶zÃ¼len"}].map(s=>(0,t.jsx)("button",{onClick:()=>l(s.id),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-colors ${e===s.id?"bg-blue-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:s.label},s.id))})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:0===u.length?(0,t.jsx)("div",{className:"text-center py-10 text-slate-500 text-sm",children:"Mesaj bulunamadÄ±."}):u.map(e=>(0,t.jsxs)("div",{onClick:()=>v(e),className:`p-4 rounded-xl cursor-pointer transition-all border relative overflow-hidden group ${a?.id===e.id?"bg-slate-800 border-red-500/50":"hover:bg-slate-800/50 border-transparent"} ${"sent"===e.status?"bg-slate-800/20":""}`,children:[(0,t.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${"high"===e.priority?"bg-red-500":"low"===e.priority?"bg-blue-500":"bg-transparent"}`}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-1 pl-2",children:[(0,t.jsx)("span",{className:`text-[10px] font-black px-2 py-0.5 rounded uppercase ${"Åžikayet"===e.topic?"text-red-400 bg-red-400/10":"Ã–neri"===e.topic?"text-green-400 bg-green-400/10":"text-blue-400 bg-blue-400/10"}`,children:e.topic}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsx)("h4",{className:`font-bold text-sm mb-1 pl-2 ${"sent"===e.status?"text-white":"text-slate-300"}`,children:e.subject}),(0,t.jsx)("p",{className:"text-xs text-slate-500 line-clamp-1 pl-2",children:e.senderName})]},e.id))})]}),(0,t.jsx)("div",{className:"lg:col-span-6 glass-dark border border-slate-700/50 rounded-2xl p-6 flex flex-col relative overflow-hidden",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-b border-slate-700/50 pb-4 mb-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"text-2xl font-black text-white",children:a.subject}),"high"===a.priority&&(0,t.jsx)("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded font-bold animate-pulse",children:"Acil"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,t.jsx)(p.Users,{className:"w-4 h-4"})," ",a.senderName,(0,t.jsx)("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),new Date(a.createdAt).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:a.priority||"medium",onChange:e=>g({priority:e.target.value}),className:"bg-slate-800 border border-slate-700 text-xs text-white rounded-lg p-2 outline-none focus:border-red-500 font-bold",children:[(0,t.jsx)("option",{value:"low",children:"DÃ¼ÅŸÃ¼k Ã–ncelik"}),(0,t.jsx)("option",{value:"medium",children:"Normal"}),(0,t.jsx)("option",{value:"high",children:"YÃ¼ksek Ã–ncelik"})]}),(0,t.jsxs)("select",{value:a.status,onChange:e=>g({status:e.target.value}),className:`bg-slate-800 border border-slate-700 text-xs text-white rounded-lg p-2 outline-none font-bold ${"sent"===a.status?"text-red-400 border-red-500":"in_progress"===a.status?"text-yellow-400 border-yellow-500":"text-green-400 border-green-500"}`,children:[(0,t.jsx)("option",{value:"sent",children:"Bekliyor"}),(0,t.jsx)("option",{value:"read",children:"Okundu"}),(0,t.jsx)("option",{value:"in_progress",children:"Ä°nceleniyor"}),(0,t.jsx)("option",{value:"resolved",children:"Ã‡Ã¶zÃ¼ldÃ¼"}),(0,t.jsx)("option",{value:"closed",children:"KapatÄ±ldÄ±"})]})]})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto mb-6 pr-2",children:[(0,t.jsx)("div",{className:"bg-slate-800/30 p-4 rounded-xl mb-6",children:(0,t.jsx)("p",{className:"text-slate-300 leading-relaxed text-sm whitespace-pre-wrap",children:a.content})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("h4",{className:"text-xs font-black text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[(0,t.jsx)(z.Lock,{className:"w-3 h-3"})," Gizli Notlar (Sadece YÃ¶neticiler)"]}),(0,t.jsx)("button",{onClick:()=>x(!c),className:"text-xs text-blue-400 hover:text-blue-300 font-bold",children:"+ Not Ekle"})]}),c&&(0,t.jsxs)("form",{onSubmit:j,className:"mb-4 bg-yellow-500/5 p-3 rounded-xl border border-yellow-500/20",children:[(0,t.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Gizli notunuzu yazÄ±n...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-sm text-white mb-2",value:o,onChange:e=>d(e.target.value)}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>x(!1),className:"text-xs text-slate-500",children:"Ä°ptal"}),(0,t.jsx)("button",{type:"submit",className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded font-bold hover:bg-yellow-500",children:"Ekle"})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:a.internalNotes?.map((e,s)=>(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/10 p-3 rounded-lg flex gap-3",children:[(0,t.jsx)("div",{className:"w-1 bg-yellow-500 rounded-full h-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-300 text-xs italic",children:e.note}),(0,t.jsxs)("div",{className:"text-[10px] text-slate-500 mt-1",children:[new Date(e.date).toLocaleString()," - ",e.admin]})]})]},s))})]}),a.response&&(0,t.jsxs)("div",{className:"bg-green-500/5 border border-green-500/20 p-4 rounded-xl ml-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-green-400 text-sm font-bold",children:[(0,t.jsx)("div",{className:"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(h.CheckCircle,{className:"w-3 h-3"})}),"YanÄ±tÄ±nÄ±z",(0,t.jsx)("span",{className:"text-slate-500 text-xs font-normal ml-auto",children:new Date(a.answeredAt).toLocaleString()})]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:a.response})]})]}),!a.response&&(0,t.jsxs)("div",{className:"mt-auto bg-slate-900/50 p-4 rounded-xl border border-slate-700/50",children:[(0,t.jsx)("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-2 scrollbar-thin",children:["TeÅŸekkÃ¼rler, ilgileniyoruz.","Talebiniz alÄ±nmÄ±ÅŸtÄ±r, en kÄ±sa sÃ¼rede dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z.","Konu hakkÄ±nda toplantÄ±ya bekliyoruz.","Maalesef bu isteÄŸinizi gerÃ§ekleÅŸtiremiyoruz."].map((e,s)=>(0,t.jsx)("button",{onClick:()=>n(e),className:"whitespace-nowrap px-3 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-slate-500 rounded-full text-xs text-slate-300 transition-colors",children:e},s))}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsx)("textarea",{required:!0,rows:3,value:i,onChange:e=>n(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-sm text-white focus:border-red-500 outline-none resize-none mb-3",placeholder:"KullanÄ±cÄ±ya yanÄ±t yazÄ±n..."}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:'YanÄ±tlandÄ±ÄŸÄ±nda durum "Ã‡Ã¶zÃ¼ldÃ¼" olarak gÃ¼ncellenir.'}),(0,t.jsx)("button",{type:"submit",disabled:Z,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors disabled:opacity-50 text-sm",children:Z?"...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Send,{className:"w-3 h-3"})," YanÄ±tla & Ã‡Ã¶z"]})})]})]})]})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[(0,t.jsx)(C.MessageSquare,{className:"w-16 h-16 mb-4 opacity-20"}),(0,t.jsx)("p",{className:"text-lg font-bold",children:"Bir mesaj seÃ§in"}),(0,t.jsx)("p",{className:"text-sm",children:"DetaylarÄ± gÃ¶rmek ve yanÄ±tlamak iÃ§in soldan bir mesaja tÄ±klayÄ±n."})]})}),(0,t.jsx)("div",{className:"lg:col-span-3 space-y-6",children:a?(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-6 h-full flex flex-col",children:[(0,t.jsxs)("h3",{className:"text-lg font-black text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(A,{className:"w-5 h-5 text-slate-400"}),"KullanÄ±cÄ± GeÃ§miÅŸi"]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6 bg-slate-800/50 p-3 rounded-xl border border-slate-700/50",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:a.senderName.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-bold text-sm",children:a.senderName}),(0,t.jsx)("div",{className:"text-slate-500 text-xs",children:"Ãœye"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:m.length>0?m.map(e=>(0,t.jsxs)("div",{onClick:()=>v(e),className:"p-3 rounded-xl bg-slate-800/30 hover:bg-slate-800/80 cursor-pointer border border-transparent hover:border-slate-600 transition-all group",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] text-slate-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)("span",{className:`text-[10px] px-1.5 rounded ${"resolved"===e.status?"bg-green-500/20 text-green-400":"bg-slate-700 text-slate-400"}`,children:"resolved"===e.status?"Ã‡Ã¶zÃ¼ldÃ¼":"Bekliyor"})]}),(0,t.jsx)("p",{className:"text-white text-xs font-bold line-clamp-1 group-hover:text-red-400 transition-colors",children:e.subject})]},e.id)):(0,t.jsx)("div",{className:"text-center text-slate-500 text-xs py-4",children:"Bu kullanÄ±cÄ±nÄ±n baÅŸka mesajÄ± yok."})})]}):(0,t.jsx)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-6 h-full flex items-center justify-center text-slate-500 text-center text-sm",children:"KullanÄ±cÄ± detaylarÄ±nÄ± gÃ¶rmek iÃ§in bir mesaj seÃ§in."})})]})},{}),"events"===_&&(0,t.jsx)(()=>{let[e,l]=(0,s.useState)("list"),[i,n]=(0,s.useState)(null),[o,c]=(0,s.useState)({title:"",category:"Workshop",description:"",date:"",time:"",location:"",capacity:"",images:[],coverImage:"",schedule:[],speakers:[],faq:[],requirements:"",registrationLink:""}),[m,b]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),[k,C]=(0,s.useState)([]),[T,z]=(0,s.useState)(null),A=async e=>{z(e),w(!0),C([]);try{let t=await fetch(`/api/events/attendees?eventId=${e.id}`);if(t.ok){let e=await t.json();C(Array.isArray(e)?e:[])}}catch(e){ee("KatÄ±lÄ±mcÄ±lar yÃ¼klenemedi","error")}},E=()=>{c({title:"",category:"Workshop",description:"",date:"",time:"",location:"",capacity:"",images:[],coverImage:"",schedule:[],speakers:[],faq:[],requirements:"",registrationLink:""}),b(!1),n(null)},K=async e=>{await N({title:"Etkinlik Silme OnayÄ±",message:"Bu etkinliÄŸi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger"})&&((await fetch(`/api/events?id=${e}`,{method:"DELETE"})).ok?(U(q.filter(t=>t.id!==e)),ee("Etkinlik silindi.")):ee("Silme baÅŸarÄ±sÄ±z.","error"))},B=async t=>{t.preventDefault(),Q(!0);try{if("create"===e){let e={...o,clubId:I.id,clubName:I.name,attendees:0,images:[],isPast:!1},t=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();U([e,...q]),ee("Etkinlik baÅŸarÄ±yla oluÅŸturuldu!"),l("list"),E()}}else{let e={...o,id:i},t=await fetch("/api/events",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();U(q.map(t=>t.id===i?e:t)),ee("Etkinlik gÃ¼ncellendi!"),l("list"),E()}}}catch(e){ee("Ä°ÅŸlem baÅŸarÄ±sÄ±z.","error")}finally{Q(!1)}};return"create"===e||"edit"===e?(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8 max-w-4xl",children:[(0,t.jsxs)("button",{onClick:()=>{l("list"),E()},className:"text-slate-400 hover:text-white flex items-center gap-2 mb-6 font-bold transition-colors",children:[(0,t.jsx)(d.ArrowLeft,{className:"w-4 h-4"})," Etkinlik Listesine DÃ¶n"]}),(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:"create"===e?"Yeni Etkinlik":"Etkinlik DÃ¼zenle"}),(0,t.jsxs)("form",{onSubmit:B,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-300 border-b border-slate-700 pb-2",children:"Temel Bilgiler"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"BaÅŸlÄ±k",required:!0,value:o.title,onChange:e=>c({...o,title:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,t.jsxs)("select",{value:o.category,onChange:e=>c({...o,category:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none",children:[(0,t.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,t.jsx)("option",{value:"Seminer",children:"Seminer"}),(0,t.jsx)("option",{value:"Konferans",children:"Konferans"}),(0,t.jsx)("option",{value:"EÄŸlence",children:"EÄŸlence"}),(0,t.jsx)("option",{value:"Teknik Gezi",children:"Teknik Gezi"}),(0,t.jsx)("option",{value:"YarÄ±ÅŸma",children:"YarÄ±ÅŸma"})]})]}),(0,t.jsx)("textarea",{placeholder:"AÃ§Ä±klama",required:!0,rows:4,value:o.description,onChange:e=>c({...o,description:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"date",required:!0,value:o.date.split("T")[0],onChange:e=>c({...o,date:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,t.jsx)("input",{type:"time",required:!0,value:o.time,onChange:e=>c({...o,time:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Konum",required:!0,value:o.location,onChange:e=>c({...o,location:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-300",children:"Kontenjan"}),(0,t.jsxs)("div",{className:"flex items-stretch gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("input",{type:"number",placeholder:"Kontenjan sayÄ±sÄ±",disabled:m,value:m?"":o.capacity||"",onChange:e=>{let t=parseInt(e.target.value);c({...o,capacity:isNaN(t)?0:t})},className:"w-full h-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-red-500 outline-none disabled:opacity-50 disabled:cursor-not-allowed transition-all"}),m&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 font-bold bg-slate-900/80 rounded-xl border border-slate-700 backdrop-blur-sm shadow-inner",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"âˆž"})," SÄ±nÄ±rsÄ±z"]})})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{b(!m),c({...o,capacity:m?"":-1})},className:`px-6 py-3 rounded-xl border font-bold text-sm whitespace-nowrap transition-all active:scale-95 flex items-center gap-2 ${m?"bg-green-600 border-green-500 text-white shadow-lg shadow-green-600/20":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[m?(0,t.jsx)(h.CheckCircle,{className:"w-4 h-4"}):(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-current"}),"SÄ±nÄ±rsÄ±z"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-700/50",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-slate-300",children:["Kapak FotoÄŸrafÄ± ",(0,t.jsx)("span",{className:"text-xs font-normal text-slate-500 ml-2",children:"(Ã–nerilen: 1920x1080px)"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"relative group aspect-video bg-slate-900 rounded-xl overflow-hidden border border-slate-700 max-w-md mx-auto md:mx-0 shadow-xl",children:[o.coverImage?(0,t.jsx)("img",{src:o.coverImage,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):(0,t.jsxs)("div",{className:"w-full h-full flex items-center justify-center text-slate-600 text-sm font-bold flex-col gap-3 bg-slate-800/30",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center",children:(0,t.jsx)(S.Upload,{className:"w-6 h-6 opacity-50"})}),(0,t.jsx)("span",{children:"Kapak FotoÄŸrafÄ± Yok"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[(0,t.jsxs)("label",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-xl cursor-pointer font-bold flex items-center gap-2 transform transition-transform hover:scale-105 shadow-lg shadow-blue-600/20",children:[(0,t.jsx)(S.Upload,{className:"w-4 h-4"})," FotoÄŸraf YÃ¼kle",(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{if(e.target.files?.[0]){let t=new FormData;t.append("file",e.target.files[0]);let s=await fetch("/api/upload",{method:"POST",body:t});if(s.ok){let e=await s.json();e.url&&c({...o,coverImage:e.url})}}}})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-3/4",children:[(0,t.jsx)("input",{type:"text",placeholder:"veya gÃ¶rsel URL'si",value:o.coverImage||"",onChange:e=>c({...o,coverImage:e.target.value}),className:"flex-1 bg-slate-900/90 border border-slate-600 text-white text-xs px-3 py-2 rounded-lg outline-none focus:border-blue-500 placeholder:text-slate-500"}),o.coverImage&&(0,t.jsx)("button",{type:"button",onClick:()=>c({...o,coverImage:""}),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition-colors",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]})]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-3 text-center md:text-left",children:"Bu fotoÄŸraf etkinlik detay sayfasÄ±nda en Ã¼stte bÃ¼yÃ¼k olarak gÃ¶rÃ¼necektir."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"Etkinlik GÃ¶rselleri"}),(0,t.jsx)("button",{type:"button",onClick:()=>c({...o,images:[...o.images||[],""]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(o.images||[]).map((e,s)=>(0,t.jsxs)("div",{className:"relative group aspect-video bg-slate-900 rounded-xl overflow-hidden border border-slate-700",children:[e?(0,t.jsx)("img",{src:e,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-600 text-sm font-bold",children:"Resim Yok"}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2",children:[(0,t.jsxs)("label",{className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded cursor-pointer font-bold flex items-center gap-2",children:[(0,t.jsx)(S.Upload,{className:"w-3 h-3"})," YÃ¼kle",(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{if(e.target.files?.[0]){let t=new FormData;t.append("file",e.target.files[0]);let l=await fetch("/api/upload",{method:"POST",body:t});if(l.ok){let{url:e}=await l.json(),t=[...o.images];t[s]=e,c({...o,images:t})}}}})]}),(0,t.jsx)("input",{type:"text",placeholder:"veya URL yapÄ±ÅŸtÄ±r",value:e,onChange:e=>{let t=[...o.images];t[s]=e.target.value,c({...o,images:t})},className:"bg-slate-800/80 border border-slate-600 text-white text-[10px] w-3/4 px-2 py-1 rounded outline-none"}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=o.images.filter((e,t)=>t!==s);c({...o,images:e})},className:"bg-red-600 hover:bg-red-700 text-white p-1.5 rounded-full",children:(0,t.jsx)(v.Trash2,{className:"w-3 h-3"})})]})]},s)),(!o.images||0===o.images.length)&&(0,t.jsxs)("div",{onClick:()=>c({...o,images:[""]}),className:"aspect-video bg-slate-800/30 border-2 border-dashed border-slate-700 rounded-xl flex flex-col items-center justify-center text-slate-500 hover:border-slate-500 hover:text-slate-400 cursor-pointer transition-colors",children:[(0,t.jsx)(S.Upload,{className:"w-6 h-6 mb-2"}),(0,t.jsx)("span",{className:"text-xs font-bold",children:"+ GÃ¶rsel Ekle"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-300 border-b border-slate-700 pb-2",children:"KatÄ±lÄ±m ÅžartlarÄ± / Gereksinimler"}),(0,t.jsx)("textarea",{placeholder:"Ã–rn: Laptop getirilmesi zorunludur. Temel Python bilgisi gereklidir.",rows:3,value:o.requirements||"",onChange:e=>c({...o,requirements:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"AkÄ±ÅŸ / Program"}),(0,t.jsx)("button",{type:"button",onClick:()=>c({...o,schedule:[...o.schedule||[],{time:"",title:""}]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[o.schedule&&o.schedule.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"time",value:e.time,onChange:e=>{let t=[...o.schedule];t[s].time=e.target.value,c({...o,schedule:t})},className:"bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white w-32"}),(0,t.jsx)("input",{type:"text",placeholder:"Etkinlik AdÄ±",value:e.title,onChange:e=>{let t=[...o.schedule];t[s].title=e.target.value,c({...o,schedule:t})},className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white"}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=o.schedule.filter((e,t)=>t!==s);c({...o,schedule:e})},className:"text-red-400 hover:text-red-300 p-2",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]},s)),(!o.schedule||0===o.schedule.length)&&(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"AkÄ±ÅŸ bilgisi eklenmemiÅŸ."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"KonuÅŸmacÄ±lar"}),(0,t.jsx)("button",{type:"button",onClick:()=>c({...o,speakers:[...o.speakers||[],{name:"",title:"",company:"",image:""}]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[o.speakers&&o.speakers.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/30 p-4 rounded-xl border border-slate-700/50 flex gap-4 items-start",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20 bg-slate-900 rounded-lg overflow-hidden flex-shrink-0 border border-slate-700 group",children:[e.image?(0,t.jsx)("img",{src:e.image,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"ðŸŽ¤"}),(0,t.jsxs)("label",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[(0,t.jsx)(S.Upload,{className:"w-6 h-6 text-white"}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{if(e.target.files?.[0]){let t=new FormData;t.append("file",e.target.files[0]);let l=await fetch("/api/upload",{method:"POST",body:t});if(l.ok){let{url:e}=await l.json(),t=[...o.speakers];t[s].image=e,c({...o,speakers:t})}}}})]})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Ad Soyad",value:e.name,onChange:e=>{let t=[...o.speakers];t[s].name=e.target.value,c({...o,speakers:t})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Ãœnvan (Ã–rn: Sr. Engineer)",value:e.title,onChange:e=>{let t=[...o.speakers];t[s].title=e.target.value,c({...o,speakers:t})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"}),(0,t.jsx)("input",{type:"text",placeholder:"Åžirket / Kurum",value:e.company,onChange:e=>{let t=[...o.speakers];t[s].company=e.target.value,c({...o,speakers:t})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"})]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=o.speakers.filter((e,t)=>t!==s);c({...o,speakers:e})},className:"text-red-400 hover:text-red-300 p-2",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]},s)),(!o.speakers||0===o.speakers.length)&&(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"KonuÅŸmacÄ± eklenmemiÅŸ."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"SÄ±kÃ§a Sorulan Sorular"}),(0,t.jsx)("button",{type:"button",onClick:()=>c({...o,faq:[...o.faq||[],{question:"",answer:""}]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[o.faq&&o.faq.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/20 p-4 rounded-xl border border-slate-700/30 flex gap-4 items-start",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Soru",value:e.question,onChange:e=>{let t=[...o.faq];t[s].question=e.target.value,c({...o,faq:t})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white font-bold text-sm"}),(0,t.jsx)("textarea",{placeholder:"Cevap",rows:2,value:e.answer,onChange:e=>{let t=[...o.faq];t[s].answer=e.target.value,c({...o,faq:t})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e=o.faq.filter((e,t)=>t!==s);c({...o,faq:e})},className:"text-red-400 hover:text-red-300 p-2",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]},s)),(!o.faq||0===o.faq.length)&&(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"SSS eklenmemiÅŸ."})]})]}),(0,t.jsx)("button",{type:"submit",disabled:Z,className:"w-full bg-gradient-to-r from-red-600 to-orange-600 text-white p-4 rounded-xl font-bold text-lg hover:scale-[1.02] transition-transform shadow-lg shadow-red-600/20",children:Z?"...":"create"===e?"EtkinliÄŸi OluÅŸtur":"DeÄŸiÅŸiklikleri Kaydet"})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Etkinlikler (",q.length,")"]}),(0,t.jsxs)("button",{onClick:()=>{E(),l("create")},className:"bg-red-600 text-white px-4 py-2 rounded-xl font-bold flex gap-2 items-center",children:[(0,t.jsx)(x.Plus,{className:"w-4 h-4"})," Etkinlik Ekle"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(e=>(0,t.jsxs)("div",{className:"glass-dark border border-slate-700 rounded-xl p-6 relative",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.title}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mb-4",children:[e.date?.split("T")[0]," - ",e.location]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{c({...e,images:e.images||[],schedule:e.schedule||[],speakers:e.speakers||[],faq:e.faq||[],requirements:e.requirements||"",coverImage:e.coverImage||"",registrationLink:e.registrationLink||""}),b(-1==e.capacity),n(e.id),l("edit")},className:"p-2 bg-slate-800 rounded-lg text-slate-300",children:(0,t.jsx)(y.Edit2,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>A(e),className:"p-2 bg-slate-800 rounded-lg text-blue-400",children:(0,t.jsx)(p.Users,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>K(e.id),className:"p-2 bg-slate-800 rounded-lg text-red-400",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]})]},e.id))}),(0,t.jsx)(r.AnimatePresence,{children:j&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl relative z-10 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6 p-6 border-b border-slate-800 bg-slate-900/50",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(p.Users,{className:"w-6 h-6 text-red-500"}),"KatÄ±lÄ±mcÄ± Listesi",(0,t.jsxs)("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",k.length," KiÅŸi)"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{et(k.map(e=>({"Ad Soyad":e.name,"E-posta":e.email,Telefon:e.phone||"-","Ã–ÄŸrenci No":e.studentId||"-","KayÄ±t Tarihi":e.registeredAt?new Date(e.registeredAt).toLocaleDateString("tr-TR"):"-"})),`${T?.title.replace(/\s+/g,"-").toLowerCase()}-katilimcilar.xls`)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors",children:[(0,t.jsx)(D,{className:"w-4 h-4"})," Listeyi Ä°ndir"]}),(0,t.jsx)("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(u.X,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{className:"overflow-auto p-6",children:k.length>0?(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700 text-slate-400 text-xs uppercase",children:[(0,t.jsx)("th",{className:"py-3",children:"Ad Soyad"}),(0,t.jsx)("th",{className:"py-3",children:"Ã–ÄŸrenci No"}),(0,t.jsx)("th",{className:"py-3",children:"Telefon"}),(0,t.jsx)("th",{className:"py-3",children:"E-posta"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:k.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 text-white font-bold",children:e.name}),(0,t.jsx)("td",{className:"py-3 text-slate-300 text-sm",children:e.studentId||"-"}),(0,t.jsx)("td",{className:"py-3 text-slate-300 text-sm",children:e.phone||"-"}),(0,t.jsx)("td",{className:"py-3 text-slate-300 text-sm",children:e.email||"-"})]},s))})]}):(0,t.jsx)("div",{className:"text-center py-12 text-slate-500",children:"HenÃ¼z katÄ±lÄ±mcÄ± yok."})}),(0,t.jsxs)("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50 text-right text-xs text-slate-500",children:["Toplam ",k.length," katÄ±lÄ±mcÄ±"]})]})]})})]})},{}),"members"===_&&(0,t.jsx)(()=>{let[e,l]=(0,s.useState)(!1),[i,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)("members"),[m,h]=(0,s.useState)(!1),[b,p]=(0,s.useState)({id:0,name:"",role:"Uye",department:"",studentId:"",email:"",phone:"",joinedAt:new Date().getFullYear().toString(),avatar:"ðŸ‘¤",isFeatured:!1,customTitle:"",customImage:""}),g=P.filter(e=>"pending"===e.status),f=P.filter(e=>"pending"!==e.status),j=async e=>{await N({title:"Ãœye Silme OnayÄ±",message:"Bu Ã¼yeyi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger",confirmText:"Ãœyeyi Sil",cancelText:"VazgeÃ§"})&&((await fetch(`/api/members?id=${e}`,{method:"DELETE"})).ok?(R(P.filter(t=>t.id!==e)),ee("Ãœye silindi.")):ee("Silme baÅŸarÄ±sÄ±z.","error"))},w=async e=>{let t=await fetch("/api/members",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,status:"active",role:"Uye"})});if(t.ok){let s=await t.json();R(P.map(t=>t.id===e.id?s:t)),ee("Ãœyelik onaylandÄ±!")}else ee("Onay iÅŸlemi baÅŸarÄ±sÄ±z.","error")},k=async e=>{e.preventDefault(),Q(!0);try{let e=i?b:{...b,clubId:I.id,status:"active"},t=await fetch("/api/members",{method:i?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();i?(R(P.map(t=>t.id===e.id?e:t)),ee("Ãœye gÃ¼ncellendi.")):(R([...P,e]),ee("Ãœye eklendi.")),l(!1)}else ee("Ä°ÅŸlem baÅŸarÄ±sÄ±z.","error")}catch(e){ee("Hata oluÅŸtu.","error")}finally{Q(!1)}};return"roles"===o?(0,t.jsx)(()=>{let[e,l]=(0,s.useState)({name:"",color:"bg-slate-700",priority:10}),a=async t=>{t.preventDefault();let s={id:e.name.toLowerCase().replace(/\s+/g,"_"),...e},a=[...I.customRoles||[],s],r={...I,customRoles:a};try{await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),L(r),ee("Yeni rol eklendi!"),l({name:"",color:"bg-slate-700",priority:10})}catch(e){ee("Rol eklenemedi.","error")}},r=async e=>{if(!await N({title:"Rol Silme OnayÄ±",message:"Bu rolÃ¼ silmek istediÄŸinize emin misiniz?",type:"danger"}))return;let t=I.customRoles.filter(t=>t.id!==e),s={...I,customRoles:t};try{await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),L(s),ee("Rol silindi.")}catch(e){ee("Ä°ÅŸlem baÅŸarÄ±sÄ±z.","error")}};return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsxs)("button",{onClick:()=>c("members"),className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(d.ArrowLeft,{className:"w-4 h-4"})," Geri"]}),(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Rol YÃ¶netimi"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl h-fit",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Yeni Rol OluÅŸtur"}),(0,t.jsxs)("form",{onSubmit:a,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-xs font-bold mb-1",children:"Rol AdÄ±"}),(0,t.jsx)("input",{type:"text",required:!0,value:e.name,onChange:t=>l({...e,name:t.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg p-2 text-white",placeholder:"Ã–rn: Sosyal Medya Ekibi"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-xs font-bold mb-1",children:"Renk"}),(0,t.jsxs)("select",{value:e.color,onChange:t=>l({...e,color:t.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg p-2 text-white",children:[(0,t.jsx)("option",{value:"bg-slate-700",children:"Gri"}),(0,t.jsx)("option",{value:"bg-red-500/20 text-red-400 border-red-500/30 border",children:"KÄ±rmÄ±zÄ±"}),(0,t.jsx)("option",{value:"bg-blue-500/20 text-blue-400 border-blue-500/30 border",children:"Mavi"}),(0,t.jsx)("option",{value:"bg-green-500/20 text-green-400 border-green-500/30 border",children:"YeÅŸil"}),(0,t.jsx)("option",{value:"bg-purple-500/20 text-purple-400 border-purple-500/30 border",children:"Mor"}),(0,t.jsx)("option",{value:"bg-orange-500/20 text-orange-400 border-orange-500/30 border",children:"Turuncu"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-slate-400 text-xs font-bold mb-1",children:"Ã–ncelik (1-100)"}),(0,t.jsx)("input",{type:"number",min:"1",max:"100",value:e.priority,onChange:t=>l({...e,priority:parseInt(t.target.value)}),className:"w-full bg-slate-900 border-slate-700 rounded-lg p-2 text-white"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"DÃ¼ÅŸÃ¼k sayÄ± = YÃ¼ksek Ã¶ncelik (1 en yÃ¼ksek)"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:Z,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg transition-colors",children:"OluÅŸtur"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-bold text-white",children:"Standart Roller"}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"(Silinemez)"})]}),["Baskan","Yonetim Kurulu","Uye"].map(e=>(0,t.jsxs)("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800 text-slate-400 text-sm flex justify-between",children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)(z.Lock,{className:"w-3 h-3 opacity-50"})]},e)),(0,t.jsx)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center mt-6",children:(0,t.jsx)("span",{className:"font-bold text-white",children:"Ã–zel Roller"})}),I.customRoles&&I.customRoles.map(e=>(0,t.jsxs)("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800 text-white text-sm flex justify-between items-center group hover:border-slate-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${e.color&&e.color.includes("bg-")?e.color.split(" ")[0]:"bg-slate-500"}`}),(0,t.jsx)("span",{children:e.name}),(0,t.jsxs)("span",{className:"text-xs text-slate-500",children:["Ã–ncelik: ",e.priority]})]}),(0,t.jsx)("button",{onClick:()=>r(e.id),className:"text-red-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]},e.id)),(!I.customRoles||0===I.customRoles.length)&&(0,t.jsx)("p",{className:"text-center text-slate-500 text-sm py-4",children:"HenÃ¼z Ã¶zel rol eklenmemiÅŸ."})]})]})]})},{}):(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 p-1 rounded-xl flex gap-1 border border-slate-700/50",children:[(0,t.jsx)("button",{onClick:()=>c("members"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${"members"===o?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Ãœyeler"}),(0,t.jsx)("button",{onClick:()=>c("roles"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${"roles"===o?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Roller & Yetkiler"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{et(P.map(e=>({"Ad Soyad":e.name,"E-posta":e.email,Telefon:e.phone||"-","Ã–ÄŸrenci No":e.studentId||"-",BÃ¶lÃ¼m:e.department||"-",Rol:"club_admin"===e.role?"YÃ¶netici":"Ãœye","KatÄ±lÄ±m Tarihi":e.joinedAt})),`${I.slug}-uyeler-${new Date().toISOString().split("T")[0]}.xls`)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors shadow-lg shadow-green-900/20",children:[(0,t.jsx)(D,{className:"w-5 h-5"})," Excel'e Aktar"]}),(0,t.jsxs)("button",{onClick:()=>{p({id:0,name:"",role:"Uye",department:"",studentId:"",email:"",phone:"",joinedAt:new Date().getFullYear().toString(),avatar:"ðŸ‘¤",isFeatured:!1,customTitle:"",customImage:""}),n(!1),l(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors shadow-lg shadow-red-900/20",children:[(0,t.jsx)(x.Plus,{className:"w-5 h-5"})," Yeni Ãœye Ekle"]})]})]}),g.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white flex items-center gap-3",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Onay Bekleyenler (",g.length,")"]}),(0,t.jsx)("div",{className:"glass-dark border border-red-500/30 rounded-2xl overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-red-500/10 text-red-300 text-xs uppercase font-bold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4",children:"Aday Bilgisi"}),(0,t.jsx)("th",{className:"p-4",children:"BaÅŸvuru Nedeni"}),(0,t.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-red-500/20",children:g.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-red-500/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-lg",children:e.avatar}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-bold text-sm",children:e.name}),(0,t.jsx)("div",{className:"text-slate-500 text-xs",children:e.department})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("p",{className:"text-slate-300 text-sm max-w-md truncate",children:e.reason||"BelirtilmemiÅŸ"})}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>w(e),className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg text-xs font-bold transition-colors",children:"Onayla"}),(0,t.jsx)("button",{onClick:()=>j(e.id),className:"p-2 bg-slate-800 rounded-lg text-red-400 hover:text-white transition-colors",children:(0,t.jsx)(u.X,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Aktif Ãœye Listesi (",f.length,")"]})}),(0,t.jsx)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 text-slate-400 text-xs uppercase font-bold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4",children:"Ãœye Bilgisi"}),(0,t.jsx)("th",{className:"p-4",children:"Rol"}),(0,t.jsx)("th",{className:"p-4",children:"BÃ¶lÃ¼m"}),(0,t.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:(0,t.jsx)(r.AnimatePresence,{children:f.map(e=>(0,t.jsxs)(a.motion.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-slate-800/30 transition-colors group",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-lg overflow-hidden relative",children:[e.isFeatured&&e.customImage?(0,t.jsx)("img",{src:e.customImage,alt:"Avatar",className:"w-full h-full object-cover"}):e.avatar,e.isFeatured&&(0,t.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 bg-yellow-400 rounded-full shadow-lg ring-2 ring-slate-900",title:"Vitrin Ãœyesi"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-white font-bold text-sm flex items-center gap-1",children:[e.name,e.customTitle&&(0,t.jsx)("span",{className:"text-[10px] bg-slate-700 px-1 rounded text-slate-300 font-normal",children:e.customTitle})]}),(0,t.jsxs)("div",{className:"text-slate-500 text-xs",children:["KatÄ±lÄ±m: ",e.joinedAt]})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Baskan"===e.role?"bg-red-500/20 text-red-400":"Yonetim Kurulu"===e.role?"bg-orange-500/20 text-orange-400":"Uye"===e.role?"bg-slate-700/50 text-slate-300":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:e.role})}),(0,t.jsx)("td",{className:"p-4 text-slate-300 text-sm",children:e.department}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>{p({...e,isFeatured:e.isFeatured||!1,customTitle:e.customTitle||"",customImage:e.customImage||""}),n(!0),l(!0)},className:"p-2 bg-slate-800 rounded-lg text-slate-300 hover:text-white transition-colors",children:(0,t.jsx)(y.Edit2,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>j(e.id),className:"p-2 bg-slate-800 rounded-lg text-red-400 hover:text-white transition-colors",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]})})]},e.id))})})]})}),(0,t.jsx)(r.AnimatePresence,{children:e&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,t.jsxs)(a.motion.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg relative z-10 shadow-2xl p-6 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:i?"Ãœye DÃ¼zenle":"Yeni Ãœye Ekle"}),(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Ad Soyad",required:!0,value:b.name,onChange:e=>p({...b,name:e.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"Rol"}),(0,t.jsxs)("select",{value:b.role,onChange:e=>p({...b,role:e.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white",children:[(0,t.jsx)("option",{value:"Uye",children:"Ãœye"}),(0,t.jsx)("option",{value:"Yonetim Kurulu",children:"YÃ¶netim Kurulu"}),(0,t.jsx)("option",{value:"Baskan",children:"BaÅŸkan"}),I.customRoles&&I.customRoles.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"BÃ¶lÃ¼m"}),(0,t.jsx)("input",{type:"text",placeholder:"BÃ¶lÃ¼m",value:b.department,onChange:e=>p({...b,department:e.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"})]})]}),(0,t.jsx)("input",{type:"email",placeholder:"E-posta",value:b.email,onChange:e=>p({...b,email:e.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 mt-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-400 mb-3",children:"GeliÅŸmiÅŸ Ayarlar"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",id:"isFeatured",checked:b.isFeatured,onChange:e=>p({...b,isFeatured:e.target.checked}),className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-red-600 focus:ring-red-500"}),(0,t.jsx)("label",{htmlFor:"isFeatured",className:"text-white text-sm font-bold cursor-pointer",children:"Vitrin Ãœyesi (Ã–ne Ã‡Ä±kar)"})]}),b.isFeatured&&(0,t.jsxs)("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"Ã–zel Ãœnvan"}),(0,t.jsx)("input",{type:"text",placeholder:"Ã–rn: Sosyal Medya YÃ¶neticisi",value:b.customTitle||"",onChange:e=>p({...b,customTitle:e.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"Ã–zel FotoÄŸraf"}),(0,t.jsxs)("div",{className:"space-y-3",children:[b.customImage&&(0,t.jsxs)("div",{className:"relative group w-32 h-32 rounded-xl overflow-hidden border-2 border-slate-700",children:[(0,t.jsx)("img",{src:b.customImage,alt:"Preview",className:"w-full h-full object-cover"}),(0,t.jsx)("button",{type:"button",onClick:()=>p({...b,customImage:""}),className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold",children:(0,t.jsx)(v.Trash2,{className:"w-6 h-6 text-red-400"})})]}),!b.customImage&&(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-700 border-dashed rounded-xl cursor-pointer bg-slate-800/50 hover:bg-slate-800 transition-colors",children:[(0,t.jsx)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:m?(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-2"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Upload,{className:"w-8 h-8 text-slate-400 mb-2"}),(0,t.jsx)("p",{className:"text-sm text-slate-400 font-bold mb-1",children:"FotoÄŸraf YÃ¼kle"}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:"Ã–nerilen: 500x500px (Kare) â€¢ Max 5MB"})]})}),(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/*",disabled:m,onChange:async e=>{if(e.target.files?.[0]){h(!0);try{let t=e.target.files[0],s=new FormData;s.append("file",t);let l=await fetch("/api/upload",{method:"POST",body:s});if(l.ok){let e=await l.json();p({...b,customImage:e.url})}else ee("YÃ¼kleme baÅŸarÄ±sÄ±z!","error")}catch(e){ee("Hata oluÅŸtu.","error")}finally{h(!1)}}}})]})})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>l(!1),className:"text-slate-400 hover:text-white",children:"Ä°ptal"}),(0,t.jsx)("button",{type:"submit",disabled:Z,className:"bg-red-600 text-white px-6 py-2 rounded-xl font-bold",children:Z?"...":"Kaydet"})]})]})]})]})})]})},{}),"gallery"===_&&(0,t.jsx)(()=>{let e=async e=>{if(!e.target.files||0===e.target.files.length)return;let t=Array.from(e.target.files);Q(!0);try{let e=[],s=Date.now();for(let l=0;l<t.length;l++){let a=t[l],r=new FormData;r.append("file",a);try{let i=await fetch("/api/upload",{method:"POST",body:r});if(i.ok){let{url:t}=await i.json();e.push({id:s+l,url:t,caption:a.name}),console.log(`âœ… Uploaded: ${a.name} -> ${t}`)}else{let e=await i.json();console.error("âŒ Upload failed for",a.name,e),ee(`${a.name} y\xfcklenemedi: ${e.error||"Bilinmeyen hata"}`,"error")}l<t.length-1&&await new Promise(e=>setTimeout(e,200))}catch(e){console.error("âŒ Upload exception for",a.name,e),ee(`${a.name} y\xfcklenirken hata oluÅŸtu.`,"error")}}if(e.length>0){let t=[...G||[],...e];M(t);let s={...I,gallery:t};L(s);let l=await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(l.ok)ee(`âœ… ${e.length} fotoÄŸraf baÅŸarÄ±yla eklendi!`);else{let e=await l.json();console.error("âŒ Save failed:",e),ee("FotoÄŸraflar yÃ¼klendi ama kaydedilemedi!","error"),M(G),L(I)}}else ee("HiÃ§bir fotoÄŸraf yÃ¼klenemedi.","error")}catch(e){console.error("âŒ Gallery upload error:",e),ee("Beklenmeyen hata oluÅŸtu.","error")}finally{Q(!1),e.target.value=""}},s=async e=>{if(await N({title:"Ãœye Silme OnayÄ±",message:"Bu Ã¼yeyi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger",confirmText:"Ãœyeyi Sil",cancelText:"VazgeÃ§"})){let t=G.filter(t=>t.id!==e);M(t);let s={...I,gallery:t};await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),ee("FotoÄŸraf silindi.")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Galeri YÃ¶netimi (",G.length,")"]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,t.jsxs)("label",{className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 cursor-pointer transition-colors",children:[Z?"YÃ¼kleniyor...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.Upload,{className:"w-4 h-4"})," FotoÄŸraf YÃ¼kle"]}),(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e,disabled:Z})]}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"Ã–nerilen: 1920x1080px (Yatay)"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:G.map(e=>(0,t.jsxs)("div",{className:"aspect-square bg-slate-800 rounded-xl relative group overflow-hidden",children:[(0,t.jsx)("img",{src:e.url,alt:"Gallery",className:"w-full h-full object-cover"}),(0,t.jsx)("button",{onClick:()=>s(e.id),className:"absolute top-2 right-2 p-2 bg-red-600 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(v.Trash2,{className:"w-4 h-4"})})]},e.id))})]})},{}),"settings"===_&&(0,t.jsx)(K,{club:I,setClub:L,showNotification:ee})]},_)})]})})]})}e.s(["default",()=>Y],73504)}]);