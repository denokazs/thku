module.exports=[44543,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(53131),e=a.i(46271),f=a.i(62036),g=a.i(50944),h=a.i(21261),i=a.i(38246),j=a.i(210),k=a.i(41675),l=a.i(15618),m=a.i(14548),n=a.i(16201),o=a.i(92e3),p=a.i(33508),q=a.i(60246),r=a.i(21161),s=a.i(20005),t=a.i(30617),u=a.i(81560),v=a.i(10448),w=a.i(70106);let x=(0,w.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var y=a.i(24669),z=a.i(73320),A=a.i(63588),B=a.i(92759),C=a.i(43108);let D=(0,w.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var E=a.i(39761);let F=(0,w.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),G=({club:a,setClub:d,showNotification:e})=>{let[f,g]=(0,c.useState)(a),[h,i]=(0,c.useState)(!1),j=async a=>{a.preventDefault(),i(!0);try{let a=await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(a.ok){let b=await a.json();d(b),e("KulÃ¼p ayarlarÄ± kaydedildi!")}else e("Hata oluÅŸtu!","error")}catch(a){e("BaÄŸlantÄ± hatasÄ±!","error")}finally{i(!1)}};return(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8 max-w-3xl",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-white mb-6",children:"KulÃ¼p AyarlarÄ±"}),(0,b.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-6 pb-6 border-b border-slate-700/50 mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Marka & GÃ¶rseller"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"KulÃ¼p Logosu"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-24 h-24 rounded-2xl border-4 border-slate-700 overflow-hidden flex items-center justify-center text-4xl shadow-xl bg-gradient-to-br ${f.logoBackground||"from-red-600 to-orange-600"}`,children:f.logo&&(f.logo.startsWith("/")||f.logo.startsWith("http"))?(0,b.jsx)("img",{src:f.logo,alt:"Logo",className:"w-full h-full object-cover"}):f.logo||"âœ¨"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("label",{className:"cursor-pointer bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[(0,b.jsx)(z.Upload,{className:"w-4 h-4"})," Resim YÃ¼kle",(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async a=>{if(a.target.files?.[0]){i(!0);try{let b=a.target.files[0],c=new FormData;c.append("file",b);let d=await fetch("/api/upload",{method:"POST",body:c});if(d.ok){let{url:a}=await d.json();g(b=>({...b,logo:a}))}}finally{i(!1)}}}})]}),(0,b.jsx)("input",{type:"text",placeholder:"veya Emoji",className:"w-24 bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-white outline-none focus:border-red-500 text-center",value:!f.logo||f.logo.startsWith("/")||f.logo.startsWith("http")?"":f.logo,onChange:a=>g({...f,logo:a.target.value})})]}),(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Ã–nerilen: 500x500px (Kare) ",(0,b.jsx)("br",{}),"Format: PNG, JPG veya Emoji"]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Logo Arka PlanÄ±"}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:[{bg:"from-red-600 to-orange-600",label:"KÄ±rmÄ±zÄ±"},{bg:"from-blue-600 to-cyan-600",label:"Mavi"},{bg:"from-purple-600 to-pink-600",label:"Mor"},{bg:"from-emerald-600 to-green-600",label:"YeÅŸil"},{bg:"from-yellow-500 to-orange-500",label:"SarÄ±"},{bg:"from-slate-800 to-slate-900",label:"Koyu"},{bg:"from-indigo-600 to-violet-600",label:"Ä°ndigo"},{bg:"from-rose-600 to-pink-600",label:"GÃ¼l"},{bg:"from-fuchsia-600 to-purple-600",label:"FuÅŸya"},{bg:"from-cyan-600 to-blue-600",label:"Turkuaz"},{bg:"from-white to-slate-200",label:"Beyaz"}].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>g({...f,logoBackground:a.bg}),className:`w-full aspect-square rounded-lg bg-gradient-to-br ${a.bg} ${f.logoBackground===a.bg?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":"opacity-70 hover:opacity-100"}`,title:a.label},a.bg))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:["Kapak FotoÄŸrafÄ± ",(0,b.jsx)("span",{className:"text-xs font-normal text-slate-500 ml-2",children:"(Ã–nerilen: 1200x400px)"})]}),(0,b.jsxs)("div",{className:"relative w-full h-40 rounded-xl overflow-hidden group border border-slate-700 bg-slate-800",children:[(0,b.jsx)("img",{src:f.coverImage||"https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=1200&h=400&fit=crop",alt:"Cover",className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity"}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsxs)("label",{className:"cursor-pointer bg-black/50 hover:bg-black/70 text-white px-4 py-2 rounded-lg backdrop-blur-sm font-bold transition-all flex items-center gap-2",children:[(0,b.jsx)(x,{className:"w-5 h-5"})," Kapak FotoÄŸrafÄ±nÄ± DeÄŸiÅŸtir",(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async a=>{if(a.target.files?.[0]){i(!0);try{let b=a.target.files[0],c=new FormData;c.append("file",b);let d=await fetch("/api/upload",{method:"POST",body:c});if(d.ok){let{url:a}=await d.json();g(b=>({...b,coverImage:a}))}}finally{i(!1)}}}})]})})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"KulÃ¼p AdÄ±"}),(0,b.jsx)("input",{type:"text",value:f.name,onChange:a=>g({...f,name:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"Kategori"}),(0,b.jsx)("input",{type:"text",value:f.category,onChange:a=>g({...f,category:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none uppercase"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"KÄ±sa AÃ§Ä±klama"}),(0,b.jsx)("input",{type:"text",value:f.description,onChange:a=>g({...f,description:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"DetaylÄ± AÃ§Ä±klama"}),(0,b.jsx)("textarea",{value:f.longDescription,onChange:a=>g({...f,longDescription:a.target.value}),rows:4,className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none resize-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"ToplantÄ± GÃ¼nÃ¼"}),(0,b.jsx)("input",{type:"text",value:f.meetingDay,onChange:a=>g({...f,meetingDay:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"ToplantÄ± Yeri"}),(0,b.jsx)("input",{type:"text",value:f.meetingLocation,onChange:a=>g({...f,meetingLocation:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t border-slate-700/50",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"BaÅŸkan Bilgileri"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸkan FotoÄŸrafÄ±"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full border-2 border-slate-700 overflow-hidden bg-slate-800 flex items-center justify-center",children:f.president?.avatar&&(f.president.avatar.startsWith("/")||f.president.avatar.startsWith("http"))?(0,b.jsx)("img",{src:f.president.avatar,alt:"President",className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"text-3xl",children:f.president?.avatar||"ðŸ‘¤"})}),(0,b.jsxs)("div",{className:"flex-1",children:[h?(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"YÃ¼kleniyor..."}):(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg transition-colors w-fit",children:[(0,b.jsx)(z.Upload,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm font-bold",children:"FotoÄŸraf YÃ¼kle"}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",disabled:h,onChange:async a=>{if(a.target.files?.[0]){i(!0);try{let b=a.target.files[0],c=new FormData;c.append("file",b);let d=await fetch("/api/upload",{method:"POST",body:c});if(d.ok){let a=await d.json();g(b=>({...b,president:{...b.president,avatar:a.url}})),e("FotoÄŸraf yÃ¼klendi!")}else e("YÃ¼kleme baÅŸarÄ±sÄ±z!","error")}catch(a){e("Hata oluÅŸtu.","error")}finally{i(!1)}}}})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Ã–nerilen: 500x500px (Kare)"})]}),f.president?.avatar&&(f.president.avatar.startsWith("/")||f.president.avatar.startsWith("http"))&&(0,b.jsx)("button",{type:"button",onClick:()=>g({...f,president:{...f.president,avatar:"ðŸ‘¤"}}),className:"ml-2 text-red-400 hover:text-red-300 text-sm font-bold",children:"KaldÄ±r"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸkan AdÄ±"}),(0,b.jsx)("input",{type:"text",value:f.president?.name||"",onChange:a=>g({...f,president:{...f.president,name:a.target.value}}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none",placeholder:"Ã–rn: Ahmet YÄ±lmaz"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-sm font-bold mb-2",children:"BaÅŸkan E-posta"}),(0,b.jsx)("input",{type:"email",value:f.president?.email||"",onChange:a=>g({...f,president:{...f.president,email:a.target.value}}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none",placeholder:"baskan@thku.edu.tr"})]})]})]})]}),(0,b.jsx)("div",{className:"pt-6 border-t border-slate-700/50 flex justify-end",children:(0,b.jsxs)("button",{type:"submit",disabled:h,className:"bg-gradient-to-r from-red-600 to-orange-600 text-white px-6 py-3 rounded-xl font-bold hover:scale-105 transition-transform flex items-center gap-2 disabled:opacity-50",children:[(0,b.jsx)(m.Save,{className:"w-4 h-4"})," ",h?"Kaydediliyor...":"DeÄŸiÅŸiklikleri Kaydet"]})})]})]})},H=({club:a})=>{let[d,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(30);(0,c.useEffect)(()=>{l()},[i]);let l=async()=>{h(!0);try{let b=await fetch(`/api/analytics/stats?scope=club&days=${i}&slug=${a.slug}`);if(b.ok){let a=await b.json();m(a)}}catch(a){console.error("Error fetching stats:",a)}finally{h(!1)}},m=a=>{let b={};for(let a=0;a<i;a++){let c=new Date;c.setDate(c.getDate()-a),b[c.toISOString().split("T")[0]]=0}a.views.forEach(a=>{let c=a.timestamp.split("T")[0];void 0!==b[c]&&b[c]++});let c=Object.entries(b).sort((a,b)=>a[0].localeCompare(b[0])).map(([a,b])=>({date:a,count:b}));f({totalViews:a.totalViews,uniqueVisitors:a.uniqueVisitors,chartData:c,memberStats:a.memberStats,eventStats:a.eventStats})};if(g&&!d)return(0,b.jsx)("div",{className:"text-white text-center py-12",children:"YÃ¼kleniyor..."});let n=Math.max(...d?.chartData.map(a=>a.count)||[0],5),o=d?.memberStats?.growth.length>0?Math.max(...d.memberStats.growth.map(a=>a.count)):10;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Genel Ä°statistikler"}),(0,b.jsx)("div",{className:"flex gap-2 bg-slate-800 p-1 rounded-lg border border-slate-700",children:[7,30,90].map(a=>(0,b.jsxs)("button",{onClick:()=>j(a),className:`px-4 py-2 rounded-md text-xs font-bold transition-colors ${i===a?"bg-red-600 text-white":"text-slate-400 hover:bg-slate-700 hover:text-white"}`,children:["Son ",a," GÃ¼n"]},a))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Toplam GÃ¶rÃ¼ntÃ¼lenme"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:d?.totalViews.toLocaleString()})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Tekil ZiyaretÃ§i"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:d?.uniqueVisitors.toLocaleString()})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Toplam Ãœye"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:d?.memberStats?.totalMembers.toLocaleString()})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Ort. Etkinlik KatÄ±lÄ±mÄ±"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:d?.eventStats?.avgAttendees.toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(E.BarChart3,{className:"w-5 h-5 text-slate-400"}),"GÃ¶rÃ¼ntÃ¼lenme GrafiÄŸi"]}),(0,b.jsx)("div",{className:"h-64 flex items-end gap-2",children:d?.chartData.map((a,c)=>(0,b.jsxs)("div",{className:"flex-1 flex flex-col justify-end group relative",children:[(0,b.jsx)(e.motion.div,{initial:{height:0},animate:{height:`${a.count/n*100}%`},className:"bg-gradient-to-t from-red-600 to-orange-500 rounded-t-sm w-full opacity-80 group-hover:opacity-100 transition-opacity min-h-[4px]"}),(0,b.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:(0,b.jsxs)("div",{className:"bg-white text-slate-900 text-xs py-1 px-2 rounded font-bold whitespace-nowrap",children:[a.date,": ",a.count]})})]},c))}),(0,b.jsxs)("div",{className:"mt-4 flex justify-between text-[10px] text-slate-500 border-t border-slate-800 pt-2 font-mono",children:[(0,b.jsx)("span",{children:d?.chartData[0].date}),(0,b.jsx)("span",{children:d?.chartData[d?.chartData.length-1].date})]})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(y.TrendingUp,{className:"w-5 h-5 text-slate-400"}),"Ãœye GeliÅŸimi (KÃ¼mÃ¼latif)"]}),(0,b.jsx)("div",{className:"h-64 flex items-end gap-2",children:d?.memberStats?.growth.length>0?d?.memberStats?.growth.map((a,c)=>(0,b.jsxs)("div",{className:"flex-1 flex flex-col justify-end group relative",children:[(0,b.jsx)(e.motion.div,{initial:{height:0},animate:{height:`${a.count/o*100}%`},className:"bg-blue-600 rounded-t-sm w-full opacity-60 group-hover:opacity-100 transition-opacity min-h-[4px]"}),(0,b.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block z-10",children:(0,b.jsxs)("div",{className:"bg-white text-slate-900 text-xs py-1 px-2 rounded font-bold whitespace-nowrap",children:[a.date,": ",a.count," Ãœye"]})}),(0,b.jsx)("div",{className:"text-[10px] text-slate-600 mt-2 text-center rotate-[-45deg] origin-top-left invisible group-hover:visible absolute top-full left-1/2",children:a.date})]},c)):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-500",children:"Yeterli veri yok"})})]})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(k.Calendar,{className:"w-5 h-5 text-slate-400"}),"Son Etkinlik Analizi"]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-800 text-xs font-bold text-slate-400 uppercase tracking-wider",children:[(0,b.jsx)("th",{className:"pb-3 text-left",children:"Etkinlik"}),(0,b.jsx)("th",{className:"pb-3 text-right",children:"Tarih"}),(0,b.jsx)("th",{className:"pb-3 text-right",children:"KatÄ±lÄ±mcÄ± SayÄ±sÄ±"}),(0,b.jsx)("th",{className:"pb-3 text-right",children:"Etki OranÄ±"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-slate-800",children:[d?.eventStats?.recentEvents.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 font-bold text-white",children:a.title}),(0,b.jsx)("td",{className:"py-3 text-right text-slate-400 text-sm",children:new Date(a.date).toLocaleDateString()}),(0,b.jsx)("td",{className:"py-3 text-right text-white font-mono",children:a.attendees}),(0,b.jsx)("td",{className:"py-3 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("div",{className:"w-24 h-1.5 bg-slate-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-green-500",style:{width:`${Math.min(a.attendees/(d?.memberStats?.totalMembers||1)*100,100)}%`}})}),(0,b.jsxs)("span",{className:"text-xs text-green-400 font-bold",children:[Math.round(a.attendees/(d?.memberStats?.totalMembers||1)*100),"%"]})]})})]},c)),(!d?.eventStats?.recentEvents||d?.eventStats?.recentEvents.length===0)&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"py-8 text-center text-slate-500",children:"HenÃ¼z etkinlik verisi yok."})})]})]})})]})]})};function I(){let a=(0,g.useParams)(),m=(0,g.useRouter)(),{showConfirm:w,showAlert:I}=(0,h.useConfirm)(),{user:J,isLoading:K,logout:L}=(0,d.useAuth)(),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)([]),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)("dashboard"),[$,_]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(K)return;if(!J)return void m.push("/giris");let b=async()=>{try{let b=await fetch("/api/clubs",{cache:"no-store"});if(!b.ok)throw Error("Failed to fetch clubs");let c=await b.json();if(!Array.isArray(c))return;let d=c.find(b=>b.slug===a.slug);if(d){if("super_admin"===J.role);else if("club_admin"===J.role){if(!J.clubId||J.clubId!==d.id){aa("Bu kulÃ¼bÃ¼ yÃ¶netme yetkiniz yok!","error"),setTimeout(()=>m.push("/kulupler"),2e3);return}}else{aa("Bu sayfaya eriÅŸim yetkiniz yok!","error"),setTimeout(()=>m.push("/kulupler"),2e3);return}N(d);let a=await fetch(`/api/events?clubId=${d.id}`,{cache:"no-store"}),b=await a.json();P(Array.isArray(b)?b:[]);let c=await fetch(`/api/members?clubId=${d.id}`,{cache:"no-store"}),e=await c.json();R(Array.isArray(e)?e:[]),d.gallery&&T(d.gallery);let f=await fetch(`/api/messages?clubId=${d.id}`,{cache:"no-store"}),g=await f.json();Array.isArray(g)&&V(g)}else m.push("/kulupler")}catch(a){console.error("Failed to fetch data",a)}};a.slug&&b()},[a.slug,m,J,K]);let aa=(a,b="success")=>{X({type:b,message:a}),setTimeout(()=>X(null),3e3)};if(K||!M)return(0,b.jsx)("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})});let ab=(a,b)=>{if(!a||!a.length)return void aa("DÄ±ÅŸa aktarÄ±lacak veri bulunamadÄ±.","error");let c=Object.keys(a[0]),d=new Blob([`
            <html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">
            <head>
                <meta charset="UTF-8">
                <!--[if gte mso 9]>
                <xml>
                    <x:ExcelWorkbook>
                        <x:ExcelWorksheets>
                            <x:ExcelWorksheet>
                                <x:Name>Sheet1</x:Name>
                                <x:WorksheetOptions>
                                    <x:DisplayGridlines/>
                                </x:WorksheetOptions>
                            </x:ExcelWorksheet>
                        </x:ExcelWorksheets>
                    </x:ExcelWorkbook>
                </xml>
                <![endif]-->
                <style>
                    td { mso-number-format:"\\@"; } /* Force text format to prevent scientific notation */
                </style>
            </head>
            <body>
                <table>
                    <thead>
                        <tr>${c.map(a=>`<th>${a}</th>`).join("")}</tr>
                    </thead>
                    <tbody>
                        ${a.map(a=>`<tr>${c.map(b=>`<td>${void 0!==a[b]?a[b]:""}</td>`).join("")}</tr>`).join("")}
                    </tbody>
                </table>
            </body>
            </html>
        `],{type:"application/vnd.ms-excel"}),e=document.createElement("a");if(void 0!==e.download){let a=URL.createObjectURL(d);e.setAttribute("href",a),e.setAttribute("download",b),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white flex",children:[(0,b.jsx)(f.AnimatePresence,{children:W&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:-20,x:"-50%"},animate:{opacity:1,y:20,x:"-50%"},exit:{opacity:0},className:`fixed top-0 left-1/2 z-50 px-6 py-3 rounded-xl shadow-2xl flex items-center gap-3 font-bold border ${"success"===W.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:["success"===W.type?(0,b.jsx)(n.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5"}),W.message]})}),(0,b.jsxs)("div",{className:"w-64 bg-slate-900 border-r border-slate-800 flex flex-col fixed h-full z-20",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-800",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${M.logoBackground||"from-red-600 to-orange-600"} flex items-center justify-center text-2xl shadow-lg overflow-hidden`,children:M.logo&&(M.logo.startsWith("/")||M.logo.startsWith("http"))?(0,b.jsx)("img",{src:M.logo,alt:M.name,className:"w-full h-full object-cover"}):M.logo}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-black text-sm tracking-wide",children:M.name}),(0,b.jsx)("div",{className:"text-xs text-red-500 font-bold uppercase tracking-wider",children:"Admin Paneli"})]})]})}),(0,b.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:[{id:"dashboard",label:"Genel BakÄ±ÅŸ",icon:t.LayoutDashboard},{id:"statistics",label:"Ä°statistikler",icon:E.BarChart3},{id:"messages",label:"Mesajlar",icon:A.MessageSquare},{id:"events",label:"Etkinlikler",icon:k.Calendar},{id:"members",label:"Ãœyeler",icon:q.Users},{id:"gallery",label:"Galeri",icon:x},{id:"settings",label:"Ayarlar",icon:r.Settings}].map(a=>(0,b.jsxs)("button",{onClick:()=>Z(a.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-colors ${Y===a.id?"bg-red-600 text-white shadow-lg shadow-red-500/20":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[(0,b.jsx)(a.icon,{className:"w-5 h-5"})," ",a.label]},a.id))}),(0,b.jsxs)("div",{className:"p-4 border-t border-slate-800",children:[(0,b.jsx)(i.default,{href:`/kulupler/${M.slug}`,children:(0,b.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-slate-400 hover:text-white hover:bg-slate-800 transition-colors mb-2",children:[(0,b.jsx)(j.ArrowLeft,{className:"w-5 h-5"})," KulÃ¼p SayfasÄ±na DÃ¶n"]})}),(0,b.jsxs)("button",{onClick:L,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-red-400 hover:bg-red-500/10 transition-colors text-left",children:[(0,b.jsx)(s.LogOut,{className:"w-5 h-5"})," Ã‡Ä±kÄ±ÅŸ Yap"]})]})]}),(0,b.jsx)("div",{className:"flex-1 ml-64 bg-slate-950 min-h-screen",children:(0,b.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-black text-white mb-1",children:["dashboard"===Y&&"Genel BakÄ±ÅŸ","statistics"===Y&&"Ä°statistikler","messages"===Y&&"Mesaj Kutusu","events"===Y&&"Etkinlik YÃ¶netimi","members"===Y&&"Ãœye Listesi","gallery"===Y&&"Galeri YÃ¶netimi","settings"===Y&&"KulÃ¼p AyarlarÄ±"]}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["HoÅŸ geldin, ",M.president?.name||"YÃ¶netici"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 rounded-full border border-slate-700",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-300",children:"Sistem Ã‡evrimiÃ§i"})]})]}),(0,b.jsx)(f.AnimatePresence,{mode:"wait",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["dashboard"===Y&&(0,b.jsx)(()=>(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Toplam Ãœye"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:Q.length}),(0,b.jsxs)("div",{className:"text-green-400 text-xs font-bold mt-2 flex items-center gap-1",children:[(0,b.jsx)(y.TrendingUp,{className:"w-3 h-3"})," +",Q.filter(a=>a.joinedAt&&String(a.joinedAt).includes(new Date().getFullYear().toString())).length," bu yÄ±l"]})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Aktif Etkinlik"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:O.length})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"Galeri MedyasÄ±"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:S.length})]}),(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl",children:[(0,b.jsx)("div",{className:"text-slate-400 text-sm font-bold mb-2",children:"OkunmamÄ±ÅŸ Mesaj"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:U.filter(a=>"sent"===a.status).length})]})]}),{}),"statistics"===Y&&(0,b.jsx)(H,{club:M}),"messages"===Y&&(0,b.jsx)(()=>{let[a,d]=(0,c.useState)("all"),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)([]),p=U.filter(b=>"unread"===a?"sent"===b.status||"read"===b.status:"in_progress"===a?"in_progress"===b.status:"resolved"!==a||"resolved"===b.status||"replied"===b.status);(0,c.useEffect)(()=>{e?.userId&&o(U.filter(a=>a.userId===e.userId&&a.id!==e.id))},[e,U]);let r=async a=>{_(!0);try{let b=await fetch("/api/messages",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,...a})});if(b.ok){let a=await b.json();V(U.map(b=>b.id===e.id?a:b)),f(a),aa("GÃ¼ncellendi")}}catch(a){aa("Hata oluÅŸtu","error")}finally{_(!1)}},s=async a=>{a.preventDefault(),await r({response:g}),h("")},t=async a=>{a.preventDefault(),i.trim()&&(await r({newNote:i}),j(""),l(!1))},u=async a=>{if(f(a),h(""),"sent"===a.status)try{await fetch("/api/messages",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,read:!0})});let b={...a,status:"read",readAt:new Date().toISOString()};V(U.map(c=>c.id===a.id?b:c)),f(b)}catch(a){console.error(a)}};return(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-200px)]",children:[(0,b.jsxs)("div",{className:"lg:col-span-3 glass-dark border border-slate-700/50 rounded-2xl flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-700/50 space-y-3",children:[(0,b.jsx)("div",{className:"flex gap-2 bg-slate-800/50 p-1 rounded-lg",children:[{id:"all",label:"TÃ¼mÃ¼"},{id:"unread",label:"Bekleyen"}].map(c=>(0,b.jsx)("button",{onClick:()=>d(c.id),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-colors ${a===c.id?"bg-slate-700 text-white shadow":"text-slate-400 hover:text-white"}`,children:c.label},c.id))}),(0,b.jsx)("div",{className:"flex gap-2 bg-slate-800/50 p-1 rounded-lg",children:[{id:"in_progress",label:"Ä°ncelenen"},{id:"resolved",label:"Ã‡Ã¶zÃ¼len"}].map(c=>(0,b.jsx)("button",{onClick:()=>d(c.id),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-colors ${a===c.id?"bg-blue-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:c.label},c.id))})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:0===p.length?(0,b.jsx)("div",{className:"text-center py-10 text-slate-500 text-sm",children:"Mesaj bulunamadÄ±."}):p.map(a=>(0,b.jsxs)("div",{onClick:()=>u(a),className:`p-4 rounded-xl cursor-pointer transition-all border relative overflow-hidden group ${e?.id===a.id?"bg-slate-800 border-red-500/50":"hover:bg-slate-800/50 border-transparent"} ${"sent"===a.status?"bg-slate-800/20":""}`,children:[(0,b.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${"high"===a.priority?"bg-red-500":"low"===a.priority?"bg-blue-500":"bg-transparent"}`}),(0,b.jsxs)("div",{className:"flex justify-between items-start mb-1 pl-2",children:[(0,b.jsx)("span",{className:`text-[10px] font-black px-2 py-0.5 rounded uppercase ${"Åžikayet"===a.topic?"text-red-400 bg-red-400/10":"Ã–neri"===a.topic?"text-green-400 bg-green-400/10":"text-blue-400 bg-blue-400/10"}`,children:a.topic}),(0,b.jsx)("span",{className:"text-[10px] text-slate-500",children:new Date(a.createdAt).toLocaleDateString()})]}),(0,b.jsx)("h4",{className:`font-bold text-sm mb-1 pl-2 ${"sent"===a.status?"text-white":"text-slate-300"}`,children:a.subject}),(0,b.jsx)("p",{className:"text-xs text-slate-500 line-clamp-1 pl-2",children:a.senderName})]},a.id))})]}),(0,b.jsx)("div",{className:"lg:col-span-6 glass-dark border border-slate-700/50 rounded-2xl p-6 flex flex-col relative overflow-hidden",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"border-b border-slate-700/50 pb-4 mb-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("span",{className:"text-2xl font-black text-white",children:e.subject}),"high"===e.priority&&(0,b.jsx)("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded font-bold animate-pulse",children:"Acil"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[(0,b.jsx)(q.Users,{className:"w-4 h-4"})," ",e.senderName,(0,b.jsx)("span",{className:"w-1 h-1 bg-slate-600 rounded-full"}),new Date(e.createdAt).toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:e.priority||"medium",onChange:a=>r({priority:a.target.value}),className:"bg-slate-800 border border-slate-700 text-xs text-white rounded-lg p-2 outline-none focus:border-red-500 font-bold",children:[(0,b.jsx)("option",{value:"low",children:"DÃ¼ÅŸÃ¼k Ã–ncelik"}),(0,b.jsx)("option",{value:"medium",children:"Normal"}),(0,b.jsx)("option",{value:"high",children:"YÃ¼ksek Ã–ncelik"})]}),(0,b.jsxs)("select",{value:e.status,onChange:a=>r({status:a.target.value}),className:`bg-slate-800 border border-slate-700 text-xs text-white rounded-lg p-2 outline-none font-bold ${"sent"===e.status?"text-red-400 border-red-500":"in_progress"===e.status?"text-yellow-400 border-yellow-500":"text-green-400 border-green-500"}`,children:[(0,b.jsx)("option",{value:"sent",children:"Bekliyor"}),(0,b.jsx)("option",{value:"read",children:"Okundu"}),(0,b.jsx)("option",{value:"in_progress",children:"Ä°nceleniyor"}),(0,b.jsx)("option",{value:"resolved",children:"Ã‡Ã¶zÃ¼ldÃ¼"}),(0,b.jsx)("option",{value:"closed",children:"KapatÄ±ldÄ±"})]})]})]})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto mb-6 pr-2",children:[(0,b.jsx)("div",{className:"bg-slate-800/30 p-4 rounded-xl mb-6",children:(0,b.jsx)("p",{className:"text-slate-300 leading-relaxed text-sm whitespace-pre-wrap",children:e.content})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("h4",{className:"text-xs font-black text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[(0,b.jsx)(C.Lock,{className:"w-3 h-3"})," Gizli Notlar (Sadece YÃ¶neticiler)"]}),(0,b.jsx)("button",{onClick:()=>l(!k),className:"text-xs text-blue-400 hover:text-blue-300 font-bold",children:"+ Not Ekle"})]}),k&&(0,b.jsxs)("form",{onSubmit:t,className:"mb-4 bg-yellow-500/5 p-3 rounded-xl border border-yellow-500/20",children:[(0,b.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Gizli notunuzu yazÄ±n...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-sm text-white mb-2",value:i,onChange:a=>j(a.target.value)}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-slate-500",children:"Ä°ptal"}),(0,b.jsx)("button",{type:"submit",className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded font-bold hover:bg-yellow-500",children:"Ekle"})]})]}),(0,b.jsx)("div",{className:"space-y-2",children:e.internalNotes?.map((a,c)=>(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/10 p-3 rounded-lg flex gap-3",children:[(0,b.jsx)("div",{className:"w-1 bg-yellow-500 rounded-full h-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-300 text-xs italic",children:a.note}),(0,b.jsxs)("div",{className:"text-[10px] text-slate-500 mt-1",children:[new Date(a.date).toLocaleString()," - ",a.admin]})]})]},c))})]}),e.response&&(0,b.jsxs)("div",{className:"bg-green-500/5 border border-green-500/20 p-4 rounded-xl ml-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-green-400 text-sm font-bold",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center",children:(0,b.jsx)(n.CheckCircle,{className:"w-3 h-3"})}),"YanÄ±tÄ±nÄ±z",(0,b.jsx)("span",{className:"text-slate-500 text-xs font-normal ml-auto",children:new Date(e.answeredAt).toLocaleString()})]}),(0,b.jsx)("p",{className:"text-slate-300 text-sm",children:e.response})]})]}),!e.response&&(0,b.jsxs)("div",{className:"mt-auto bg-slate-900/50 p-4 rounded-xl border border-slate-700/50",children:[(0,b.jsx)("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-2 scrollbar-thin",children:["TeÅŸekkÃ¼rler, ilgileniyoruz.","Talebiniz alÄ±nmÄ±ÅŸtÄ±r, en kÄ±sa sÃ¼rede dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z.","Konu hakkÄ±nda toplantÄ±ya bekliyoruz.","Maalesef bu isteÄŸinizi gerÃ§ekleÅŸtiremiyoruz."].map((a,c)=>(0,b.jsx)("button",{onClick:()=>h(a),className:"whitespace-nowrap px-3 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-slate-500 rounded-full text-xs text-slate-300 transition-colors",children:a},c))}),(0,b.jsxs)("form",{onSubmit:s,children:[(0,b.jsx)("textarea",{required:!0,rows:3,value:g,onChange:a=>h(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-sm text-white focus:border-red-500 outline-none resize-none mb-3",placeholder:"KullanÄ±cÄ±ya yanÄ±t yazÄ±n..."}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:'YanÄ±tlandÄ±ÄŸÄ±nda durum "Ã‡Ã¶zÃ¼ldÃ¼" olarak gÃ¼ncellenir.'}),(0,b.jsx)("button",{type:"submit",disabled:$,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 transition-colors disabled:opacity-50 text-sm",children:$?"...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B.Send,{className:"w-3 h-3"})," YanÄ±tla & Ã‡Ã¶z"]})})]})]})]})]}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[(0,b.jsx)(A.MessageSquare,{className:"w-16 h-16 mb-4 opacity-20"}),(0,b.jsx)("p",{className:"text-lg font-bold",children:"Bir mesaj seÃ§in"}),(0,b.jsx)("p",{className:"text-sm",children:"DetaylarÄ± gÃ¶rmek ve yanÄ±tlamak iÃ§in soldan bir mesaja tÄ±klayÄ±n."})]})}),(0,b.jsx)("div",{className:"lg:col-span-3 space-y-6",children:e?(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-6 h-full flex flex-col",children:[(0,b.jsxs)("h3",{className:"text-lg font-black text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(D,{className:"w-5 h-5 text-slate-400"}),"KullanÄ±cÄ± GeÃ§miÅŸi"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6 bg-slate-800/50 p-3 rounded-xl border border-slate-700/50",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-600 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:e.senderName.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-bold text-sm",children:e.senderName}),(0,b.jsx)("div",{className:"text-slate-500 text-xs",children:"Ãœye"})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1",children:m.length>0?m.map(a=>(0,b.jsxs)("div",{onClick:()=>u(a),className:"p-3 rounded-xl bg-slate-800/30 hover:bg-slate-800/80 cursor-pointer border border-transparent hover:border-slate-600 transition-all group",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-[10px] text-slate-500",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsx)("span",{className:`text-[10px] px-1.5 rounded ${"resolved"===a.status?"bg-green-500/20 text-green-400":"bg-slate-700 text-slate-400"}`,children:"resolved"===a.status?"Ã‡Ã¶zÃ¼ldÃ¼":"Bekliyor"})]}),(0,b.jsx)("p",{className:"text-white text-xs font-bold line-clamp-1 group-hover:text-red-400 transition-colors",children:a.subject})]},a.id)):(0,b.jsx)("div",{className:"text-center text-slate-500 text-xs py-4",children:"Bu kullanÄ±cÄ±nÄ±n baÅŸka mesajÄ± yok."})})]}):(0,b.jsx)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-6 h-full flex items-center justify-center text-slate-500 text-center text-sm",children:"KullanÄ±cÄ± detaylarÄ±nÄ± gÃ¶rmek iÃ§in bir mesaj seÃ§in."})})]})},{}),"events"===Y&&(0,b.jsx)(()=>{let[a,d]=(0,c.useState)("list"),[g,h]=(0,c.useState)(null),[i,k]=(0,c.useState)({title:"",category:"Workshop",description:"",date:"",time:"",location:"",capacity:"",images:[],coverImage:"",schedule:[],speakers:[],faq:[],requirements:"",registrationLink:""}),[m,o]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,x]=(0,c.useState)(!1),[y,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(null),D=async a=>{C(a),x(!0),A([]);try{let b=await fetch(`/api/events/attendees?eventId=${a.id}`);if(b.ok){let a=await b.json();A(Array.isArray(a)?a:[])}}catch(a){aa("KatÄ±lÄ±mcÄ±lar yÃ¼klenemedi","error")}},E=()=>{k({title:"",category:"Workshop",description:"",date:"",time:"",location:"",capacity:"",images:[],coverImage:"",schedule:[],speakers:[],faq:[],requirements:"",registrationLink:""}),o(!1),h(null)},G=async a=>{await w({title:"Etkinlik Silme OnayÄ±",message:"Bu etkinliÄŸi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger"})&&((await fetch(`/api/events?id=${a}`,{method:"DELETE"})).ok?(P(O.filter(b=>b.id!==a)),aa("Etkinlik silindi.")):aa("Silme baÅŸarÄ±sÄ±z.","error"))},H=async b=>{b.preventDefault(),_(!0);try{if("create"===a){let a={...i,clubId:M.id,clubName:M.name,attendees:0,images:[],isPast:!1},b=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(b.ok){let a=await b.json();P([a,...O]),aa("Etkinlik baÅŸarÄ±yla oluÅŸturuldu!"),d("list"),E()}}else{let a={...i,id:g},b=await fetch("/api/events",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(b.ok){let a=await b.json();P(O.map(b=>b.id===g?a:b)),aa("Etkinlik gÃ¼ncellendi!"),d("list"),E()}}}catch(a){aa("Ä°ÅŸlem baÅŸarÄ±sÄ±z.","error")}finally{_(!1)}};return"create"===a||"edit"===a?(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl p-8 max-w-4xl",children:[(0,b.jsxs)("button",{onClick:()=>{d("list"),E()},className:"text-slate-400 hover:text-white flex items-center gap-2 mb-6 font-bold transition-colors",children:[(0,b.jsx)(j.ArrowLeft,{className:"w-4 h-4"})," Etkinlik Listesine DÃ¶n"]}),(0,b.jsx)("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:"create"===a?"Yeni Etkinlik":"Etkinlik DÃ¼zenle"}),(0,b.jsxs)("form",{onSubmit:H,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-300 border-b border-slate-700 pb-2",children:"Temel Bilgiler"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"BaÅŸlÄ±k",required:!0,value:i.title,onChange:a=>k({...i,title:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,b.jsxs)("select",{value:i.category,onChange:a=>k({...i,category:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none",children:[(0,b.jsx)("option",{value:"Workshop",children:"Workshop"}),(0,b.jsx)("option",{value:"Seminer",children:"Seminer"}),(0,b.jsx)("option",{value:"Konferans",children:"Konferans"}),(0,b.jsx)("option",{value:"EÄŸlence",children:"EÄŸlence"}),(0,b.jsx)("option",{value:"Teknik Gezi",children:"Teknik Gezi"}),(0,b.jsx)("option",{value:"YarÄ±ÅŸma",children:"YarÄ±ÅŸma"})]})]}),(0,b.jsx)("textarea",{placeholder:"AÃ§Ä±klama",required:!0,rows:4,value:i.description,onChange:a=>k({...i,description:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)("input",{type:"date",required:!0,value:i.date.split("T")[0],onChange:a=>k({...i,date:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,b.jsx)("input",{type:"time",required:!0,value:i.time,onChange:a=>k({...i,time:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,b.jsx)("input",{type:"text",placeholder:"Konum",required:!0,value:i.location,onChange:a=>k({...i,location:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-300",children:"Kontenjan"}),(0,b.jsxs)("div",{className:"flex items-stretch gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)("input",{type:"number",placeholder:"Kontenjan sayÄ±sÄ±",disabled:m,value:m?"":i.capacity||"",onChange:a=>{let b=parseInt(a.target.value);k({...i,capacity:isNaN(b)?0:b})},className:"w-full h-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-red-500 outline-none disabled:opacity-50 disabled:cursor-not-allowed transition-all"}),m&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 font-bold bg-slate-900/80 rounded-xl border border-slate-700 backdrop-blur-sm shadow-inner",children:(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xl",children:"âˆž"})," SÄ±nÄ±rsÄ±z"]})})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>{o(!m),k({...i,capacity:m?"":-1})},className:`px-6 py-3 rounded-xl border font-bold text-sm whitespace-nowrap transition-all active:scale-95 flex items-center gap-2 ${m?"bg-green-600 border-green-500 text-white shadow-lg shadow-green-600/20":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[m?(0,b.jsx)(n.CheckCircle,{className:"w-4 h-4"}):(0,b.jsx)("div",{className:"w-4 h-4 rounded-full border-2 border-current"}),"SÄ±nÄ±rsÄ±z"]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-700/50",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-slate-300",children:["Kapak FotoÄŸrafÄ± ",(0,b.jsx)("span",{className:"text-xs font-normal text-slate-500 ml-2",children:"(Ã–nerilen: 1920x1080px)"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 p-4 rounded-2xl border border-slate-700/50",children:[(0,b.jsxs)("div",{className:"relative group aspect-video bg-slate-900 rounded-xl overflow-hidden border border-slate-700 max-w-md mx-auto md:mx-0 shadow-xl",children:[i.coverImage?(0,b.jsx)("img",{src:i.coverImage,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):(0,b.jsxs)("div",{className:"w-full h-full flex items-center justify-center text-slate-600 text-sm font-bold flex-col gap-3 bg-slate-800/30",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center",children:(0,b.jsx)(z.Upload,{className:"w-6 h-6 opacity-50"})}),(0,b.jsx)("span",{children:"Kapak FotoÄŸrafÄ± Yok"})]}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[(0,b.jsxs)("label",{className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-xl cursor-pointer font-bold flex items-center gap-2 transform transition-transform hover:scale-105 shadow-lg shadow-blue-600/20",children:[(0,b.jsx)(z.Upload,{className:"w-4 h-4"})," FotoÄŸraf YÃ¼kle",(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async a=>{if(a.target.files?.[0]){let b=new FormData;b.append("file",a.target.files[0]);let c=await fetch("/api/upload",{method:"POST",body:b});if(c.ok){let a=await c.json();a.url&&k({...i,coverImage:a.url})}}}})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 w-3/4",children:[(0,b.jsx)("input",{type:"text",placeholder:"veya gÃ¶rsel URL'si",value:i.coverImage||"",onChange:a=>k({...i,coverImage:a.target.value}),className:"flex-1 bg-slate-900/90 border border-slate-600 text-white text-xs px-3 py-2 rounded-lg outline-none focus:border-blue-500 placeholder:text-slate-500"}),i.coverImage&&(0,b.jsx)("button",{type:"button",onClick:()=>k({...i,coverImage:""}),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded-lg transition-colors",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]})]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-3 text-center md:text-left",children:"Bu fotoÄŸraf etkinlik detay sayfasÄ±nda en Ã¼stte bÃ¼yÃ¼k olarak gÃ¶rÃ¼necektir."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"Etkinlik GÃ¶rselleri"}),(0,b.jsx)("button",{type:"button",onClick:()=>k({...i,images:[...i.images||[],""]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(i.images||[]).map((a,c)=>(0,b.jsxs)("div",{className:"relative group aspect-video bg-slate-900 rounded-xl overflow-hidden border border-slate-700",children:[a?(0,b.jsx)("img",{src:a,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-600 text-sm font-bold",children:"Resim Yok"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2",children:[(0,b.jsxs)("label",{className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1.5 rounded cursor-pointer font-bold flex items-center gap-2",children:[(0,b.jsx)(z.Upload,{className:"w-3 h-3"})," YÃ¼kle",(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async a=>{if(a.target.files?.[0]){let b=new FormData;b.append("file",a.target.files[0]);let d=await fetch("/api/upload",{method:"POST",body:b});if(d.ok){let{url:a}=await d.json(),b=[...i.images];b[c]=a,k({...i,images:b})}}}})]}),(0,b.jsx)("input",{type:"text",placeholder:"veya URL yapÄ±ÅŸtÄ±r",value:a,onChange:a=>{let b=[...i.images];b[c]=a.target.value,k({...i,images:b})},className:"bg-slate-800/80 border border-slate-600 text-white text-[10px] w-3/4 px-2 py-1 rounded outline-none"}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=i.images.filter((a,b)=>b!==c);k({...i,images:a})},className:"bg-red-600 hover:bg-red-700 text-white p-1.5 rounded-full",children:(0,b.jsx)(u.Trash2,{className:"w-3 h-3"})})]})]},c)),(!i.images||0===i.images.length)&&(0,b.jsxs)("div",{onClick:()=>k({...i,images:[""]}),className:"aspect-video bg-slate-800/30 border-2 border-dashed border-slate-700 rounded-xl flex flex-col items-center justify-center text-slate-500 hover:border-slate-500 hover:text-slate-400 cursor-pointer transition-colors",children:[(0,b.jsx)(z.Upload,{className:"w-6 h-6 mb-2"}),(0,b.jsx)("span",{className:"text-xs font-bold",children:"+ GÃ¶rsel Ekle"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-300 border-b border-slate-700 pb-2",children:"KatÄ±lÄ±m ÅžartlarÄ± / Gereksinimler"}),(0,b.jsx)("textarea",{placeholder:"Ã–rn: Laptop getirilmesi zorunludur. Temel Python bilgisi gereklidir.",rows:3,value:i.requirements||"",onChange:a=>k({...i,requirements:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-xl p-3 text-white focus:border-red-500 outline-none"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"AkÄ±ÅŸ / Program"}),(0,b.jsx)("button",{type:"button",onClick:()=>k({...i,schedule:[...i.schedule||[],{time:"",title:""}]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[i.schedule&&i.schedule.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)("input",{type:"time",value:a.time,onChange:a=>{let b=[...i.schedule];b[c].time=a.target.value,k({...i,schedule:b})},className:"bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white w-32"}),(0,b.jsx)("input",{type:"text",placeholder:"Etkinlik AdÄ±",value:a.title,onChange:a=>{let b=[...i.schedule];b[c].title=a.target.value,k({...i,schedule:b})},className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white"}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=i.schedule.filter((a,b)=>b!==c);k({...i,schedule:a})},className:"text-red-400 hover:text-red-300 p-2",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]},c)),(!i.schedule||0===i.schedule.length)&&(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"AkÄ±ÅŸ bilgisi eklenmemiÅŸ."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"KonuÅŸmacÄ±lar"}),(0,b.jsx)("button",{type:"button",onClick:()=>k({...i,speakers:[...i.speakers||[],{name:"",title:"",company:"",image:""}]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[i.speakers&&i.speakers.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/30 p-4 rounded-xl border border-slate-700/50 flex gap-4 items-start",children:[(0,b.jsxs)("div",{className:"relative w-20 h-20 bg-slate-900 rounded-lg overflow-hidden flex-shrink-0 border border-slate-700 group",children:[a.image?(0,b.jsx)("img",{src:a.image,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"ðŸŽ¤"}),(0,b.jsxs)("label",{className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[(0,b.jsx)(z.Upload,{className:"w-6 h-6 text-white"}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async a=>{if(a.target.files?.[0]){let b=new FormData;b.append("file",a.target.files[0]);let d=await fetch("/api/upload",{method:"POST",body:b});if(d.ok){let{url:a}=await d.json(),b=[...i.speakers];b[c].image=a,k({...i,speakers:b})}}}})]})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("input",{type:"text",placeholder:"Ad Soyad",value:a.name,onChange:a=>{let b=[...i.speakers];b[c].name=a.target.value,k({...i,speakers:b})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("input",{type:"text",placeholder:"Ãœnvan (Ã–rn: Sr. Engineer)",value:a.title,onChange:a=>{let b=[...i.speakers];b[c].title=a.target.value,k({...i,speakers:b})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"}),(0,b.jsx)("input",{type:"text",placeholder:"Åžirket / Kurum",value:a.company,onChange:a=>{let b=[...i.speakers];b[c].company=a.target.value,k({...i,speakers:b})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"})]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=i.speakers.filter((a,b)=>b!==c);k({...i,speakers:a})},className:"text-red-400 hover:text-red-300 p-2",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]},c)),(!i.speakers||0===i.speakers.length)&&(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"KonuÅŸmacÄ± eklenmemiÅŸ."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-300",children:"SÄ±kÃ§a Sorulan Sorular"}),(0,b.jsx)("button",{type:"button",onClick:()=>k({...i,faq:[...i.faq||[],{question:"",answer:""}]}),className:"text-xs bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700",children:"+ Ekle"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[i.faq&&i.faq.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/20 p-4 rounded-xl border border-slate-700/30 flex gap-4 items-start",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("input",{type:"text",placeholder:"Soru",value:a.question,onChange:a=>{let b=[...i.faq];b[c].question=a.target.value,k({...i,faq:b})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white font-bold text-sm"}),(0,b.jsx)("textarea",{placeholder:"Cevap",rows:2,value:a.answer,onChange:a=>{let b=[...i.faq];b[c].answer=a.target.value,k({...i,faq:b})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg p-2 text-white text-sm"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=i.faq.filter((a,b)=>b!==c);k({...i,faq:a})},className:"text-red-400 hover:text-red-300 p-2",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]},c)),(!i.faq||0===i.faq.length)&&(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"SSS eklenmemiÅŸ."})]})]}),(0,b.jsx)("button",{type:"submit",disabled:$,className:"w-full bg-gradient-to-r from-red-600 to-orange-600 text-white p-4 rounded-xl font-bold text-lg hover:scale-[1.02] transition-transform shadow-lg shadow-red-600/20",children:$?"...":"create"===a?"EtkinliÄŸi OluÅŸtur":"DeÄŸiÅŸiklikleri Kaydet"})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Etkinlikler (",O.length,")"]}),(0,b.jsxs)("button",{onClick:()=>{E(),d("create")},className:"bg-red-600 text-white px-4 py-2 rounded-xl font-bold flex gap-2 items-center",children:[(0,b.jsx)(l.Plus,{className:"w-4 h-4"})," Etkinlik Ekle"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:O.map(a=>(0,b.jsxs)("div",{className:"glass-dark border border-slate-700 rounded-xl p-6 relative",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.title}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm mb-4",children:[a.date?.split("T")[0]," - ",a.location]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{k({...a,images:a.images||[],schedule:a.schedule||[],speakers:a.speakers||[],faq:a.faq||[],requirements:a.requirements||"",coverImage:a.coverImage||"",registrationLink:a.registrationLink||""}),o(-1==a.capacity),h(a.id),d("edit")},className:"p-2 bg-slate-800 rounded-lg text-slate-300",children:(0,b.jsx)(v.Edit2,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>D(a),className:"p-2 bg-slate-800 rounded-lg text-blue-400",children:(0,b.jsx)(q.Users,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>G(a.id),className:"p-2 bg-slate-800 rounded-lg text-red-400",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]})]},a.id))}),(0,b.jsx)(f.AnimatePresence,{children:t&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>x(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-2xl relative z-10 shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6 p-6 border-b border-slate-800 bg-slate-900/50",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(q.Users,{className:"w-6 h-6 text-red-500"}),"KatÄ±lÄ±mcÄ± Listesi",(0,b.jsxs)("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",y.length," KiÅŸi)"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{ab(y.map(a=>({"Ad Soyad":a.name,"E-posta":a.email,Telefon:a.phone||"-","Ã–ÄŸrenci No":a.studentId||"-","KayÄ±t Tarihi":a.registeredAt?new Date(a.registeredAt).toLocaleDateString("tr-TR"):"-"})),`${B?.title.replace(/\s+/g,"-").toLowerCase()}-katilimcilar.xls`)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors",children:[(0,b.jsx)(F,{className:"w-4 h-4"})," Listeyi Ä°ndir"]}),(0,b.jsx)("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(p.X,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("div",{className:"overflow-auto p-6",children:y.length>0?(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700 text-slate-400 text-xs uppercase",children:[(0,b.jsx)("th",{className:"py-3",children:"Ad Soyad"}),(0,b.jsx)("th",{className:"py-3",children:"Ã–ÄŸrenci No"}),(0,b.jsx)("th",{className:"py-3",children:"Telefon"}),(0,b.jsx)("th",{className:"py-3",children:"E-posta"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-800",children:y.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 text-white font-bold",children:a.name}),(0,b.jsx)("td",{className:"py-3 text-slate-300 text-sm",children:a.studentId||"-"}),(0,b.jsx)("td",{className:"py-3 text-slate-300 text-sm",children:a.phone||"-"}),(0,b.jsx)("td",{className:"py-3 text-slate-300 text-sm",children:a.email||"-"})]},c))})]}):(0,b.jsx)("div",{className:"text-center py-12 text-slate-500",children:"HenÃ¼z katÄ±lÄ±mcÄ± yok."})}),(0,b.jsxs)("div",{className:"p-4 border-t border-slate-800 bg-slate-900/50 text-right text-xs text-slate-500",children:["Toplam ",y.length," katÄ±lÄ±mcÄ±"]})]})]})})]})},{}),"members"===Y&&(0,b.jsx)(()=>{let[a,d]=(0,c.useState)(!1),[g,h]=(0,c.useState)(!1),[i,k]=(0,c.useState)("members"),[m,n]=(0,c.useState)(!1),[o,q]=(0,c.useState)({id:0,name:"",role:"Uye",department:"",studentId:"",email:"",phone:"",joinedAt:new Date().getFullYear().toString(),avatar:"ðŸ‘¤",isFeatured:!1,customTitle:"",customImage:""}),r=Q.filter(a=>"pending"===a.status),s=Q.filter(a=>"pending"!==a.status),t=async a=>{await w({title:"Ãœye Silme OnayÄ±",message:"Bu Ã¼yeyi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger",confirmText:"Ãœyeyi Sil",cancelText:"VazgeÃ§"})&&((await fetch(`/api/members?id=${a}`,{method:"DELETE"})).ok?(R(Q.filter(b=>b.id!==a)),aa("Ãœye silindi.")):aa("Silme baÅŸarÄ±sÄ±z.","error"))},x=async a=>{let b=await fetch("/api/members",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id,status:"active",role:"Uye"})});if(b.ok){let c=await b.json();R(Q.map(b=>b.id===a.id?c:b)),aa("Ãœyelik onaylandÄ±!")}else aa("Onay iÅŸlemi baÅŸarÄ±sÄ±z.","error")},y=async a=>{a.preventDefault(),_(!0);try{let a=g?o:{...o,clubId:M.id,status:"active"},b=await fetch("/api/members",{method:g?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(b.ok){let a=await b.json();g?(R(Q.map(b=>b.id===a.id?a:b)),aa("Ãœye gÃ¼ncellendi.")):(R([...Q,a]),aa("Ãœye eklendi.")),d(!1)}else aa("Ä°ÅŸlem baÅŸarÄ±sÄ±z.","error")}catch(a){aa("Hata oluÅŸtu.","error")}finally{_(!1)}};return"roles"===i?(0,b.jsx)(()=>{let[a,d]=(0,c.useState)({name:"",color:"bg-slate-700",priority:10}),e=async b=>{b.preventDefault();let c={id:a.name.toLowerCase().replace(/\s+/g,"_"),...a},e=[...M.customRoles||[],c],f={...M,customRoles:e};try{await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),N(f),aa("Yeni rol eklendi!"),d({name:"",color:"bg-slate-700",priority:10})}catch(a){aa("Rol eklenemedi.","error")}},f=async a=>{if(!await w({title:"Rol Silme OnayÄ±",message:"Bu rolÃ¼ silmek istediÄŸinize emin misiniz?",type:"danger"}))return;let b=M.customRoles.filter(b=>b.id!==a),c={...M,customRoles:b};try{await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),N(c),aa("Rol silindi.")}catch(a){aa("Ä°ÅŸlem baÅŸarÄ±sÄ±z.","error")}};return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsxs)("button",{onClick:()=>k("members"),className:"flex items-center gap-1 text-slate-400 hover:text-white transition-colors",children:[(0,b.jsx)(j.ArrowLeft,{className:"w-4 h-4"})," Geri"]}),(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Rol YÃ¶netimi"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"glass-dark border border-slate-700/50 p-6 rounded-2xl h-fit",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Yeni Rol OluÅŸtur"}),(0,b.jsxs)("form",{onSubmit:e,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-xs font-bold mb-1",children:"Rol AdÄ±"}),(0,b.jsx)("input",{type:"text",required:!0,value:a.name,onChange:b=>d({...a,name:b.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg p-2 text-white",placeholder:"Ã–rn: Sosyal Medya Ekibi"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-xs font-bold mb-1",children:"Renk"}),(0,b.jsxs)("select",{value:a.color,onChange:b=>d({...a,color:b.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg p-2 text-white",children:[(0,b.jsx)("option",{value:"bg-slate-700",children:"Gri"}),(0,b.jsx)("option",{value:"bg-red-500/20 text-red-400 border-red-500/30 border",children:"KÄ±rmÄ±zÄ±"}),(0,b.jsx)("option",{value:"bg-blue-500/20 text-blue-400 border-blue-500/30 border",children:"Mavi"}),(0,b.jsx)("option",{value:"bg-green-500/20 text-green-400 border-green-500/30 border",children:"YeÅŸil"}),(0,b.jsx)("option",{value:"bg-purple-500/20 text-purple-400 border-purple-500/30 border",children:"Mor"}),(0,b.jsx)("option",{value:"bg-orange-500/20 text-orange-400 border-orange-500/30 border",children:"Turuncu"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-400 text-xs font-bold mb-1",children:"Ã–ncelik (1-100)"}),(0,b.jsx)("input",{type:"number",min:"1",max:"100",value:a.priority,onChange:b=>d({...a,priority:parseInt(b.target.value)}),className:"w-full bg-slate-900 border-slate-700 rounded-lg p-2 text-white"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 mt-1",children:"DÃ¼ÅŸÃ¼k sayÄ± = YÃ¼ksek Ã¶ncelik (1 en yÃ¼ksek)"})]})]}),(0,b.jsx)("button",{type:"submit",disabled:$,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 rounded-lg transition-colors",children:"OluÅŸtur"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"font-bold text-white",children:"Standart Roller"}),(0,b.jsx)("span",{className:"text-xs text-slate-500",children:"(Silinemez)"})]}),["Baskan","Yonetim Kurulu","Uye"].map(a=>(0,b.jsxs)("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800 text-slate-400 text-sm flex justify-between",children:[(0,b.jsx)("span",{children:a}),(0,b.jsx)(C.Lock,{className:"w-3 h-3 opacity-50"})]},a)),(0,b.jsx)("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 flex justify-between items-center mt-6",children:(0,b.jsx)("span",{className:"font-bold text-white",children:"Ã–zel Roller"})}),M.customRoles&&M.customRoles.map(a=>(0,b.jsxs)("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-800 text-white text-sm flex justify-between items-center group hover:border-slate-600 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full ${a.color&&a.color.includes("bg-")?a.color.split(" ")[0]:"bg-slate-500"}`}),(0,b.jsx)("span",{children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-slate-500",children:["Ã–ncelik: ",a.priority]})]}),(0,b.jsx)("button",{onClick:()=>f(a.id),className:"text-red-400 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]},a.id)),(!M.customRoles||0===M.customRoles.length)&&(0,b.jsx)("p",{className:"text-center text-slate-500 text-sm py-4",children:"HenÃ¼z Ã¶zel rol eklenmemiÅŸ."})]})]})]})},{}):(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 p-1 rounded-xl flex gap-1 border border-slate-700/50",children:[(0,b.jsx)("button",{onClick:()=>k("members"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${"members"===i?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Ãœyeler"}),(0,b.jsx)("button",{onClick:()=>k("roles"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${"roles"===i?"bg-slate-800 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"Roller & Yetkiler"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{ab(Q.map(a=>({"Ad Soyad":a.name,"E-posta":a.email,Telefon:a.phone||"-","Ã–ÄŸrenci No":a.studentId||"-",BÃ¶lÃ¼m:a.department||"-",Rol:"club_admin"===a.role?"YÃ¶netici":"Ãœye","KatÄ±lÄ±m Tarihi":a.joinedAt})),`${M.slug}-uyeler-${new Date().toISOString().split("T")[0]}.xls`)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors shadow-lg shadow-green-900/20",children:[(0,b.jsx)(F,{className:"w-5 h-5"})," Excel'e Aktar"]}),(0,b.jsxs)("button",{onClick:()=>{q({id:0,name:"",role:"Uye",department:"",studentId:"",email:"",phone:"",joinedAt:new Date().getFullYear().toString(),avatar:"ðŸ‘¤",isFeatured:!1,customTitle:"",customImage:""}),h(!1),d(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors shadow-lg shadow-red-900/20",children:[(0,b.jsx)(l.Plus,{className:"w-5 h-5"})," Yeni Ãœye Ekle"]})]})]}),r.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-black text-white flex items-center gap-3",children:[(0,b.jsx)("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Onay Bekleyenler (",r.length,")"]}),(0,b.jsx)("div",{className:"glass-dark border border-red-500/30 rounded-2xl overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-red-500/10 text-red-300 text-xs uppercase font-bold",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Aday Bilgisi"}),(0,b.jsx)("th",{className:"p-4",children:"BaÅŸvuru Nedeni"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-red-500/20",children:r.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-red-500/5 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-lg",children:a.avatar}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-bold text-sm",children:a.name}),(0,b.jsx)("div",{className:"text-slate-500 text-xs",children:a.department})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("p",{className:"text-slate-300 text-sm max-w-md truncate",children:a.reason||"BelirtilmemiÅŸ"})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>x(a),className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg text-xs font-bold transition-colors",children:"Onayla"}),(0,b.jsx)("button",{onClick:()=>t(a.id),className:"p-2 bg-slate-800 rounded-lg text-red-400 hover:text-white transition-colors",children:(0,b.jsx)(p.X,{className:"w-4 h-4"})})]})})]},a.id))})]})})]}),(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Aktif Ãœye Listesi (",s.length,")"]})}),(0,b.jsx)("div",{className:"glass-dark border border-slate-700/50 rounded-2xl overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-slate-800/50 text-slate-400 text-xs uppercase font-bold",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Ãœye Bilgisi"}),(0,b.jsx)("th",{className:"p-4",children:"Rol"}),(0,b.jsx)("th",{className:"p-4",children:"BÃ¶lÃ¼m"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:(0,b.jsx)(f.AnimatePresence,{children:s.map(a=>(0,b.jsxs)(e.motion.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-slate-800/30 transition-colors group",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"w-10 h-10 bg-slate-800 rounded-full flex items-center justify-center text-lg overflow-hidden relative",children:[a.isFeatured&&a.customImage?(0,b.jsx)("img",{src:a.customImage,alt:"Avatar",className:"w-full h-full object-cover"}):a.avatar,a.isFeatured&&(0,b.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 bg-yellow-400 rounded-full shadow-lg ring-2 ring-slate-900",title:"Vitrin Ãœyesi"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-white font-bold text-sm flex items-center gap-1",children:[a.name,a.customTitle&&(0,b.jsx)("span",{className:"text-[10px] bg-slate-700 px-1 rounded text-slate-300 font-normal",children:a.customTitle})]}),(0,b.jsxs)("div",{className:"text-slate-500 text-xs",children:["KatÄ±lÄ±m: ",a.joinedAt]})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Baskan"===a.role?"bg-red-500/20 text-red-400":"Yonetim Kurulu"===a.role?"bg-orange-500/20 text-orange-400":"Uye"===a.role?"bg-slate-700/50 text-slate-300":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:a.role})}),(0,b.jsx)("td",{className:"p-4 text-slate-300 text-sm",children:a.department}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{q({...a,isFeatured:a.isFeatured||!1,customTitle:a.customTitle||"",customImage:a.customImage||""}),h(!0),d(!0)},className:"p-2 bg-slate-800 rounded-lg text-slate-300 hover:text-white transition-colors",children:(0,b.jsx)(v.Edit2,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>t(a.id),className:"p-2 bg-slate-800 rounded-lg text-red-400 hover:text-white transition-colors",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})})]})}),(0,b.jsx)(f.AnimatePresence,{children:a&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,b.jsxs)(e.motion.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-lg relative z-10 shadow-2xl p-6 max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:g?"Ãœye DÃ¼zenle":"Yeni Ãœye Ekle"}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"Ad Soyad",required:!0,value:o.name,onChange:a=>q({...o,name:a.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"Rol"}),(0,b.jsxs)("select",{value:o.role,onChange:a=>q({...o,role:a.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white",children:[(0,b.jsx)("option",{value:"Uye",children:"Ãœye"}),(0,b.jsx)("option",{value:"Yonetim Kurulu",children:"YÃ¶netim Kurulu"}),(0,b.jsx)("option",{value:"Baskan",children:"BaÅŸkan"}),M.customRoles&&M.customRoles.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"BÃ¶lÃ¼m"}),(0,b.jsx)("input",{type:"text",placeholder:"BÃ¶lÃ¼m",value:o.department,onChange:a=>q({...o,department:a.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"})]})]}),(0,b.jsx)("input",{type:"email",placeholder:"E-posta",value:o.email,onChange:a=>q({...o,email:a.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4 mt-4",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-400 mb-3",children:"GeliÅŸmiÅŸ Ayarlar"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("input",{type:"checkbox",id:"isFeatured",checked:o.isFeatured,onChange:a=>q({...o,isFeatured:a.target.checked}),className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-red-600 focus:ring-red-500"}),(0,b.jsx)("label",{htmlFor:"isFeatured",className:"text-white text-sm font-bold cursor-pointer",children:"Vitrin Ãœyesi (Ã–ne Ã‡Ä±kar)"})]}),o.isFeatured&&(0,b.jsxs)("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"Ã–zel Ãœnvan"}),(0,b.jsx)("input",{type:"text",placeholder:"Ã–rn: Sosyal Medya YÃ¶neticisi",value:o.customTitle||"",onChange:a=>q({...o,customTitle:a.target.value}),className:"w-full bg-slate-800 border-slate-700 rounded-xl p-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs text-slate-400 font-bold mb-1 block",children:"Ã–zel FotoÄŸraf"}),(0,b.jsxs)("div",{className:"space-y-3",children:[o.customImage&&(0,b.jsxs)("div",{className:"relative group w-32 h-32 rounded-xl overflow-hidden border-2 border-slate-700",children:[(0,b.jsx)("img",{src:o.customImage,alt:"Preview",className:"w-full h-full object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>q({...o,customImage:""}),className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white font-bold",children:(0,b.jsx)(u.Trash2,{className:"w-6 h-6 text-red-400"})})]}),!o.customImage&&(0,b.jsx)("div",{className:"w-full",children:(0,b.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-700 border-dashed rounded-xl cursor-pointer bg-slate-800/50 hover:bg-slate-800 transition-colors",children:[(0,b.jsx)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:m?(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-2"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Upload,{className:"w-8 h-8 text-slate-400 mb-2"}),(0,b.jsx)("p",{className:"text-sm text-slate-400 font-bold mb-1",children:"FotoÄŸraf YÃ¼kle"}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Ã–nerilen: 500x500px (Kare) â€¢ Max 5MB"})]})}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",disabled:m,onChange:async a=>{if(a.target.files?.[0]){n(!0);try{let b=a.target.files[0],c=new FormData;c.append("file",b);let d=await fetch("/api/upload",{method:"POST",body:c});if(d.ok){let a=await d.json();q({...o,customImage:a.url})}else aa("YÃ¼kleme baÅŸarÄ±sÄ±z!","error")}catch(a){aa("Hata oluÅŸtu.","error")}finally{n(!1)}}}})]})})]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>d(!1),className:"text-slate-400 hover:text-white",children:"Ä°ptal"}),(0,b.jsx)("button",{type:"submit",disabled:$,className:"bg-red-600 text-white px-6 py-2 rounded-xl font-bold",children:$?"...":"Kaydet"})]})]})]})]})})]})},{}),"gallery"===Y&&(0,b.jsx)(()=>{let a=async a=>{if(!a.target.files||0===a.target.files.length)return;let b=Array.from(a.target.files);_(!0);try{let a=[],c=Date.now();for(let d=0;d<b.length;d++){let e=b[d],f=new FormData;f.append("file",e);try{let g=await fetch("/api/upload",{method:"POST",body:f});if(g.ok){let{url:b}=await g.json();a.push({id:c+d,url:b,caption:e.name}),console.log(`âœ… Uploaded: ${e.name} -> ${b}`)}else{let a=await g.json();console.error("âŒ Upload failed for",e.name,a),aa(`${e.name} y\xfcklenemedi: ${a.error||"Bilinmeyen hata"}`,"error")}d<b.length-1&&await new Promise(a=>setTimeout(a,200))}catch(a){console.error("âŒ Upload exception for",e.name,a),aa(`${e.name} y\xfcklenirken hata oluÅŸtu.`,"error")}}if(a.length>0){let b=[...S||[],...a];T(b);let c={...M,gallery:b};N(c);let d=await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(d.ok)aa(`âœ… ${a.length} fotoÄŸraf baÅŸarÄ±yla eklendi!`);else{let a=await d.json();console.error("âŒ Save failed:",a),aa("FotoÄŸraflar yÃ¼klendi ama kaydedilemedi!","error"),T(S),N(M)}}else aa("HiÃ§bir fotoÄŸraf yÃ¼klenemedi.","error")}catch(a){console.error("âŒ Gallery upload error:",a),aa("Beklenmeyen hata oluÅŸtu.","error")}finally{_(!1),a.target.value=""}},c=async a=>{if(await w({title:"Ãœye Silme OnayÄ±",message:"Bu Ã¼yeyi silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger",confirmText:"Ãœyeyi Sil",cancelText:"VazgeÃ§"})){let b=S.filter(b=>b.id!==a);T(b);let c={...M,gallery:b};await fetch("/api/clubs",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),aa("FotoÄŸraf silindi.")}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("h2",{className:"text-2xl font-black text-white",children:["Galeri YÃ¶netimi (",S.length,")"]}),(0,b.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,b.jsxs)("label",{className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 cursor-pointer transition-colors",children:[$?"YÃ¼kleniyor...":(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Upload,{className:"w-4 h-4"})," FotoÄŸraf YÃ¼kle"]}),(0,b.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:a,disabled:$})]}),(0,b.jsx)("span",{className:"text-xs text-slate-500",children:"Ã–nerilen: 1920x1080px (Yatay)"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:S.map(a=>(0,b.jsxs)("div",{className:"aspect-square bg-slate-800 rounded-xl relative group overflow-hidden",children:[(0,b.jsx)("img",{src:a.url,alt:"Gallery",className:"w-full h-full object-cover"}),(0,b.jsx)("button",{onClick:()=>c(a.id),className:"absolute top-2 right-2 p-2 bg-red-600 rounded-lg text-white opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(u.Trash2,{className:"w-4 h-4"})})]},a.id))})]})},{}),"settings"===Y&&(0,b.jsx)(G,{club:M,setClub:N,showNotification:aa})]},Y)})]})})]})}a.s(["default",()=>I],44543)}];

//# sourceMappingURL=app_kulupler_%5Bslug%5D_yonetim_page_tsx_71b1d749._.js.map