module.exports=[33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},50189,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(21261),e=a.i(38246),f=a.i(210),g=a.i(81560),h=a.i(15618),i=a.i(33508);let j=(0,a.i(70106).default)("list-filter",[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]]);var k=a.i(46271),l=a.i(62036);function m(){let{showConfirm:a,showAlert:m}=(0,d.useConfirm)(),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("Haber"),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)("eng"),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1);(0,c.useEffect)(()=>{J()},[]);let J=async()=>{try{let a=await fetch("/api/news");if(a.ok){let b=await a.json();o(b)}else await m("Haberler yüklenirken bir hata oluştu.","danger")}catch(a){console.error("Failed to fetch news",a),await m("Haberler yüklenirken bir hata oluştu.","danger")}finally{s(!1)}},K=async a=>{a.preventDefault(),(await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,date:x,category:v,summary:z,content:B,facultyId:D,image:F})})).ok?(J(),u(""),A(""),C(""),y(""),G(""),q(!1)):await m("Haber eklenirken hata oluştu.","danger")},L=async a=>{let b=a.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/"))return void await m("Lütfen sadece resim dosyası yükleyin.","danger");I(!0);let c=new FormData;c.append("file",b);try{let a=await fetch("/api/upload",{method:"POST",body:c});if(a.ok){let b=await a.json();G(b.url),await m("Resim başarıyla yüklendi!","success")}else await m("Resim yüklenirken hata oluştu.","danger")}catch(a){await m("Resim yüklenirken hata oluştu.","danger")}finally{I(!1)}},M=async b=>{await a({title:"Haber Silme Onayı",message:"Bu haberi silmek istediğinize emin misiniz?",type:"danger"})&&((await fetch(`/api/news?id=${b}`,{method:"DELETE"})).ok?J():await m("Haber silinemedi.","danger"))};return(0,b.jsxs)("main",{className:"min-h-screen bg-slate-50 relative pb-20",children:[(0,b.jsx)("div",{className:"bg-slate-900 text-white pt-8 pb-32 px-8",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,b.jsx)(e.default,{href:"/admin/content",className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("h1",{className:"text-3xl font-black",children:"Haber Yönetimi"})]})})}),(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-8 -mt-24 relative z-10",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase",children:"Toplam Haber"}),(0,b.jsx)("h2",{className:"text-3xl font-black text-slate-800",children:n.length})]}),(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,b.jsx)(j,{className:"w-6 h-6"})})]}),(0,b.jsxs)("button",{onClick:()=>q(!0),className:"bg-blue-600 text-white p-6 rounded-2xl shadow-lg shadow-blue-600/20 hover:bg-blue-700 transition-all flex items-center justify-center gap-3 md:col-span-2",children:[(0,b.jsx)(h.Plus,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-xl font-bold",children:"Yeni Haber Ekle"})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden min-h-[400px]",children:r?(0,b.jsx)("div",{className:"flex items-center justify-center h-full p-20 text-slate-400",children:"Yükleniyor..."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-100",children:[(0,b.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Tarih"}),(0,b.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Başlık"}),(0,b.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Kategori"}),(0,b.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Fakülte"}),(0,b.jsx)("th",{className:"p-6 text-xs font-bold text-slate-400 uppercase tracking-wider text-right",children:"İşlem"})]})}),(0,b.jsxs)("tbody",{children:[n.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-50 hover:bg-slate-50/50 transition-colors",children:[(0,b.jsx)("td",{className:"p-6 text-sm font-medium text-slate-500 whitespace-nowrap",children:a.date}),(0,b.jsxs)("td",{className:"p-6 max-w-md",children:[(0,b.jsx)("p",{className:"font-bold text-slate-800 truncate",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-slate-400 truncate",children:a.summary})]}),(0,b.jsx)("td",{className:"p-6",children:(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-xs font-bold",children:a.category})}),(0,b.jsx)("td",{className:"p-6 text-sm text-slate-500 uppercase font-mono",children:a.facultyId}),(0,b.jsx)("td",{className:"p-6 text-right",children:(0,b.jsx)("button",{onClick:()=>M(a.id),className:"p-2 text-red-400 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Sil",children:(0,b.jsx)(g.Trash2,{className:"w-5 h-5"})})})]},a.id)),0===n.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"p-12 text-center text-slate-400",children:"Henüz haber eklenmemiş."})})]})]})})})]}),(0,b.jsx)(l.AnimatePresence,{children:p&&(0,b.jsx)(k.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:()=>q(!1),children:(0,b.jsxs)(k.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-slate-800",children:"Yeni Haber Ekle"}),(0,b.jsx)("button",{onClick:()=>q(!1),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,b.jsx)(i.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("form",{onSubmit:K,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Başlık"}),(0,b.jsx)("input",{required:!0,type:"text",value:t,onChange:a=>u(a.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Haber başlığı..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Tarih"}),(0,b.jsx)("input",{required:!0,type:"text",value:x,onChange:a=>y(a.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Örn: 22 Ekim 2025"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Kategori"}),(0,b.jsxs)("select",{value:v,onChange:a=>w(a.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"Haber",children:"Haber"}),(0,b.jsx)("option",{value:"Etkinlik",children:"Etkinlik"}),(0,b.jsx)("option",{value:"Duyuru",children:"Duyuru"}),(0,b.jsx)("option",{value:"Başarı",children:"Başarı"}),(0,b.jsx)("option",{value:"Akademik",children:"Akademik"}),(0,b.jsx)("option",{value:"Kariyer",children:"Kariyer"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Fakülte ID"}),(0,b.jsxs)("select",{value:D,onChange:a=>E(a.target.value),className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"air",children:"Hava Ulaştırma (air)"}),(0,b.jsx)("option",{value:"aero",children:"Havacılık ve Uzay (aero)"}),(0,b.jsx)("option",{value:"eng",children:"Mühendislik (eng)"}),(0,b.jsx)("option",{value:"man",children:"İşletme (man)"}),(0,b.jsx)("option",{value:"genel",children:"Genel"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Özet (Kısa Açıklama)"}),(0,b.jsx)("textarea",{required:!0,value:z,onChange:a=>A(a.target.value),rows:2,className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium",placeholder:"Listede görünecek kısa özet..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Tam İçerik"}),(0,b.jsx)("textarea",{required:!0,value:B,onChange:a=>C(a.target.value),rows:6,className:"w-full p-4 rounded-xl bg-slate-50 border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium",placeholder:"Haberin detaylı içeriği..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700",children:"Haber Görseli"}),F?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:F,alt:"Preview",className:"w-full h-48 object-cover rounded-xl"}),(0,b.jsx)("button",{type:"button",onClick:()=>G(""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,b.jsx)(i.X,{className:"w-4 h-4"})})]}):(0,b.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:border-blue-500 hover:bg-blue-50/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,b.jsx)(h.Plus,{className:"w-10 h-10 text-slate-400 mb-2"}),(0,b.jsx)("p",{className:"text-sm font-bold text-slate-600",children:H?"Yükleniyor...":"Resim Yükle"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"PNG, JPG veya GIF"})]}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:L,disabled:H})]})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition-colors",children:"Yayınla"})]})]})})})]})}a.s(["default",()=>m],50189)}];

//# sourceMappingURL=_01af5294._.js.map