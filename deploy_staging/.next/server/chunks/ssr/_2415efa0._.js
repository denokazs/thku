module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},62722,a=>{"use strict";let b=(0,a.i(70106).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],62722)},15300,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(16201),g=a.i(62722),h=a.i(63588),i=a.i(69769),j=a.i(4720),k=a.i(96221),l=a.i(51243),m=a.i(81560);function n(){let[a,n]=(0,c.useState)("posts"),[o,p]=(0,c.useState)({posts:[],ratings:[],notes:[],teachers:[],exams:[]}),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)("pending"),w=async()=>{r(!0);try{let a=await fetch(`/api/admin/moderation?status=${u}`);if(a.ok){let b=await a.json();p(b)}}catch(a){console.error("Failed to fetch moderation queue",a)}finally{r(!1)}};(0,c.useEffect)(()=>{w()},[u]);let x=async(b,c)=>{t(b.id);try{(await fetch("/api/admin/moderation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:b.type,id:b.id,action:c,teacherId:b.teacherId})})).ok&&p(c=>({...c,[a]:c[a].filter(a=>a.id!==b.id)}))}catch(a){console.error("Action failed",a),alert("Action failed")}finally{t(null)}},y=()=>o[a];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-black text-slate-800",children:"Topluluk Moderasyonu"}),(0,b.jsx)("p",{className:"text-slate-500",children:"KullanÄ±cÄ± iÃ§eriklerini yÃ¶netin."})]}),(0,b.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>v("pending"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${"pending"===u?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Onay Bekleyenler"}),(0,b.jsx)("button",{onClick:()=>v("approved"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${"approved"===u?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"YayÄ±ndaki Ä°Ã§erikler"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 border-b border-slate-200 pb-1 overflow-x-auto",children:[(0,b.jsxs)("button",{onClick:()=>n("posts"),className:`px-4 py-2 rounded-t-lg font-bold flex items-center gap-2 transition-colors whitespace-nowrap ${"posts"===a?"bg-red-50 text-red-600 border-b-2 border-red-500":"text-slate-500 hover:bg-slate-50"}`,children:[(0,b.jsx)(h.MessageSquare,{className:"w-4 h-4"})," Forum",(0,b.jsx)("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full",children:o.posts.length})]}),(0,b.jsxs)("button",{onClick:()=>n("ratings"),className:`px-4 py-2 rounded-t-lg font-bold flex items-center gap-2 transition-colors whitespace-nowrap ${"ratings"===a?"bg-red-50 text-red-600 border-b-2 border-red-500":"text-slate-500 hover:bg-slate-50"}`,children:[(0,b.jsx)(i.GraduationCap,{className:"w-4 h-4"})," DeÄŸerlendirmeler",(0,b.jsx)("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full",children:o.ratings.length})]}),(0,b.jsxs)("button",{onClick:()=>n("notes"),className:`px-4 py-2 rounded-t-lg font-bold flex items-center gap-2 transition-colors whitespace-nowrap ${"notes"===a?"bg-red-50 text-red-600 border-b-2 border-red-500":"text-slate-500 hover:bg-slate-50"}`,children:[(0,b.jsx)(j.FileText,{className:"w-4 h-4"})," Notlar",(0,b.jsx)("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full",children:o.notes.length})]}),(0,b.jsxs)("button",{onClick:()=>n("teachers"),className:`px-4 py-2 rounded-t-lg font-bold flex items-center gap-2 transition-colors whitespace-nowrap ${"teachers"===a?"bg-red-50 text-red-600 border-b-2 border-red-500":"text-slate-500 hover:bg-slate-50"}`,children:[(0,b.jsx)(i.GraduationCap,{className:"w-4 h-4"})," Hocalar",(0,b.jsx)("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full",children:o.teachers.length})]}),(0,b.jsxs)("button",{onClick:()=>n("exams"),className:`px-4 py-2 rounded-t-lg font-bold flex items-center gap-2 transition-colors whitespace-nowrap ${"exams"===a?"bg-red-50 text-red-600 border-b-2 border-red-500":"text-slate-500 hover:bg-slate-50"}`,children:[(0,b.jsx)(l.FileArchive,{className:"w-4 h-4"})," SÄ±navlar",(0,b.jsx)("span",{className:"bg-slate-200 text-slate-600 text-xs px-2 py-0.5 rounded-full",children:o.exams.length})]})]}),q?(0,b.jsx)("div",{className:"flex justify-center p-12",children:(0,b.jsx)(k.Loader2,{className:"w-8 h-8 animate-spin text-slate-400"})}):0===y().length?(0,b.jsxs)("div",{className:"text-center p-12 bg-white rounded-2xl border border-dashed border-slate-300",children:[(0,b.jsx)(f.CheckCircle,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"pending"===u?"Bekleyen Ä°ÅŸlem Yok":"Ä°Ã§erik BulunamadÄ±"}),(0,b.jsx)("p",{className:"text-slate-500",children:"pending"===u?"Harika! TÃ¼m moderasyon iÅŸlemleri tamamlandÄ±.":"Bu kategoride onaylanmÄ±ÅŸ iÃ§erik yok."})]}):(0,b.jsx)("div",{className:"grid gap-4",children:(0,b.jsx)(e.AnimatePresence,{children:y().map(c=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,height:0},className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row gap-6",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400 font-mono uppercase",children:[(0,b.jsxs)("span",{children:["ID: ",c.id.slice(0,8)]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(c.createdAt).toLocaleString("tr-TR")}),"approved"===u&&(0,b.jsx)("span",{className:"text-green-600 font-bold bg-green-50 px-2 py-0.5 rounded",children:"YAYINDA"})]}),"posts"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-lg",children:c.authorAvatar||"ðŸ‘¤"}),(0,b.jsx)("span",{className:"font-bold text-slate-800",children:c.authorName||"Anonim"})]}),(0,b.jsx)("p",{className:"text-slate-700 whitespace-pre-line",children:c.content}),c.image&&(0,b.jsx)("img",{src:c.image,alt:"Post",className:"max-h-64 rounded-lg object-contain bg-slate-50 border border-slate-100 mt-2"})]}),"ratings"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"font-bold text-lg text-slate-800",children:[c.teacherName," ",(0,b.jsx)("span",{className:"text-slate-400 text-sm font-normal",children:"(Hoca)"})]}),(0,b.jsx)("div",{className:"flex items-center gap-1 text-yellow-500 font-bold text-lg",children:(0,b.jsxs)("span",{children:["Rating: ",c.score,"/5"]})}),(0,b.jsxs)("p",{className:"bg-slate-50 p-3 rounded-lg text-slate-600 italic border border-slate-100",children:['"',c.comment,'"']})]}),"notes"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold",children:c.course}),(0,b.jsx)("h3",{className:"font-bold text-lg text-slate-800",children:c.title})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:["YÃ¼kleyen: ",c.uploadedByName]}),(0,b.jsxs)("a",{href:c.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1 mt-1",children:[(0,b.jsx)(j.FileText,{className:"w-4 h-4"})," DosyayÄ± GÃ¶rÃ¼ntÃ¼le"]})]}),"teachers"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center text-2xl",children:c.image&&c.image.length>5?(0,b.jsx)("img",{src:c.image,className:"w-full h-full object-cover rounded-xl"}):(0,b.jsx)("span",{children:"ðŸ‘¨â€ðŸ«"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-lg text-slate-800",children:c.name}),(0,b.jsx)("span",{className:"text-sm bg-purple-100 text-purple-700 px-2 py-0.5 rounded font-medium",children:c.department})]})]}),c.addedBy&&(0,b.jsxs)("div",{className:"text-xs text-slate-400 mt-2",children:["Ã–neren ID: ",c.addedBy]})]}),"exams"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold",children:c.courseCode}),(0,b.jsxs)("h3",{className:"font-bold text-lg text-slate-800",children:[c.year," ",c.term," SÄ±navÄ±"]})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-500",children:["Ders AdÄ±: ",c.courseName||"-"]}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:["YÃ¼kleyen: ",c.uploadedByName," (",c.addedBy,")"]}),(0,b.jsxs)("a",{href:c.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1 mt-1",children:[(0,b.jsx)(l.FileArchive,{className:"w-4 h-4"})," SÄ±nav DosyasÄ±nÄ± Ä°ncele"]})]})]}),(0,b.jsx)("div",{className:"flex md:flex-col gap-2 justify-center border-t md:border-t-0 md:border-l border-slate-100 pt-4 md:pt-0 md:pl-6 min-w-[140px]",children:"pending"===u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>x(c,"approve"),disabled:s===c.id,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-bold shadow-lg shadow-green-500/20 transition-all hover:scale-105 disabled:opacity-50",children:[s===c.id?(0,b.jsx)(k.Loader2,{className:"animate-spin w-4 h-4"}):(0,b.jsx)(f.CheckCircle,{className:"w-5 h-5"}),"Onayla"]}),(0,b.jsxs)("button",{onClick:()=>x(c,"reject"),disabled:s===c.id,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-bold shadow-lg shadow-red-500/20 transition-all hover:scale-105 disabled:opacity-50",children:[(0,b.jsx)(g.XCircle,{className:"w-5 h-5"}),"Reddet"]})]}):(0,b.jsxs)("button",{onClick:()=>{confirm("Bu iÃ§eriÄŸi kalÄ±cÄ± olarak silmek istediÄŸinize emin misiniz?")&&x(c,"delete")},disabled:s===c.id,className:"w-full flex items-center justify-center gap-2 bg-red-100 text-red-600 hover:bg-red-600 hover:text-white px-4 py-3 rounded-lg font-bold transition-all disabled:opacity-50",children:[s===c.id?(0,b.jsx)(k.Loader2,{className:"animate-spin w-4 h-4"}):(0,b.jsx)(m.Trash2,{className:"w-5 h-5"}),"Sil"]})})]},c.id))})})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_2415efa0._.js.map