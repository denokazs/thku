module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},40531,89018,a=>{"use strict";var b=a.i(37936),c=a.i(66879),d=a.i(13095);async function e(){let a=await (0,c.readDb)();return Array.isArray(a.confessions)?a.confessions:[]}async function f(){return await e()}async function g(a,b,d){let e=await (0,c.readDb)();e.confessions||(e.confessions=[]);let f={id:Date.now(),text:a,user:b,type:d,likes:0,dislikes:0,status:"pending",timestamp:Date.now()};return e.confessions.unshift(f),await (0,c.writeDb)(e),f}async function h(a,b){let d=await (0,c.readDb)();d.confessions&&(d.confessions=d.confessions.map(c=>c.id===a?{...c,status:b}:c),await (0,c.writeDb)(d))}async function i(a,b,d){let e=await (0,c.readDb)();e.confessions&&(e.confessions=e.confessions.map(c=>c.id===a?{...c,likes:Math.max(0,(c.likes||0)+b),dislikes:Math.max(0,(c.dislikes||0)+d)}:c),await (0,c.writeDb)(e))}async function j(){let a=await (0,c.readDb)();return Array.isArray(a.comments)?a.comments:[]}async function k(a){let b=await j();return void 0!==a?b.filter(b=>b.confessionId===a):b}async function l(a,b,d,e){let f=await (0,c.readDb)();f.comments||(f.comments=[]);let g={id:Date.now(),confessionId:a,parentCommentId:e,text:b,user:d,likes:0,status:"pending",timestamp:Date.now()};return f.comments.unshift(g),await (0,c.writeDb)(f),g}async function m(a,b){let d=await (0,c.readDb)();d.comments&&(d.comments=d.comments.map(c=>c.id===a?{...c,status:b}:c),await (0,c.writeDb)(d))}async function n(a,b){let d=await (0,c.readDb)();d.comments&&(d.comments=d.comments.map(c=>c.id===a?{...c,likes:Math.max(0,c.likes+b)}:c),await (0,c.writeDb)(d))}(0,d.ensureServerEntryExports)([f,g,h,i]),(0,b.registerServerReference)(f,"0039a463ebb594c113ed52fb98b09994d88e7e16cd",null),(0,b.registerServerReference)(g,"7086b487069271ef8061b19ec6b5bb075d68b7e272",null),(0,b.registerServerReference)(h,"60f028cfb3d1bb0763fb3d0082c871cb20f4bf69d8",null),(0,b.registerServerReference)(i,"7057f357649cb246204c9b4ffbae7053876ebfe94d",null),a.s(["addConfessionAction",()=>g,"getConfessionsAction",()=>f,"updateConfessionStatusAction",()=>h,"updateConfessionVotesAction",()=>i],40531),(0,d.ensureServerEntryExports)([k,l,m,n]),(0,b.registerServerReference)(k,"4034c1876a42b0826f9b870007b9b3e0df6c91c34f",null),(0,b.registerServerReference)(l,"780ee099162eb2d058b9cbd436970058cf7224d12b",null),(0,b.registerServerReference)(m,"60fa2190b9a618fed2bbb9025dfe94767bde8a11f6",null),(0,b.registerServerReference)(n,"602b806037e766993bc6842033a67637cada092f9a",null),a.s(["addCommentAction",()=>l,"getCommentsAction",()=>k,"toggleCommentLikeAction",()=>n,"updateCommentStatusAction",()=>m],89018)},58493,a=>{"use strict";var b=a.i(40531),c=a.i(89018);a.s([],16400),a.i(16400),a.s(["0039a463ebb594c113ed52fb98b09994d88e7e16cd",()=>b.getConfessionsAction,"4034c1876a42b0826f9b870007b9b3e0df6c91c34f",()=>c.getCommentsAction,"602b806037e766993bc6842033a67637cada092f9a",()=>c.toggleCommentLikeAction,"60f028cfb3d1bb0763fb3d0082c871cb20f4bf69d8",()=>b.updateConfessionStatusAction,"60fa2190b9a618fed2bbb9025dfe94767bde8a11f6",()=>c.updateCommentStatusAction,"7057f357649cb246204c9b4ffbae7053876ebfe94d",()=>b.updateConfessionVotesAction,"7086b487069271ef8061b19ec6b5bb075d68b7e272",()=>b.addConfessionAction,"780ee099162eb2d058b9cbd436970058cf7224d12b",()=>c.addCommentAction],58493)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__99cdfa7c._.js.map