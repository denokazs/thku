{"version":3,"sources":["../../../../app/kulupler/KuluplerClient.tsx/__nextjs-internal-proxy.mjs","../../../../app/kulupler/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/kulupler/KuluplerClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/kulupler/KuluplerClient.tsx\",\n    \"default\",\n);\n","import { readDb } from '@/lib/db';\r\nimport KuluplerClient from './KuluplerClient';\r\n\r\n\r\nasync function getData() {\r\n    try {\r\n        const db = await readDb(['clubs', 'members', 'events']);\r\n        const clubs = (db.clubs || []).sort((a: any, b: any) => {\r\n            const orderA = a.displayOrder ?? 9999;\r\n            const orderB = b.displayOrder ?? 9999;\r\n            if (orderA !== orderB) return orderA - orderB;\r\n            return a.name.localeCompare(b.name);\r\n        });\r\n\r\n        return {\r\n            clubs: clubs.map((club: any) => ({\r\n                ...club,\r\n                memberCount: (db.members || []).filter((m: any) => m.clubId === club.id).length\r\n            })),\r\n            events: (db.events || []).map((event: any) => ({\r\n                ...event,\r\n                clubSlug: clubs.find((c: any) => c.id === event.clubId)?.slug || 'robotics'\r\n            }))\r\n        };\r\n    } catch (error) {\r\n        console.error('Failed to read DB:', error);\r\n        return { clubs: [], events: [] };\r\n    }\r\n}\r\n\r\nexport const dynamic = 'force-dynamic'; // Since it reads local file that changes\r\n\r\nexport default async function KuluplerPage() {\r\n    const { clubs, events } = await getData();\r\n\r\n    return <KuluplerClient clubs={clubs} events={events} />;\r\n}\r\n"],"names":[],"mappings":"kWAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,iSAAmS,EAChU,gEACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,6QAA+Q,EAC5S,4CACA,8GCLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGA,eAAe,IACX,GAAI,CACA,IAAM,EAAK,MAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,CAAC,QAAS,UAAW,SAAS,EAChD,EAAQ,AAAC,GAAG,KAAK,EAAI,EAAA,AAAE,EAAE,IAAI,CAAC,CAAC,EAAQ,KACzC,IAAM,EAAS,EAAE,YAAY,EAAI,KAC3B,EAAS,EAAE,YAAY,EAAI,YACjC,AAAI,IAAW,EAAe,EAAS,EAChC,EAAE,AADc,IACV,CAAC,aAAa,CAAC,EAAE,IAAI,CACtC,GAEA,MAAO,CACH,MAAO,EAAM,GAAG,CAAC,AAAC,IAAe,CAC7B,EAD4B,CACzB,CAAI,CACP,YAAa,AAAC,GAAG,OAAO,EAAI,EAAE,AAAF,EAAI,MAAM,CAAC,AAAC,GAAW,EAAE,MAAM,GAAK,EAAK,EAAE,EAAE,MAAM,AACnF,CAAC,GACD,OAAQ,CAAC,EAAG,MAAM,EAAI,EAAA,AAAE,EAAE,GAAG,CAAE,AAAD,IAAiB,CAC3C,GAD0C,AACvC,CAAK,CACR,SAAU,EAAM,IAAI,CAAC,AAAC,GAAW,EAAE,EAAE,GAAK,EAAM,MAAM,GAAG,MAAQ,WACrE,CAAC,CACL,CACJ,CAAE,MAAO,EAAO,CAEZ,OADA,QAAQ,KAAK,CAAC,qBAAsB,GAC7B,CAAE,MAAO,EAAE,CAAE,OAAQ,EAAE,AAAC,CACnC,CACJ,CAIe,eAAe,IAC1B,GAAM,OAAE,CAAK,CAAE,QAAM,CAAE,CAAG,MAAM,IAEhC,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,CAAC,MAAO,EAAO,OAAQ,GACjD,kCANuB,iBAAiB,yCAAyC","ignoreList":[0]}