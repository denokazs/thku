{"version":3,"sources":["../../../../node_modules/lucide-react/src/icons/map-pin.ts","../../../../app/admin/community/events/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Search, Rocket, Calendar, MapPin, Users, Star } from 'lucide-react';\r\n\r\ninterface Event {\r\n    id: number;\r\n    title: string;\r\n    description: string;\r\n    date: string;\r\n    location: string;\r\n    clubId: number;\r\n    attendees: number;\r\n    isFeatured: boolean;\r\n}\r\n\r\ninterface Club {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\nexport default function AdminEventsPage() {\r\n    const [events, setEvents] = useState<Event[]>([]);\r\n    const [clubs, setClubs] = useState<Club[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [processingId, setProcessingId] = useState<number | null>(null);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            const [eventsRes, clubsRes] = await Promise.all([\r\n                fetch('/api/events'),\r\n                fetch('/api/clubs')\r\n            ]);\r\n\r\n            if (eventsRes.ok && clubsRes.ok) {\r\n                const eventsData = await eventsRes.json();\r\n                const clubsData = await clubsRes.json();\r\n                setEvents(eventsData);\r\n                setClubs(clubsData);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch data', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const toggleFeatured = async (event: Event) => {\r\n        setProcessingId(event.id);\r\n        try {\r\n            const res = await fetch('/api/events', {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    id: event.id,\r\n                    isFeatured: !event.isFeatured\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                setEvents(prev => prev.map(e =>\r\n                    e.id === event.id ? { ...e, isFeatured: !e.isFeatured } : e\r\n                ));\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to toggle featured status', error);\r\n        } finally {\r\n            setProcessingId(null);\r\n        }\r\n    };\r\n\r\n    const getClubName = (clubId: number) => {\r\n        return clubs.find(c => c.id === clubId)?.name || 'Bilinmeyen Kulüp';\r\n    };\r\n\r\n    const filteredEvents = events.filter(e =>\r\n        e.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        getClubName(e.clubId).toLowerCase().includes(searchQuery.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-black text-slate-800\">Etkinlik Yönetimi</h1>\r\n                    <p className=\"text-slate-500\">Etkinlikleri düzenle ve öne çıkanları belirle</p>\r\n                </div>\r\n                <div className=\"relative w-full md:w-64\">\r\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Etkinlik veya kulüp ara...\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        className=\"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden\">\r\n                <table className=\"w-full text-left\">\r\n                    <thead className=\"bg-slate-50 border-b border-slate-100\">\r\n                        <tr>\r\n                            <th className=\"p-4 text-sm font-semibold text-slate-600\">Etkinlik</th>\r\n                            <th className=\"p-4 text-sm font-semibold text-slate-600\">Kulüp</th>\r\n                            <th className=\"p-4 text-sm font-semibold text-slate-600\">Konum & Tarih</th>\r\n                            <th className=\"p-4 text-sm font-semibold text-slate-600 text-center\">Öne Çıkar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-slate-100\">\r\n                        {filteredEvents.map((event) => (\r\n                            <tr key={event.id} className=\"hover:bg-slate-50 transition-colors\">\r\n                                <td className=\"p-4\">\r\n                                    <div className=\"font-bold text-slate-900\">{event.title}</div>\r\n                                    <div className=\"text-xs text-slate-500 max-w-xs line-clamp-1\">{event.description}</div>\r\n                                </td>\r\n                                <td className=\"p-4\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span className=\"text-sm font-medium text-blue-600 bg-blue-50 px-2 py-0.5 rounded-md\">\r\n                                            {getClubName(event.clubId)}\r\n                                        </span>\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"p-4\">\r\n                                    <div className=\"flex flex-col gap-1 text-sm text-slate-600\">\r\n                                        <div className=\"flex items-center gap-1.5\">\r\n                                            <Calendar className=\"w-3.5 h-3.5\" />\r\n                                            {new Date(event.date).toLocaleDateString('tr-TR')}\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-1.5\">\r\n                                            <MapPin className=\"w-3.5 h-3.5\" />\r\n                                            {event.location}\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"p-4 text-center\">\r\n                                    <button\r\n                                        onClick={() => toggleFeatured(event)}\r\n                                        disabled={processingId === event.id}\r\n                                        className={`\r\n                                            p-2 rounded-lg transition-all\r\n                                            ${event.isFeatured\r\n                                                ? 'bg-yellow-100 text-yellow-600 hover:bg-yellow-200'\r\n                                                : 'bg-slate-100 text-slate-400 hover:bg-slate-200 hover:text-slate-600'\r\n                                            }\r\n                                            ${processingId === event.id ? 'opacity-50 cursor-wait' : ''}\r\n                                        `}\r\n                                        title={event.isFeatured ? \"Öne Çıkarılanlardan Kaldır\" : \"Öne Çıkar\"}\r\n                                    >\r\n                                        <Star className={`w-5 h-5 ${event.isFeatured ? 'fill-current' : ''}`} />\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n\r\n                {filteredEvents.length === 0 && (\r\n                    <div className=\"p-8 text-center text-slate-500\">\r\n                        Arama kriterlerinize uygun etkinlik bulunamadı.\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}