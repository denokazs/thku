module.exports=[33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},10448,a=>{"use strict";let b=(0,a.i(70106).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],10448)},47468,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(15618),g=a.i(87532),h=a.i(10448),i=a.i(81560),j=a.i(14548),k=a.i(33508),l=a.i(46842),m=a.i(21261);function n(){let[a,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(""),{showConfirm:w,showAlert:x}=(0,m.useConfirm)(),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)({id:0,name:"",username:"",email:"",phone:"",studentId:"",role:"user",clubId:void 0,password:""}),[E,F]=(0,c.useState)(!1);(0,c.useEffect)(()=>{G(),H()},[]);let G=async()=>{try{t(null);let a=await fetch("/api/users",{credentials:"include",cache:"no-store"});if(!a.ok){let b=await a.json();throw Error(b.error||`HTTP ${a.status}`)}let b=await a.json();n(Array.isArray(b)?b:[])}catch(a){console.error("Failed to fetch users:",a),t(a.message||"Failed to load users")}finally{r(!1)}},H=async()=>{try{let a=await fetch("/api/clubs"),b=await a.json();p(Array.isArray(b)?b:[])}catch(a){console.error("Failed to fetch clubs:",a)}},I=async b=>{if(await w({title:"KullanÄ±cÄ± Silme OnayÄ±",message:"Bu kullanÄ±cÄ±yÄ± silmek istediÄŸinize emin misiniz? Bu iÅŸlem geri alÄ±namaz.",type:"danger",confirmText:"Sil",cancelText:"VazgeÃ§"}))try{let c=await fetch("/api/users/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b})});if(c.ok)n(a.filter(a=>a.id!==b));else{let a=await c.json();await x(a.error||"Silme iÅŸlemi baÅŸarÄ±sÄ±z.","danger")}}catch(a){await x(a.message||"Hata oluÅŸtu.","danger")}},J=async a=>{if(a.preventDefault(),F(!0),C.password&&C.password.length<8){await x("Åžifre en az 8 karakter olmalÄ±dÄ±r.","warning"),F(!1);return}try{let a=await fetch("/api/users",{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(a.ok)await G(),z(!1),await x(A?"KullanÄ±cÄ± gÃ¼ncellendi.":"KullanÄ±cÄ± oluÅŸturuldu.","success");else{let b=await a.json();await x(b.error||"Ä°ÅŸlem baÅŸarÄ±sÄ±z.","danger")}}catch(a){await x("Hata oluÅŸtu.","danger")}finally{F(!1)}},K=a.filter(a=>a.name?.toLowerCase().includes(u.toLowerCase())||a.username?.toLowerCase().includes(u.toLowerCase())||a.email?.toLowerCase().includes(u.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"KullanÄ±cÄ± YÃ¶netimi"}),(0,b.jsxs)("button",{onClick:()=>{D({id:0,name:"",username:"",email:"",phone:"",studentId:"",role:"user",clubId:void 0,password:""}),B(!1),z(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors",children:[(0,b.jsx)(f.Plus,{className:"w-5 h-5"})," Yeni KullanÄ±cÄ±"]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,b.jsx)("input",{type:"text",placeholder:"KullanÄ±cÄ± adÄ±, isim veya e-posta ara...",value:u,onChange:a=>v(a.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all font-medium text-slate-800"})]}),(0,b.jsx)("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200 text-slate-500 text-xs uppercase font-bold",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"KullanÄ±cÄ±"}),(0,b.jsx)("th",{className:"p-4",children:"Ä°letiÅŸim"}),(0,b.jsx)("th",{className:"p-4",children:"Rol"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:q?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"YÃ¼kleniyor..."})}):s?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:4,className:"p-8 text-center text-red-500 font-bold",children:["Hata: ",s]})}):0===K.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"KullanÄ±cÄ± bulunamadÄ±."})}):K.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400",children:(0,b.jsx)(l.User,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-slate-800",children:a.name||"Ä°simsiz"}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["@",a.username]}),a.studentId&&(0,b.jsxs)("div",{className:"text-xs text-blue-500 font-medium",children:["#",a.studentId]})]})]})}),(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-600",children:a.email}),(0,b.jsx)("div",{className:"text-xs text-slate-400",children:a.phone})]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-md text-xs font-bold ${"super_admin"===a.role?"bg-red-100 text-red-600":"club_admin"===a.role?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:a.role}),"club_admin"===a.role&&a.clubId&&(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["ðŸ›ï¸ ",o.find(b=>b.id===a.clubId)?.name||`Kul\xfcp #${a.clubId}`]})]})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{D({...a,password:""}),B(!0),z(!0)},className:"p-2 hover:bg-slate-200 rounded-lg text-slate-500 hover:text-blue-600 transition-colors",children:(0,b.jsx)(h.Edit2,{className:"w-4 h-4"})}),"1"!==String(a.id)&&"admin"!==a.username&&(0,b.jsx)("button",{onClick:()=>I(a.id),className:"p-2 hover:bg-red-100 rounded-lg text-slate-500 hover:text-red-600 transition-colors",children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})}),(0,b.jsx)(e.AnimatePresence,{children:y&&(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>z(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl w-full max-w-lg relative z-10 shadow-2xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:A?"KullanÄ±cÄ± DÃ¼zenle":"Yeni KullanÄ±cÄ±"}),(0,b.jsx)("button",{onClick:()=>z(!1),className:"p-2 hover:bg-slate-200 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",children:(0,b.jsx)(k.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:J,className:"p-6 space-y-4 max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ad Soyad"}),(0,b.jsx)("input",{type:"text",required:!0,value:C.name,onChange:a=>D({...C,name:a.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KullanÄ±cÄ± AdÄ±"}),(0,b.jsx)("input",{type:"text",required:!0,value:C.username,onChange:a=>D({...C,username:a.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Ã–ÄŸrenci No (Opsiyonel)"}),(0,b.jsx)("input",{type:"text",value:C.studentId,onChange:a=>D({...C,studentId:a.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"E-posta"}),(0,b.jsx)("input",{type:"email",required:!0,value:C.email,onChange:a=>D({...C,email:a.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Telefon"}),(0,b.jsx)("input",{type:"tel",value:C.phone,onChange:a=>D({...C,phone:a.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Rol"}),(0,b.jsxs)("select",{value:C.role,onChange:a=>D({...C,role:a.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all",children:[(0,b.jsx)("option",{value:"user",children:"Ã–ÄŸrenci / KullanÄ±cÄ±"}),(0,b.jsx)("option",{value:"club_admin",children:"KulÃ¼p YÃ¶neticisi"}),(0,b.jsx)("option",{value:"super_admin",children:"SÃ¼per Admin"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:["Åžifre ",A&&"(BoÅŸ BÄ±rakÄ±labilir)"]}),(0,b.jsx)("input",{type:"password",value:C.password,onChange:a=>D({...C,password:a.target.value}),placeholder:A?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"",className:"w-full bg-slate-50 border border-slate-200 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all"})]})]}),"club_admin"===C.role&&(0,b.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-orange-700 mb-2",children:"YÃ¶netilen KulÃ¼p *"}),(0,b.jsxs)("select",{required:!0,value:C.clubId||"",onChange:a=>D({...C,clubId:a.target.value?parseInt(a.target.value):void 0}),className:"w-full bg-white border border-orange-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",children:[(0,b.jsx)("option",{value:"",children:"KulÃ¼p SeÃ§iniz..."}),o.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]}),(0,b.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"ðŸ’¡ Bu kullanÄ±cÄ± sadece seÃ§ilen kulÃ¼bÃ¼ yÃ¶netebilecektir."})]}),(0,b.jsxs)("div",{className:"pt-4 flex justify-end gap-3 border-t border-slate-100",children:[(0,b.jsx)("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 rounded-xl font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-colors",children:"Ä°ptal"}),(0,b.jsxs)("button",{type:"submit",disabled:E,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-xl font-bold transition-colors disabled:opacity-50 flex items-center gap-2",children:[(0,b.jsx)(j.Save,{className:"w-4 h-4"}),E?"Kaydediliyor...":"Kaydet"]})]})]})]})]})})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_b9760059._.js.map