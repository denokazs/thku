module.exports=[307,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(81560),f=a.i(16201),g=a.i(92e3),h=a.i(33508);let i=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var j=a.i(73320);function k(){let[a,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)("clubs"),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)({name:"",slug:"",category:"",description:"",logo:""}),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)({username:"",password:"",role:"club_admin",clubId:""}),[B,C]=(0,c.useState)(null),D=(a,b="success")=>{C({type:b,message:a}),setTimeout(()=>C(null),3e3)};(0,c.useEffect)(()=>{E()},[]);let E=async()=>{q(!0);try{let[a,b]=await Promise.all([fetch("/api/clubs"),fetch("/api/users")]);a.ok&&k(await a.json()),b.ok&&m(await b.json())}catch(a){console.error("Failed to fetch data")}finally{q(!1)}},F=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void D("LÃ¼tfen bir resim dosyasÄ± seÃ§in.","error");if(b.size>2097152)return void D("Resim boyutu 2MB'den kÃ¼Ã§Ã¼k olmalÄ±dÄ±r.","error");w(!0);try{let a=new FormData;a.append("file",b);let c=await fetch("/api/upload",{method:"POST",body:a});if(c.ok){let{url:a}=await c.json();u({...t,logo:a}),D("Logo yÃ¼klendi!")}else D("YÃ¼kleme baÅŸarÄ±sÄ±z.","error")}catch(a){D("Hata oluÅŸtu.","error")}finally{w(!1)}}},G=async b=>{b.preventDefault();try{let b={...t,longDescription:t.description,president:{name:"AtanmadÄ±",email:"",avatar:"ðŸ‘¤"},socialMedia:{},meetingDay:"Belirlenmedi",meetingLocation:"Belirlenmedi",isActive:!0,gallery:[],memberCount:0,foundedYear:new Date().getFullYear()},c=await fetch("/api/clubs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(c.ok){let b=await c.json();k([...a,b]),D("Yeni kulÃ¼p oluÅŸturuldu."),s(!1),u({name:"",slug:"",category:"",description:"",logo:""})}else{let a=await c.json(),b=a.details?a.details.map(a=>a.message).join(", "):a.error||"KulÃ¼p oluÅŸturulamadÄ±.";D(b,"error")}}catch(a){D("Hata oluÅŸtu.","error")}},H=async b=>{if(confirm("Bu kulÃ¼bÃ¼ ve baÄŸlÄ± tÃ¼m iÃ§erikleri silmek istediÄŸinize emin misiniz?"))try{(await fetch(`/api/clubs?id=${b}`,{method:"DELETE"})).ok?(k(a.filter(a=>a.id!==b)),D("KulÃ¼p silindi.")):D("Silinirken hata oluÅŸtu.","error")}catch(a){D("Hata oluÅŸtu.","error")}},I=async a=>{a.preventDefault();try{let a={...z,clubId:"club_admin"===z.role?Number(z.clubId):void 0},b=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(b.ok){let a=await b.json();m([...l,a]),D("KullanÄ±cÄ± oluÅŸturuldu."),y(!1),A({username:"",password:"",role:"club_admin",clubId:""})}else{let a=await b.json();D(a.error||"OluÅŸturulamadÄ±.","error")}}catch(a){D("Hata oluÅŸtu.","error")}},J=async a=>{if(confirm("Bu kullanÄ±cÄ±yÄ± silmek istediÄŸinize emin misiniz?"))try{let b=await fetch(`/api/users?id=${a}`,{method:"DELETE"});if(b.ok)m(l.filter(b=>b.id!==a)),D("KullanÄ±cÄ± silindi.");else{let a=await b.json();D(a.error||"Silinemedi.","error")}}catch(a){D("Hata oluÅŸtu.","error")}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-800",children:"KulÃ¼p & Hesap YÃ¶netimi"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>o("clubs"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${"clubs"===n?"bg-blue-950 text-white":"bg-white text-slate-500 hover:bg-slate-100"}`,children:"KulÃ¼pler"}),(0,b.jsx)("button",{onClick:()=>o("users"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${"users"===n?"bg-blue-950 text-white":"bg-white text-slate-500 hover:bg-slate-100"}`,children:"KullanÄ±cÄ±lar"})]})]}),B&&(0,b.jsxs)("div",{className:`p-4 rounded-xl flex items-center gap-3 font-bold border ${"success"===B.type?"bg-green-50 text-green-600 border-green-200":"bg-red-50 text-red-600 border-red-200"}`,children:["success"===B.type?(0,b.jsx)(f.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(g.AlertCircle,{className:"w-5 h-5"}),B.message]}),"clubs"===n?(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,b.jsxs)("h2",{className:"font-bold text-slate-700",children:["TÃ¼m KulÃ¼pler (",a.length,")"]}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2 transition-colors",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"})," Yeni KulÃ¼p"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Logo"}),(0,b.jsx)("th",{className:"p-4",children:"KulÃ¼p AdÄ±"}),(0,b.jsx)("th",{className:"p-4",children:"ID / Slug"}),(0,b.jsx)("th",{className:"p-4",children:"Kategori"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:a.logo?.startsWith("/")||a.logo?.startsWith("http")?(0,b.jsx)("img",{src:a.logo,alt:a.name,className:"w-10 h-10 object-cover rounded-lg"}):(0,b.jsx)("span",{className:"text-2xl",children:a.logo})}),(0,b.jsx)("td",{className:"p-4 font-bold text-slate-800",children:a.name}),(0,b.jsxs)("td",{className:"p-4 text-slate-500 text-xs font-mono",children:[a.id," / ",(0,b.jsx)("span",{className:"p-1 bg-slate-100 rounded",children:a.slug})]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:"text-xs uppercase font-bold text-slate-500",children:a.category})}),(0,b.jsx)("td",{className:"p-4 text-right flex justify-end gap-2",children:(0,b.jsx)("button",{onClick:()=>H(a.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(e.Trash2,{className:"w-4 h-4"})})})]},a.id)),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:"HenÃ¼z kulÃ¼p bulunmuyor."})})]})]})})]}):(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,b.jsxs)("h2",{className:"font-bold text-slate-700",children:["Sistem KullanÄ±cÄ±larÄ± (",l.length,")"]}),(0,b.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold text-xs flex items-center gap-2 transition-colors",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"})," Yeni KullanÄ±cÄ±"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"KullanÄ±cÄ± AdÄ±"}),(0,b.jsx)("th",{className:"p-4",children:"Rol"}),(0,b.jsx)("th",{className:"p-4",children:"Ä°liÅŸkili KulÃ¼p"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Ä°ÅŸlemler"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-100",children:l.map(c=>{let d=c.clubId?a.find(a=>a.id===c.clubId):null;return(0,b.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,b.jsxs)("td",{className:"p-4 font-bold text-slate-800 flex items-center gap-2",children:[(0,b.jsx)(i,{className:"w-4 h-4 text-slate-400"}),c.username]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase ${"super_admin"===c.role?"bg-purple-100 text-purple-600":"club_admin"===c.role?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-600"}`,children:"super_admin"===c.role?"SÃ¼per Admin":"club_admin"===c.role?"KulÃ¼p YÃ¶neticisi":"Ã–ÄŸrenci"})}),(0,b.jsx)("td",{className:"p-4",children:d?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{children:d.logo}),(0,b.jsx)("span",{className:"text-slate-600 font-medium",children:d.name})]}):(0,b.jsx)("span",{className:"text-slate-400",children:"-"})}),(0,b.jsx)("td",{className:"p-4 text-right",children:"super_admin"!==c.role&&(0,b.jsx)("button",{onClick:()=>J(c.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,b.jsx)(e.Trash2,{className:"w-4 h-4"})})})]},c.id)})})]})})]}),r&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Yeni KulÃ¼p Ekle"}),(0,b.jsx)("button",{onClick:()=>s(!1),className:"bg-slate-100 p-2 rounded-full hover:bg-slate-200 transition-colors",children:(0,b.jsx)(h.X,{className:"w-5 h-5 text-slate-500"})})]}),(0,b.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KulÃ¼p AdÄ±"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:t.name,onChange:a=>u({...t,name:a.target.value}),placeholder:"Ã–rn: HavacÄ±lÄ±k KulÃ¼bÃ¼"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Slug (URL)"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:t.slug,onChange:a=>u({...t,slug:a.target.value}),placeholder:"ornek-kulup"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Logo"}),(0,b.jsxs)("div",{className:"space-y-2",children:[t.logo&&(0,b.jsx)("div",{className:"flex items-center justify-center p-4 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200",children:t.logo.startsWith("/")||t.logo.startsWith("http")?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:t.logo,alt:"Logo",className:"w-20 h-20 object-cover rounded-lg"}),(0,b.jsx)("button",{type:"button",onClick:()=>u({...t,logo:""}),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,b.jsx)(h.X,{className:"w-3 h-3"})})]}):(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"text-6xl",children:t.logo}),(0,b.jsx)("button",{type:"button",onClick:()=>u({...t,logo:""}),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600",children:(0,b.jsx)(h.X,{className:"w-3 h-3"})})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",className:"flex-1 p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:t.logo.startsWith("/")||t.logo.startsWith("http")?"":t.logo,onChange:a=>u({...t,logo:a.target.value}),placeholder:"âœˆï¸ Emoji girin veya resim yÃ¼kleyin",disabled:v||t.logo.startsWith("/")||t.logo.startsWith("http")}),(0,b.jsxs)("label",{className:"relative",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:F,className:"hidden",disabled:v}),(0,b.jsx)("div",{className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl cursor-pointer transition-colors flex items-center justify-center",children:v?(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,b.jsx)(j.Upload,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"ðŸ’¡ Emoji veya resim (maks. 2MB)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Kategori"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500",value:t.category,onChange:a=>u({...t,category:a.target.value}),placeholder:"Teknoloji, Sanat, Spor..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KÄ±sa AÃ§Ä±klama"}),(0,b.jsx)("textarea",{required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-red-500 resize-none",rows:3,value:t.description,onChange:a=>u({...t,description:a.target.value}),placeholder:"KulÃ¼p hakkÄ±nda kÄ±sa bir aÃ§Ä±klama..."})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-red-600 text-white font-bold py-3 rounded-xl hover:bg-red-700 transition-colors",children:"OluÅŸtur"})]})]})}),x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Yeni KullanÄ±cÄ± Ekle"}),(0,b.jsx)("button",{onClick:()=>y(!1),className:"bg-slate-100 p-2 rounded-full hover:bg-slate-200 transition-colors",children:(0,b.jsx)(h.X,{className:"w-5 h-5 text-slate-500"})})]}),(0,b.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"KullanÄ±cÄ± AdÄ±"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:z.username,onChange:a=>A({...z,username:a.target.value}),placeholder:"kullanici_adi"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Åžifre"}),(0,b.jsx)("input",{type:"text",required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:z.password,onChange:a=>A({...z,password:a.target.value}),placeholder:"Åžifre"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Rol"}),(0,b.jsxs)("select",{className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:z.role,onChange:a=>A({...z,role:a.target.value}),children:[(0,b.jsx)("option",{value:"user",children:"Ã–ÄŸrenci / Ãœye"}),(0,b.jsx)("option",{value:"club_admin",children:"KulÃ¼p YÃ¶neticisi"}),(0,b.jsx)("option",{value:"super_admin",children:"SÃ¼per Admin"})]})]}),"club_admin"===z.role&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Hangi KulÃ¼bÃ¼ YÃ¶netecek?"}),(0,b.jsxs)("select",{required:!0,className:"w-full p-3 border border-slate-200 rounded-xl outline-none focus:border-blue-500",value:z.clubId,onChange:a=>A({...z,clubId:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"SeÃ§iniz..."}),a.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition-colors",children:"OluÅŸtur"})]})]})})]})}a.s(["default",()=>k],307)}];

//# sourceMappingURL=app_admin_clubs_page_tsx_3566a01c._.js.map